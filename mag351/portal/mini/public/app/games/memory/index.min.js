"use strict";function elattr(obj,attr){if(obj&&obj.nodeType&&attr&&attr instanceof Object)for(var key in attr)attr.hasOwnProperty(key)&&(obj[key]=attr[key]);return obj}function element(name,attr,data){var tag=document.createElement(name);return elattr(tag,attr),elchild(tag,data),tag}function elchild(obj,value){if(obj&&value)if(value.nodeType)obj.appendChild(value);else if(Array.isArray(value))for(var i=0;i<value.length;i++)elchild(obj,value[i]);else obj.appendChild(document.createTextNode(value));return obj}function elclear(obj){if(null!==obj&&obj.nodeName&&obj.hasChildNodes())for(;obj.hasChildNodes();)obj.removeChild(obj.firstChild);return obj}function loadScript(src,onload,onerror){var elem=document.createElement("script");elem.type="text/javascript",elem.src=src,"function"==typeof onload&&(elem.onload=onload),"function"==typeof onerror&&(elem.onerror=onerror),document.head.appendChild(elem)}function getCurrentLanguage(langList){var langEnv=JSON.parse(gSTB.GetEnv('{"varList":["language"]}')),langVal="en";return langList=langList||["en","ru","uk","de","tr"],!langEnv.errMsg&&langEnv.result&&langEnv.result.language&&"string"==typeof langEnv.result.language&&(langEnv.result.language=langEnv.result.language.toLowerCase(),-1!==langList.indexOf(langEnv.result.language)&&(langVal=langEnv.result.language)),langVal}function getEnvList(list){var data;try{if(data=JSON.parse(gSTB.GetEnv(JSON.stringify({varList:list}))),""!==data.errMsg)throw new Error(data.errMsg);return data.result}catch(e){echo(e)}return!1}function getEnv(name){var data=getEnvList([name]);return data!==!1&&void 0!==data[name]?data[name]:data}function setEnv(key,value){var vars={};return vars[key]=value,setEnvList(vars)}function setEnvList(hash){try{return gSTB.SetEnv(JSON.stringify(hash))}catch(e){echo(e)}return!1}function eventPrepare(event,stopBubble,label){return void 0!==event.code?!0:(event.code=event.keyCode||event.which,0===event.code?!1:(event.shiftKey&&(event.code+=1e3),event.altKey&&(event.code+=2e3),event.code===KEYS.USB_MOUNTED||event.code===KEYS.USB_UNMOUNTED?!1:(stopBubble!==!1&&event.stopPropagation(),echo(event.code+"	"+event.shiftKey+"	"+event.ctrlKey+"	"+event.altKey+"	"+event.srcElement.id+"	"+event.target.id+"	"+(label||""),"keyDown [code/shift/ctrl/alt/src/target]"),!0)))}function ajax(method,url,callback,headers,type,async){var hname,jdata=null,timeout=null,xhr=new XMLHttpRequest,title="AJAX "+method.toUpperCase()+" "+url;if(async=async!==!1,xhr.onreadystatechange=function(){if(4===xhr.readyState)if(clearTimeout(timeout),ajax.stop)echo(xhr.status,title),"function"==typeof callback&&callback(null,null,null);else{if(echo("status:"+xhr.status+", length:"+xhr.responseText.length,title),"json"===type&&200===xhr.status)try{jdata=JSON.parse(xhr.responseText)}catch(e){echo(e,"AJAX JSON.parse"),jdata=null}"function"==typeof callback&&callback("xml"===type?xhr.responseXML:"json"===type?jdata:xhr.responseText,xhr.status,xhr)}},xhr.open(method,url,async),headers)for(hname in headers)headers.hasOwnProperty(hname)&&xhr.setRequestHeader(hname,headers[hname]);return xhr.send(),echo("sent",title),timeout=setTimeout(function(){xhr.abort(),echo("ABORT on timeout",title),"function"==typeof callback&&callback(null,0)},6e4),xhr}function imageLoader(imgList,callback){var count=1,onload=function(){imgList.length===count&&"function"==typeof callback?callback():count++};Array.isArray(imgList)&&imgList.length>0?imgList.forEach(function(item){var img=new Image;img.src=item,img.onload=onload,img.onerror=function(){throw"Image "+item+" load fail"}}):0===imgList.length&&callback()}function getStorageInfo(){var snList={},info=JSON.parse(gSTB.GetStorageInfo("{}"));Array.isArray(info.result)&&""===info.errMsg&&info.result.length>0?(info.result.forEach(function(item){item.mediaType="000022272228"===item.sn?3:item.mediaType,item.label=item.label.trim(),snList[item.sn]?snList[item.sn]++:snList[item.sn]=1}),info.result.forEach(function(item){item.label||(item.label=item.vendor+" "+item.model.replace(/\//,""),snList[item.sn]>1&&(item.label+=" #"+item.partitionNum)),item.isReadOnly&&(item.label+=" ("+_("Read only")+")")}),info.result.sort(function(a,b){return a.mountPath<b.mountPath?-1:1}),window.STORAGE_INFO=info.result):window.STORAGE_INFO=[];try{window.HDD_INFO=JSON.parse(gSTB.RDir("get_hdd_info")||"[]")}catch(e){echo(e,"get_hdd_info"),window.HDD_INFO=[]}echo(STORAGE_INFO,"STORAGE_INFO"),echo(HDD_INFO,"HDD_INFO")}function parseUri(str){for(var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;i--;)uri[o.key[i]]=m[i]||"";return uri[o.q.name]={},uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){$1&&(uri[o.q.name][$1]=$2)}),uri}function validateUrl(url,sol,isSolutionOptional,isProtocolOptional){var solReg="((ffmpeg|auto|rtp|rtsp|mp3|mpegps|mpegts|mp4|ifm|fm|ffrt|ffrt2|ffrt3|ffrt4)(\\s))";return isProtocolOptional=typeof isProtocolOptional==typeof!0?isProtocolOptional:!0,new RegExp("^"+(sol?solReg:"")+["","?"][+!!isSolutionOptional]+"(((http|https|udp|rtp|rtsp|mms|mmsh|mmst|rtmp|igmp):\\/\\/)"+["","?"][+isProtocolOptional]+"@?(([a-zA-Z0-9а-яА-Я$\\-_.+!*'(),;:&=]|%[0-9a-fA-Fа-яА-Я]{2})+@)?(((25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])(\\.(25[0-5]|2[0-4][0-9]|[0-1][0-9][0-9]|[1-9][0-9]|[0-9])){3})|localhost|([a-zA-Zа-яА-Я0-9\\-\\u00C0-\\u017F]+\\.)+([a-zA-Zа-яА-Я]{2,}))(:[0-9]+)?|((file:///|/)[a-zA-Zа-яА-Я0-9\\-\\u00C0-\\u017F]+))(\\/(([a-zA-Zа-яА-Я0-9$\\-_.+!*'(),;:@&=\\s]|%[0-9a-fA-Fа-яА-Я]{2})*(\\/([a-zA-Zа-яА-Я0-9$\\-_.+!*'(),;:@&=\\s]|%[0-9a-fA-Fа-яА-Я]{2})*)*)?(\\?([a-zA-Zа-яА-Я0-9$\\-_.+!*'(),;:@&=\\/?]|%[0-9a-fA-Fа-яА-Я]{2})*)?(\\#([a-zA-Zа-яА-Я0-9$\\-_.+!*'(),;:@&=\\/?]|%[0-9a-fA-Fа-яА-Я]{2})*)?)?$").test(url)}function extend(target,source,override){var _target=override===!1?extend({},target):target||{};for(var prop in source)"object"!=typeof _target[prop]||"object"!=typeof source[prop]||Array.isArray(_target[prop])||Array.isArray(source[prop])?_target[prop]=source[prop]:_target[prop]=extend(_target[prop],source[prop],override);return _target}function base64Encode(data){return btoa(unescape(encodeURIComponent(data)))}function base64Decode(data){try{return decodeURIComponent(escape(atob(data)))}catch(error){echo(error,"base64Decode Error")}}function cutTextWithEllipsis(text,length){return text.length>length?text.toString().slice(0,length)+"...":text}function parseDate(dateStr){if(!dateStr)return new Date(NaN);var date=new Date(dateStr.match(/\w{3}\s\w{3}\s\d{1,2}\s\d{1,2}:\d{1,2}:\d{1,2}/)+" "+dateStr.match(/\d{4}/)),timeZone=dateStr.match(/(\w{1,4}|((\+|-)\d{1,2}))\s+\d{4}/)[1],offset=timeZoneOffsets[timeZone];return date.setMinutes(date.getMinutes()-date.getTimezoneOffset()),0!==offset.index&&date.setMinutes(date.getMinutes()+(offset.minutes||0)*offset.index),date}function getMediaType(file){var extension=file.split(".").pop().toLowerCase();if(extension&&-1!==configuration.registersTypes.indexOf(extension))for(var type,i=0;i<MEDIA_TYPES.length,type=MEDIA_TYPES[i];i++)if(-1!==MEDIA_EXTENSION[type].indexOf(extension))return type;return MEDIA_TYPE_NONE}function readJSON(path,fileName){var result,xmlhttp=new XMLHttpRequest;path=path+"/"+fileName;try{xmlhttp.open("GET",path,!1),xmlhttp.send(null),result=xmlhttp.responseText}catch(e){echo(e,"some xmlhttp error"),result=""}return echo(result,"file "+path),result}function init(){if(gSTB.EnableServiceButton(!0),VKBlock=!0,gs.layers.game=document.getElementById("game").getContext("2d"),gs.layers.game&&gs.layers.game.drawImage){var loc=window.location.href;if(loc.indexOf("?")>=0){for(var parts=loc.substr(loc.indexOf("?")+1).split("&"),_GET={},key=0;key<parts.length;key++){var part=parts[key];_GET[part.substr(0,part.indexOf("="))]=part.substr(part.indexOf("=")+1)}pages.referrer=decodeURIComponent(_GET.referrer)}else pages.referrer=document.referrer;document.getElementById("game").width=gs.size[WINDOW_HEIGHT].scr.w,document.getElementById("game").height=gs.size[WINDOW_HEIGHT].scr.h,window.moveTo(0,0),window.resizeTo(EMULATION?window.outerWidth:screen.width,EMULATION?window.outerHeight:screen.height),cvDraw.vars.model=gSTB.RDir("Model"),echo("'"+cvDraw.vars.model+"'"),gs.items=[];for(var y=0;y<gs.iItems.y;y++){gs.items[y]=[];for(var x=0;x<gs.iItems.x;x++)gs.items[y][x]=null}for(var i=0,j=0;i<gs.imgs.length;i++,j+=2)gs.imgs[i].img.src=PATH_IMG_PUBLIC+"games/memory/"+gs.imgs[i].url,gs.arr[j]=gs.imgs[i].num,gs.arr[j+1]=gs.imgs[i].num;gs.arr=gs.arr.shuffle(),cvDraw.bg=new Image,cvDraw.bg.src=PATH_IMG_PUBLIC+"games/memory/back.png",cvDraw.bg.onload=function(){cvDraw.dBg()}}}function random(m,n){return m=parseInt(m,10),n=parseInt(n,10),Math.floor(Math.random()*(n-m+1))+m}var DEBUG=!0,DEBUG_NAME="",DEBUG_SERVER="",EMULATION=!1,PATH_MODE_WEB=!1,PATH_ROOT=null,PATH_SYSTEM=null,PATH_MEDIA="/media/",WINDOW_WIDTH=screen.width,WINDOW_HEIGHT=screen.height,URL_PARAMS={},initFound=!1,proxy;PATH_ROOT=location.pathname.split("/"),PATH_ROOT[PATH_ROOT.length-1]="",PATH_ROOT=PATH_ROOT.join("/"),PATH_ROOT=location.protocol+"//"+location.host+PATH_ROOT+PATH_BASE,PATH_SYSTEM=PATH_ROOT+"system/",document.location.search&&document.location.search.substring(1).split("&").forEach(function(part){part=part.split("="),2===part.length&&(URL_PARAMS[part[0]]=decodeURIComponent(part[1]))}),void 0===window.gSTB?(DEBUG=EMULATION=!0,DEBUG_SERVER=DEBUG_SERVER||localStorage.getItem("DEBUG_SERVER"),DEBUG_NAME=DEBUG_NAME||localStorage.getItem("DEBUG_NAME"),WINDOW_WIDTH=parseInt(URL_PARAMS.width,10)||window.outerWidth,WINDOW_HEIGHT=parseInt(URL_PARAMS.height,10)||window.outerHeight,document.write('<script type="text/javascript" src="'+PATH_SYSTEM+'gstb.js"></script>\n'),document.write('<script type="text/javascript" src="'+PATH_SYSTEM+'debug.js"></script>\n'),document.write('<script type="text/javascript" src="http://'+DEBUG_SERVER+':8800/file/client.js"></script>\n'),document.write('<script type="text/javascript">if ( window.proxyClient ) {proxy = new proxyClient();if ( DEBUG_NAME && DEBUG_SERVER ) proxy.init({name:"'+DEBUG_NAME+'", host:"'+DEBUG_SERVER+'"}); }</script>\n'),window.addEventListener("load",function(){document.body.style.backgroundColor="black"})):(gSTB.SetNativeStringMode(!0),function(){var vars=JSON.parse(gSTB.GetEnv(JSON.stringify({varList:["debug","debug_name","debug_server"]})));!vars.errMsg&&vars.result&&(DEBUG="1"===vars.result.debug,DEBUG&&!URL_PARAMS.nodebug&&(document.write('<script type="text/javascript" src="'+PATH_SYSTEM+'debug.js"></script>\n'),DEBUG_NAME=DEBUG_NAME||vars.result.debug_name,DEBUG_SERVER=DEBUG_SERVER||vars.result.debug_server,DEBUG_NAME&&DEBUG_SERVER&&"1"!==stbStorage.getItem("spyjs.active")&&document.write('<script type="text/javascript" src="http://'+DEBUG_SERVER+":8000/target/target-script-min.js#"+DEBUG_NAME+'"></script>\n')))}());var PATH_IMG_SYSTEM=PATH_SYSTEM+"img/"+WINDOW_WIDTH+"/",PATH_IMG_PUBLIC=PATH_ROOT+"public/img/"+WINDOW_WIDTH+"/",KEYS={BACK:8,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,NUM9:57,NUM0:48,DELETE:46,CHANNEL_PREV:1009,CHANNEL_NEXT:9,OK:13,EXIT:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,VOLUME_UP:107,VOLUME_DOWN:109,F1:112,F2:113,F3:114,F4:115,REFRESH:116,FRAME:117,PHONE:119,EPG:119,SET:120,TV:121,MENU:122,WEB:123,MIC:2032,REWIND:2066,FORWARD:2070,APP:2076,USB_MOUNTED:2080,USB_UNMOUNTED:2081,PLAY_PAUSE:2082,STOP:2083,POWER:2085,RECORD:2087,INFO:2089,MUTE:2192,CLOCK:2032,AUDIO:2071,KEYBOARD:2076};if(void 0===window.echo&&(window.echo=function(data,title){}),ajax.stop=!1,parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},!("classList"in document.documentElement)){var prototype=Array.prototype,indexOf=prototype.indexOf,slice=prototype.slice,push=prototype.push,splice=prototype.splice,join=prototype.join;window.DOMTokenList=function(el){if(this._element=el,el.className!==this._classCache){if(this._classCache=el.className,!this._classCache)return;var i,classes=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(i=0;i<classes.length;i++)push.call(this,classes[i])}},window.DOMTokenList.prototype={add:function(token){this.contains(token)||(push.call(this,token),this._element.className=slice.call(this,0).join(" "))},contains:function(token){return-1!==indexOf.call(this,token)},item:function(index){return this[index]||null},remove:function(token){var i=indexOf.call(this,token);-1!==i&&(splice.call(this,i,1),this._element.className=slice.call(this,0).join(" "))},toString:function(){return join.call(this," ")},toggle:function(token){return this.contains(token)?this.remove(token):this.add(token),this.contains(token)}},Object.defineProperty(Element.prototype,"classList",{get:function(){return new window.DOMTokenList(this)}})}var Events={bind:function(event,callback){if(this._events||(this._events={}),"object"==typeof event)for(var name in event)this.bind(name,event[name]);else"string"==typeof event&&"function"==typeof callback&&(void 0===this._events[event]&&(this._events[event]=[]),this._events[event].push(callback))},trigger:function(event,data){var result,results=[],self=this;return void 0!==event&&void 0!==this._events&&void 0!==this._events[event]&&this._events[event].forEach(function(ev){result=ev.call(self,data),void 0!==result&&results.push(result)}),results},unbind:function(event){delete this._events[event]},inject:function(obj){"function"==typeof obj?extend(obj.prototype,this):"object"==typeof obj&&extend(obj,this)}},timeZoneOffsets={A:{index:-1,minutes:60},ACDT:{index:-1,minutes:60},ACST:{index:-1,minutes:570},ACT:{index:1,minutes:300},ACWST:{index:-1,minutes:525},ADT:{index:1,minutes:180},AEDT:{index:-1,minutes:61},AEST:{index:-1,minutes:60},AFT:{index:-1,minutes:270},AKDT:{index:1,minutes:480},AKST:{index:1,minutes:540},ALMT:{index:-1,minutes:360},AMST:{index:1,minutes:180},AMT:{index:1,minutes:240},ANAST:{index:-1,minutes:62},ANAT:{index:-1,minutes:62},AQTT:{index:-1,minutes:300},ART:{index:1,minutes:180},AST:{index:1,minutes:240},AWDT:{index:-1,minutes:540},AWST:{index:-1,minutes:480},AZOST:{index:0,minutes:0},AZOT:{index:1,minutes:60},AZST:{index:-1,minutes:300},AZT:{index:-1,minutes:240},B:{index:-1,minutes:120},BNT:{index:-1,minutes:480},BOT:{index:1,minutes:240},BRST:{index:1,minutes:120},BRT:{index:1,minutes:180},BST:{index:-1,minutes:60},BTT:{index:-1,minutes:360},C:{index:-1,minutes:180},CAST:{index:-1,minutes:480},CAT:{index:-1,minutes:120},CCT:{index:-1,minutes:390},CDT:{index:1,minutes:300},CEST:{index:-1,minutes:120},CET:{index:-1,minutes:60},CHADT:{index:-1,minutes:63},CHAST:{index:-1,minutes:62},CHOT:{index:-1,minutes:480},CHUT:{index:-1,minutes:600},CKT:{index:1,minutes:60},CLST:{index:1,minutes:180},CLT:{index:1,minutes:240},COT:{index:1,minutes:300},CST:{index:1,minutes:360},CVT:{index:1,minutes:60},CXT:{index:-1,minutes:420},ChST:{index:-1,minutes:60},D:{index:-1,minutes:240},DAVT:{index:-1,minutes:420},E:{index:-1,minutes:300},EASST:{index:1,minutes:300},EAST:{index:1,minutes:360},EAT:{index:-1,minutes:180},ECT:{index:1,minutes:300},EDT:{index:-1,minutes:61},EEST:{index:-1,minutes:180},EET:{index:-1,minutes:120},EGST:{index:0,minutes:0},EGT:{index:1,minutes:60},EST:{index:1,minutes:300},ET:{index:1,minutes:300},F:{index:-1,minutes:360},FET:{index:-1,minutes:180},FJST:{index:-1,minutes:63},FJT:{index:-1,minutes:62},FKST:{index:1,minutes:180},FKT:{index:1,minutes:240},FNT:{index:1,minutes:120},G:{index:-1,minutes:420},GALT:{index:1,minutes:360},GAMT:{index:1,minutes:540},GET:{index:-1,minutes:240},GFT:{index:1,minutes:180},GILT:{index:-1,minutes:62},GMT:{index:0,minutes:0},GST:{index:-1,minutes:240},GYT:{index:1,minutes:240},H:{index:-1,minutes:480},HAA:{index:1,minutes:180},HAC:{index:1,minutes:300},HADT:{index:1,minutes:540},HAE:{index:1,minutes:240},HAP:{index:1,minutes:420},HAR:{index:1,minutes:360},HAST:{index:1,minutes:60},HAT:{index:1,minutes:150},HAY:{index:1,minutes:480},HKT:{index:-1,minutes:480},HLV:{index:1,minutes:270},HNA:{index:1,minutes:240},HNC:{index:1,minutes:360},HNE:{index:1,minutes:300},HNP:{index:1,minutes:480},HNR:{index:1,minutes:420},HNT:{index:1,minutes:210},HNY:{index:1,minutes:540},HOVT:{index:-1,minutes:420},I:{index:-1,minutes:540},ICT:{index:-1,minutes:420},IDT:{index:-1,minutes:180},IOT:{index:-1,minutes:360},IRDT:{index:-1,minutes:270},IRKST:{index:-1,minutes:540},IRKT:{index:-1,minutes:540},IRST:{index:-1,minutes:210},IST:{index:-1,minutes:60},JST:{index:-1,minutes:540},K:{index:-1,minutes:60},KGT:{index:-1,minutes:360},KOST:{index:-1,minutes:660},KRAST:{index:-1,minutes:480},KRAT:{index:-1,minutes:480},KST:{index:-1,minutes:540},KUYT:{index:-1,minutes:240},L:{index:-1,minutes:61},LHDT:{index:-1,minutes:61},LHST:{index:-1,minutes:60},LINT:{index:-1,minutes:64},M:{index:-1,minutes:62},MAGST:{index:-1,minutes:62},MAGT:{index:-1,minutes:62},MART:{index:1,minutes:570},MAWT:{index:-1,minutes:300},MDT:{index:1,minutes:360},MESZ:{index:-1,minutes:120},MEZ:{index:-1,minutes:60},MHT:{index:-1,minutes:62},MMT:{index:-1,minutes:390},MSD:{index:-1,minutes:240},MSK:{index:-1,minutes:240},MST:{index:1,minutes:420},MUT:{index:-1,minutes:240},MVT:{index:-1,minutes:300},MYT:{index:-1,minutes:480},N:{index:1,minutes:60},NCT:{index:-1,minutes:61},NDT:{index:1,minutes:150},NFT:{index:-1,minutes:61},NOVST:{index:-1,minutes:420},NOVT:{index:-1,minutes:360},NPT:{index:-1,minutes:345},NRT:{index:-1,minutes:720},NST:{index:1,minutes:210},NUT:{index:1,minutes:61},NZDT:{index:-1,minutes:63},NZST:{index:-1,minutes:62},O:{index:1,minutes:120},OMSST:{index:-1,minutes:420},OMST:{index:-1,minutes:420},ORAT:{index:-1,minutes:300},P:{index:1,minutes:180},PDT:{index:1,minutes:420},PET:{index:1,minutes:300},PETST:{index:-1,minutes:62},PETT:{index:-1,minutes:62},PGT:{index:-1,minutes:60},PHOT:{index:-1,minutes:63},PHT:{index:-1,minutes:480},PKT:{index:-1,minutes:300},PMDT:{index:1,minutes:120},PMST:{index:1,minutes:180},PONT:{index:-1,minutes:61},PST:{index:1,minutes:480},PT:{index:1,minutes:480},PWT:{index:-1,minutes:540},PYST:{index:1,minutes:180},PYT:{index:1,minutes:240},Q:{index:1,minutes:240},QYZT:{index:1,minutes:360},R:{index:1,minutes:300},RET:{index:-1,minutes:240},S:{index:1,minutes:360},SAKT:{index:1,minutes:600},SAMT:{index:-1,minutes:240},SAST:{index:-1,minutes:120},SBT:{index:-1,minutes:61},SCT:{index:-1,minutes:240},SGT:{index:-1,minutes:480},SRET:{index:-1,minutes:660},SRT:{index:1,minutes:180},SST:{index:1,minutes:61},T:{index:1,minutes:420},TAHT:{index:1,minutes:60},TFT:{index:-1,minutes:300},TJT:{index:-1,minutes:300},TKT:{index:-1,minutes:63},TLT:{index:-1,minutes:540},TMT:{index:-1,minutes:300},TOT:{index:-1,minutes:780},TVT:{index:-1,minutes:62},U:{index:1,minutes:480},ULAT:{index:-1,minutes:480},UTC:{index:0,minutes:0},UYST:{index:1,minutes:120},UYT:{index:1,minutes:180},UZT:{index:-1,minutes:300},V:{index:1,minutes:540},VET:{index:1,minutes:270},VLAST:{index:-1,minutes:61},VLAT:{index:-1,minutes:61},VUT:{index:-1,minutes:61},W:{index:1,minutes:60},WARST:{index:1,minutes:180},WAST:{index:-1,minutes:120},WAT:{index:-1,minutes:60},WEST:{index:-1,minutes:60},WESZ:{index:-1,minutes:60},WET:{index:0,minutes:0},WEZ:{index:0,minutes:0},WFT:{index:-1,minutes:62},WGST:{index:1,minutes:120},WGT:{index:1,minutes:180},WIB:{index:-1,minutes:420},WIT:{index:-1,minutes:540},WITA:{index:-1,minutes:480},WST:{index:-1,minutes:63},WT:{index:0,minutes:0},X:{index:1,minutes:61},Y:{index:1,minutes:62},YAKST:{index:-1,minutes:60},YAKT:{index:-1,minutes:60},YAPT:{index:-1,minutes:60},YEKST:{index:-1,minutes:360},YEKT:{index:-1,minutes:360},Z:{index:0,minutes:0},"-12":{index:-1,minutes:720},"-11":{index:-1,minutes:660},"-10":{index:-1,minutes:600},"-09":{index:-1,minutes:540},"-08":{index:-1,minutes:480},"-07":{index:-1,minutes:420},"-06":{index:-1,minutes:360},"-05":{index:-1,minutes:300},"-04":{index:-1,minutes:240},"-03":{index:-1,minutes:180},"-02":{index:-1,minutes:120},"-01":{index:-1,minutes:60},"+01":{index:1,minutes:60},"+02":{index:1,minutes:120},"+03":{index:1,minutes:180},"+04":{index:1,minutes:240},"+05":{index:1,minutes:300},"+06":{index:1,minutes:360},"+07":{index:1,minutes:420},"+08":{index:1,minutes:480},"+09":{index:1,minutes:540},"+10":{index:1,minutes:600},"+11":{index:1,minutes:660},"+12":{index:1,minutes:720}};Array.prototype.shuffle=function(){for(var i,tmp,n=this.length;n--;)i=Math.floor(n*Math.random()),tmp=this[i],this[i]=this[n],this[n]=tmp;return this};var version="1.0.1",pages={back:PATH_ROOT+"services.html",referrer:""},VKBlock=!0,gs={layers:{context:null},size:{480:{scr:{w:500,h:400},cll:{w:100,h:100}},576:{scr:{w:550,h:440},cll:{w:110,h:110}},720:{scr:{w:650,h:520},cll:{w:130,h:130}},1080:{scr:{w:900,h:720},cll:{w:180,h:180}}},iItems:{x:5,y:4},imgs:[{num:0,img:new Image,url:"0.png"},{num:1,img:new Image,url:"1.png"},{num:2,img:new Image,url:"2.png"},{num:3,img:new Image,url:"3.png"},{num:4,img:new Image,url:"4.png"},{num:5,img:new Image,url:"5.png"},{num:6,img:new Image,url:"6.png"},{num:7,img:new Image,url:"7.png"},{num:8,img:new Image,url:"8.png"},{num:9,img:new Image,url:"9.png"}],arr:[],position:{old:{x:0,y:0},current:{x:0,y:0}}},_GET,key={press:function(event){if(eventPrepare(event,!1))switch(event.code){case KEYS.RIGHT:gs.position.old.y=gs.position.current.y,gs.position.old.x=gs.position.current.x,gs.position.current.x+1<=gs.iItems.x-1?gs.position.current.x++:gs.position.current.x=gs.iItems.x-1,cvDraw.item();break;case KEYS.LEFT:gs.position.old.y=gs.position.current.y,gs.position.old.x=gs.position.current.x,gs.position.current.x-1>=0?gs.position.current.x--:gs.position.current.x=0,cvDraw.item();break;case KEYS.DOWN:gs.position.old.y=gs.position.current.y,gs.position.old.x=gs.position.current.x,gs.position.current.y+1<=gs.iItems.y-1?gs.position.current.y++:gs.position.current.y=gs.iItems.y-1,cvDraw.item();break;case KEYS.UP:gs.position.old.y=gs.position.current.y,gs.position.old.x=gs.position.current.x,gs.position.current.y-1>=0?gs.position.current.y--:gs.position.current.y=0,cvDraw.item();break;case KEYS.OK:cvDraw.PressOK();break;case KEYS.REFRESH:var new_loc=window.location.href.substr(0,window.location.href.indexOf("?"));window.location=new_loc+"?referrer="+base64Encode(pages.referrer);break;case KEYS.EXIT:document.body.style.display="none",document.body.parentElement.style.background="none",window.location=pages.back;break;case KEYS.POWER:var standByMode,standByStatus=!gSTB.GetStandByStatus(),environment=gSTB.GetEnv(JSON.stringify({varList:["standByMode"]}));try{environment=JSON.parse(environment).result}catch(e){environment={standByMode:null}}if(standByMode=parseInt(environment.standByMode,10),gSTB.StandByMode!==standByMode&&(gSTB.StandByMode=standByMode),3===standByMode)return gSTB.SetLedIndicatorMode(2),gSTB.StandBy(standByStatus),void gSTB.SetLedIndicatorMode(1);standByStatus?(document.body.style.display="none",gSTB.StandBy(standByStatus),gSTB.SetLedIndicatorMode(2),window.location=""):(gSTB.StandBy(standByStatus),gSTB.SetLedIndicatorMode(1))}}};window.onload=init,window.onkeydown=key.press,window.oncontextmenu=EMULATION?null:function(){return!1};var cvDraw={vars:{model:"MAG200",started:!1,selected:!1,selectedObj:{x:0,y:0,num:0},gameTime:0,timer:null,openOne:!1,counterSteps:0,counterGoodSteps:0},mode:null,bg:{},dBg:function(){for(var y=0;y<gs.iItems.y;y++)for(var x=0;x<gs.iItems.x;x++)gs.layers.game.clearRect(gs.size[WINDOW_HEIGHT].cll.w*x,gs.size[WINDOW_HEIGHT].cll.h*y,gs.size[WINDOW_HEIGHT].cll.w,gs.size[WINDOW_HEIGHT].cll.h),gs.layers.game.drawImage(this.bg,gs.size[WINDOW_HEIGHT].cll.w*x,gs.size[WINDOW_HEIGHT].cll.h*y,gs.size[WINDOW_HEIGHT].cll.w,gs.size[WINDOW_HEIGHT].cll.h)},start:function(){for(var cnr=0,y=0;y<gs.iItems.y;y++)for(var x=0;x<gs.iItems.x;x++){var self=this;gs.items[y][x]={x:x,y:y,status:"free",selected:!1,img:gs.arr[cnr++],timer:{obj:null,interval:50,_scale:1,cond:"stop",func:function(x,y,back){var img;back?("from"==this.cond&&(img=self.bg),"to"==this.cond&&(img=gs.imgs[gs.items[y][x].img].img)):("from"==this.cond&&(img=gs.imgs[gs.items[y][x].img].img),"to"==this.cond&&(img=self.bg)),"from"==this.cond&&(this._scale=this._scale-.2,this._scale<=.2&&(this.cond="to")),"to"==this.cond&&(this._scale<.2?this._scale=.2:(this._scale=this._scale+.2,this._scale>=.8&&(this._scale=1,clearInterval(this.obj),this.obj=null,this.cond="stop"))),gs.layers.game.clearRect(gs.size[WINDOW_HEIGHT].cll.w*x,gs.size[WINDOW_HEIGHT].cll.h*y,gs.size[WINDOW_HEIGHT].cll.w,gs.size[WINDOW_HEIGHT].cll.h),gs.layers.game.drawImage(img,gs.size[WINDOW_HEIGHT].cll.w*x+(1-this._scale)*gs.size[WINDOW_HEIGHT].cll.w/2,gs.size[WINDOW_HEIGHT].cll.h*y,gs.size[WINDOW_HEIGHT].cll.w*this._scale,gs.size[WINDOW_HEIGHT].cll.h)}}},gs.layers.game.clearRect(gs.size[WINDOW_HEIGHT].cll.w*x,gs.size[WINDOW_HEIGHT].cll.h*y,gs.size[WINDOW_HEIGHT].cll.w,gs.size[WINDOW_HEIGHT].cll.h),gs.layers.game.drawImage(gs.imgs[gs.arr[cnr-1]].img,gs.size[WINDOW_HEIGHT].cll.w*x,gs.size[WINDOW_HEIGHT].cll.h*y,gs.size[WINDOW_HEIGHT].cll.w,gs.size[WINDOW_HEIGHT].cll.h)}var self=this;setTimeout(function(){self.dBg(),self.item(),echo("\n\n\n\n\n\n* * * * * * * * * * * * * * * * * * *  START\n\n\n\n\n\n"),self.vars.started=!0,VKBlock=!1,null!=self.vars.timer&&clearInterval(self.vars.timer),self.vars.timer=null,self.vars.timer=setInterval(function(){self.vars.gameTime++;var mins=Math.floor(self.vars.gameTime/60),secs=self.vars.gameTime-60*mins;document.getElementById("counter_time").getElementsByClassName("cover")[0].innerHTML=(10>mins?"0"+mins:mins)+" "+(10>secs?"0"+secs:secs),self.vars.gameTime>3600&&(document.getElementById("errorFinish").style.display="block",null!=self.vars.timer&&clearInterval(self.vars.timer),self.vars.timer=null,VKBlock=!0,self.vars.started=!1)},999)},5e3)},item:function(){document.getElementById("cursor").style.display="block",document.getElementById("cursor").style.marginLeft=gs.position.current.x*gs.size[WINDOW_HEIGHT].cll.w+"px",document.getElementById("cursor").style.marginTop=gs.position.current.y*gs.size[WINDOW_HEIGHT].cll.h+"px"},rotateCell:function(x,y,back){"MAG200"!=cvDraw.vars.model||1920!=WINDOW_WIDTH?"stop"==gs.items[y][x].timer.cond&&(gs.items[y][x].timer.cond="from",back?gs.items[y][x].timer.obj=setInterval(function(){gs.items[y][x].timer.func(x,y)},gs.items[y][x].timer.interval):gs.items[y][x].timer.obj=setInterval(function(){gs.items[y][x].timer.func(x,y,!0)},gs.items[y][x].timer.interval)):(echo("MAG200 && 1920"),gs.layers.game.clearRect(gs.size[WINDOW_HEIGHT].cll.w*x,gs.size[WINDOW_HEIGHT].cll.h*y,gs.size[WINDOW_HEIGHT].cll.w,gs.size[WINDOW_HEIGHT].cll.h),back?gs.layers.game.drawImage(this.bg,gs.size[WINDOW_HEIGHT].cll.w*x,gs.size[WINDOW_HEIGHT].cll.h*y,gs.size[WINDOW_HEIGHT].cll.w,gs.size[WINDOW_HEIGHT].cll.h):gs.layers.game.drawImage(gs.imgs[gs.items[y][x].img].img,gs.size[WINDOW_HEIGHT].cll.w*x,gs.size[WINDOW_HEIGHT].cll.h*y,gs.size[WINDOW_HEIGHT].cll.w,gs.size[WINDOW_HEIGHT].cll.h))},PressOK:function(){if(0==this.vars.started&&"block"==document.getElementById("errorFinish").style.display)return void window.location.reload(!0);if(0==this.vars.started)document.getElementById("errorFinish").style.display="none",document.getElementById("Begin").style.display="none",this.start();else{if("ready"==gs.items[gs.position.current.y][gs.position.current.x].status)return;if(this.vars.counter++,this.vars.counterSteps++,document.getElementById("counter_steps").getElementsByClassName("cover")[0].innerHTML=this.vars.counterSteps<100?this.vars.counterSteps<10?"00"+this.vars.counterSteps:"0"+this.vars.counterSteps:this.vars.counterSteps,0==this.vars.selected)this.vars.selectedObj.x=gs.position.current.x,this.vars.selectedObj.y=gs.position.current.y,this.vars.selectedObj.num=gs.items[gs.position.current.y][gs.position.current.x].img,this.rotateCell(gs.position.current.x,gs.position.current.y),this.vars.selected=!0;else{if(this.vars.selectedObj.x==gs.position.current.x&&this.vars.selectedObj.y==gs.position.current.y)return;if(this.rotateCell(gs.position.current.x,gs.position.current.y),this.vars.selectedObj.num==gs.items[gs.position.current.y][gs.position.current.x].img)gs.items[gs.position.current.y][gs.position.current.x].status="ready",gs.items[this.vars.selectedObj.y][this.vars.selectedObj.x].status="ready",this.vars.counterGoodSteps++;else{var self=this,coords={x1:gs.position.current.x,y1:gs.position.current.y,x2:this.vars.selectedObj.x,y2:this.vars.selectedObj.y};this.rotateCell(coords.x1,coords.y1),setTimeout(function(){echo("rotate back"),self.rotateCell(coords.x1,coords.y1,!0),self.rotateCell(coords.x2,coords.y2,!0)},1e3)}this.vars.selected=!1,this.vars.counterGoodSteps>=gs.iItems.x*gs.iItems.y/2&&(document.getElementById("errorFinish").style.display="block",null!=this.vars.timer&&clearInterval(this.vars.timer),this.vars.timer=null,VKBlock=!0,this.vars.started=!1)}}}};