{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/stb-keys/index.js","webpack:///./node_modules/stb-component/index.js","webpack:///./node_modules/spa-component/index.js","webpack:///./node_modules/spa-app/lib/core.js","webpack:///./node_modules/mag-app/index.js","webpack:///./node_modules/cjs-emitter/index.js","webpack:///./node_modules/spa-keys/index.js","webpack:///./node_modules/mag-component-layout-list/index.js","webpack:///./node_modules/mag-component-list/index.js","webpack:///./node_modules/mag-component-modal/index.js","webpack:///./src/js/modules/types.js","webpack:///./node_modules/stb-app/lib/css.js","webpack:///./node_modules/mag-component-panel/index.js","webpack:///./node_modules/mag-component-layout/index.js","webpack:///./node_modules/mag-component-panel-set/index.js","webpack:///./node_modules/stb-component-button/index.js","webpack:///./node_modules/spa-dom/index.js","webpack:///./src/js/modules/keyboard.js","webpack:///./src/js/modules/utils/eval.space.js","webpack:///./node_modules/stb-component-page/index.js","webpack:///./src/js/main.js","webpack:///./node_modules/mag-app/lib/main.js","webpack:///./node_modules/cjs-query/index.js","webpack:///./src/js/config.js","webpack:///./node_modules/spa-app/lib/events.js","webpack:///./node_modules/stb-shim-classlist/index.js","webpack:///./node_modules/stb-app/lib/metrics.js","webpack:///./src/js/metrics.js","webpack:///./node_modules/mag-app/lib/css.js","webpack:///./node_modules/spa-gettext/index.js","webpack:///./node_modules/cjs-gettext/index.js","webpack:///./src/js/pages/main.js","webpack:///./node_modules/stb-component-modal/index.js","webpack:///./node_modules/spa-component-modal/index.js","webpack:///./node_modules/mag-component-radio-list/index.js","webpack:///./node_modules/spa-component-checkbox/index.js","webpack:///./node_modules/mag-component-check-list/index.js","webpack:///./node_modules/mag-component-scroll-area/index.js","webpack:///./node_modules/mag-component-footer/index.js","webpack:///./node_modules/spa-component-button/index.js","webpack:///./node_modules/stb-component-scrollbar/index.js","webpack:///./node_modules/spa-component-scrollbar/index.js","webpack:///./node_modules/spa-component-flicker/index.js","webpack:///./src/js/modules/app.exit.js","webpack:///./src/js/modules/actions.js","webpack:///./src/js/modules/preview.image.js","webpack:///./src/js/modules/parser.js","webpack:///./src/js/modules/searcher.js","webpack:///./src/js/modules/breadcrumbs.js","webpack:///./src/js/modules/diagram.js","webpack:///./src/js/modules/context.menu.items.js","webpack:///./src/js/modules/utils/random.js","webpack:///./src/js/modules/utils/request.js","webpack:///./node_modules/spa-component-page/index.js","webpack:///./src/js/pages/connect.js","webpack:///./src/js/modules/div.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","keys","back","backspace","channelNext","tab","channelPrev","ok","enter","exit","escape","volumeUp","volumeDown","f1","f2","f3","f4","refresh","frame","phone","set","tv","menu","app","rewind","forward","audio","standby","keyboard","usbMounted","usbUnmounted","playPause","play","pause","stop","power","record","info","mute","digit0","digit1","digit2","digit3","digit4","digit5","digit6","digit7","digit8","digit9","Emitter","counter","Component","config","self","this","visible","focusable","$node","$body","parent","children","propagate","document","createElement","className","id","add","hide","defaultEvents","events","forEach","eventName","addListener","apply","addEventListener","event","focus","emit","stopPropagation","constructor","child","index","arguments","length","push","parentNode","appendChild","item","remove","activePage","activeComponent","blur","splice","indexOf","removeChild","data","activeItem","classList","show","callback","setTimeout","parse","query","location","search","substring","route","pageTo","page","pageFrom","active","showPage","from","to","once","onceWrapper","removeListener","addListeners","callbacks","filter","fn","undefined","Array","slice","space","pageUp","pageDown","end","home","left","up","right","down","insert","del","List","Layout","LayoutList","handlers","links","$noData","fixedData","$item","layout","inner","focusIndex","focusItem","renderItemDefault","layoutConfig","currentNode","currentData","ready","items","childNodes","innerText","firstChild","$parentItem","click","setData","init","$wrap","noData","innerHTML","Element","renderItem","$focusItem","viewIndex","type","TYPE_VERTICAL","size","cycle","scroll","provider","TYPE_HORIZONTAL","mousewheel","wheelDeltaY","move","wheelDeltaX","keydown","code","idx","currSize","onClick","render","blocked","error","realSize","maxCount","viewSize","head","pos","normalize","blurItem","renderView","itemData","prevIndex","currIndex","mark","scrollTo","direction","force","previousSibling","lastChild","nextSibling","$prev","$curr","markItem","state","StbComponentModal","Modal","$overlay","onkeydown","$header","$text","title","icon","$icon","types","fs","media","favorite","opener","network","smb","smbWorkgroup","smbServer","smbShare","smbPermanentShare","nfs","nfsServer","nfsShare","nfsPermanentShare","upnp","upnpServer","upnpHost","upnpDir","folder","file","fileVideo","mime","extensions","fileAudio","fileImage","fileText","fileCUE","fileISO","fileRecords","filePlaylist","fileStream","idToMedia","link","rel","href","metrics","height","Panel","main","shadows","$left","$right","isArray","panels","$wrapper","HTMLElement","wrap","componentClickHandler","textContent","PanelSet","keydownHandler","dom","tag","tagName","attrList","content","node","createTextNode","fragment","createDocumentFragment","tagDst","Node","nodes","count","clear","open","core","intent","action","done","bytes","precision","kilobyte","toFixed","megabyte","gigabyte","require","load","environment","language","storage","favoritesStorage","UPnPMode","plugins","getState","readOnlyMode","getReadOnlyState","runtime","isModalShown","isSearched","stillWaitNetworkResponse","openShareAttempts","currentServer","currentShare","pages","connect","window","getCoreInstance","platform","body","setAttribute","contextmenu","preventDefault","split","part","decodeURIComponent","stringify","params","encodeURIComponent","join","mountPathBase","mountPathSMB","mountPathNFS","defaultListSize","DOMContentLoaded","unload","eventLocal","keyCode","ctrlKey","altKey","shiftKey","keypress","documentElement","DOMTokenList","el","_element","_classCache","classes","replace","token","contains","toString","toggle","screenHeight","screen","availHeight","availTop","availBottom","availWidth","width","availLeft","availRight","480","576","720","1080","linkCSS","theme","path","Gettext","loader","prepare","gettext","_","pgettext","ngettext","defaultLanguage","xhr","ext","XMLHttpRequest","onload","JSON","responseText","onerror","ontimeout","send","meta","msgId","context","plural","evalResult","eval","storages","searchRequestRe","folderListView","originFolderListView","openMedia","playlist","panelSet","mainPanel","rightPanel","leftPanelMenu","mainPanelList","contextMenuList","filterMenuList","headerAmount","mainPanelTitle","menuFilteringItem","listScroll","rightInfoPanelScroll","filterScroll","$inputSearchIcon","$inputSearch","$inputFolderName","$inputShareName","$inputSMBShareLogin","$inputSMBSharePassword","$inputSMBServerLogin","$inputSMBServerPassword","ModalMessage","RadioList","CheckList","ScrollArea","Footer","Button","ScrollBar","Flicker","appExit","actions","previewImage","parser","searcher","breadcrumbs","diagram","contextMenuItems","evalSpace","random","request","pageMain","mediaTypes","echo","notify","ufsJson","listFolder","listFile","serversFavShares","filesByType","hotKeyActions","modals","actualSorting","lastContext","itemBack","goBack","FILE_SUBTYPE","playlistFile","playlistStream","filterBySearch","marker","searchRequest","test","closeModalWindow","modal","footer","initFooter","handler","middle","button","resetFilter","previousElementSibling","groupFilesByType","files","contentSort","copyListFull","concat","listDirs","listFiles","sort","itemA","itemB","toLowerCase","localeCompare","lastModified","extension","constructDataOut","dirs","listData","map","subtype","pop","isFavorite","localReadDir","readDir","result","currentDirFilesCount","renderList","renderDetailsList","filterAtCurrentOutput","isDisplayFavorites","isDisplayNfsShare","currentDeviceType","buttons","iconClass","isDisplayPlaylist","shares","additionalClass","shareName","sharesStorage","favSharesPresent","group","uri","smbTraverse","server","addresses","mountPath","nfsTraverse","share","favoriteNfsShares","stageType","url","ID","parentID","openServer","prepareUPnPContent","ParentID","openContext","scrollType","mixin","tmpData","scroller","style","display","renderFilesListInitial","itemsLength","resource","indexToSetFocus","networkSmb","getGroups","umount","openShare","sambaAuthorize","dirContent","isDisplaySmbShares","getShares","cache","authorizeSMBServer","getServers","networkNfs","pathParts","mount","address","constructFavoritesInfo","favorites","textArea","String","mask","area","maskLst","reduce","setFavoritesState","targetNode","favoriteItem","favoriteObj","pinShare","sharesCount","itemToAdd","target","removePermanentShare","targetData","details","targetType","deviceType","upnpPath","itemsToRender","persistentItems","list","permanentSmbSharesList","permanentNfsSharesList","isNfsEnabled","hasNfsNativeSupport","top","stbUPnP","getServerListSync","setPageSize","itemsToRenderNames","clone","entryPointIndex","currentDevice","openRoot","message","getMountPoints","sn","label","vendor","model","sizeOverview","freeSize","fullSize","fsType","isReadOnly","isDeviceReadOnly","displayName","login","password","currentStdout","searchAtCurrentOutput","filterTypes","navigationDirection","currentFilesRawSet","filtered","removeFileSystemObject","renderPage","menuSortingItem","filterItems","buttonCreate","buttonRename","buttonSmbShareAuthorize","buttonSmbServerAuthorize","smbAuthorizeModalList","createDirList","renameShareList","authorizeSmbServerList","modalMessageActionsShow","timerId","delay","footerButtons","resetFilters","RegExp","createFolder","deleteFile","renamePinnedShare","renameShare","unpinShare","clearFavorites","clearSmbCache","clearCache","clearNfsCache","step","loginAttempt","passwordAttempt","trim","overflow","click:item","createAttempt","renameAttempt","clock","interval","time","Date","hours","getHours","mins","getMinutes","start","availableTypes","currentTypes","unshift","goExit","loaded","titleLength","onFocusDebounceTimeout","fileSystemObject","clearTimeout","additionalData","readFile","parsedCue","parseCue","toLocaleDateString","performer","genre","comment","draw","free","nameToSet","isFolderExist","isExist","createDir","dirCreated","valueToSet","entry","isNFS","targetItem","onMount","deviceViewIndex","breadcrumbsLength","renderRoot","focusToIndex","tail","reset","specificOpenerConfig","solution","cueData","tracks","track","number","status","parseM3u","playlistItem","opened","ajax","objData","queue","close","prev","next","itemFields","imageExtensions","audioExtensions","videoExtensions","match","openImage","totalCount","currentPosition","settings","shareType","mountInputs","isSame","Boolean","manualNetShareConnect","saveSync","serialNumber","toUpperCase","CheckBox","$checkedData","checkBox","$last","table","tr","td","check","groups","classIcon","classIconActive","checkedData","classChecked","defaultState","defaultFocusIndex","resetData","clearChecked","changeState","$title","realHeight","viewHeight","topPosition","delta","Math","ceil","offsetHeight","currentTab","tabs","codes","$table","insertRow","rows","insertCell","cells","currTab","$tab","$tabChildren","addClick","ind","disabled","visibility","onclick","clickDuration","thumbRect","trackRect","$thumb","getBoundingClientRect","marginTop","marginLeft","curr","run","defaultRender","goHome","exitModal","previousFocus","$image","Image","Creator","last_modified","singleObject","src","getFileNameComponents","matched","text","currentFile","currentTrack","line","lineParts","lineCommand","parts","field","shift","charAt","parseInt","lines","currentItem","strict","Function","pivot","optionKey","optionValue","substr","rawSearchRequest","MODE_SUB_STRING","matchCase","stringToRegExp","string","matchers","modeSubString","modeFuzzy","modeWildCard","setup","getPointer","matcher","defineProperties","dataSpecial","parentContainer","colorSet","indicators","diagramCache","hasIndicators","colors","inUseColor","getComputedStyle","backgroundColor","freeColor","color","inUseSpace","freeSpace","floor","prepareColors","$canvasBlock","$canvas","$percentBlock","$indicatorsBlock","$allocatedSpaceTitle","$freeSpaceTitle","$freeSpaceMark","$allocatedSpaceMark","driveSpaceValues","radius","totalSize","cloneNode","getContext","fillStyle","beginPath","moveTo","arc","PI","lineTo","fill","min","max","defaults","method","async","headers","timeout","defaultsKeys","options","headersKeys","client","setRequestHeader","responseType","response","Page","selectMountTypeModal","div","openKeyboard","getElementById","activeMountType","dataSmb","folderServer","folderLocal","dataNfs","$serverNFS","$folderServerNFS","$folderLocalNFS","$serverSMB","$folderServerSMB","$folderLocalSMB","$login","$password","mountSMBInputs","mountNFSInputs","panelList","buttonConnect","mountType","argument"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 20);\n","/**\n * Global list of non-printable control key codes.\n *\n * At the moment `keypress` and `keydown` events are emitted for the same keys (for both printable and non-printable characters).\n *\n * WARNING!!! All codes in this file (except 'volumeUp' and 'volumeDown')\n * are used in window 'keydown' handler to prevent wrong 'keypress' firings.\n * If you add new code to this file 'keypress' event with this code will never fire.\n *\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nvar keys = require('spa-keys');\n\n\n// extend with additional codes\nkeys.back         = keys.backspace;\nkeys.channelNext  = keys.tab;        // Tab\nkeys.channelPrev  = keys.tab + 's';  // Shift+Tab\nkeys.ok           = keys.enter;      // Enter\nkeys.exit         = keys.escape;     // Esc\nkeys.volumeUp     = 107;             // NUMPAD +\nkeys.volumeDown   = 109;             // NUMPAD -\nkeys.f1           = 112 + 'c';       // Ctrl+F1\nkeys.f2           = 113 + 'c';       // Ctrl+F2\nkeys.f3           = 114 + 'c';       // Ctrl+F3\nkeys.f4           = 115 + 'c';       // Ctrl+F4\nkeys.refresh      = 116 + 'c';       // Ctrl+F5\nkeys.frame        = 117 + 'c';       // Ctrl+F6\nkeys.phone        = 119 + 'c';       // Ctrl+F8\nkeys.set          = 120 + 'c';       // Ctrl+F9\nkeys.tv           = 121 + 'c';       // Ctrl+F10\nkeys.menu         = 122 + 'c';       // Ctrl+F11\nkeys.app          = 123 + 'c';       // Ctrl+F12\nkeys.rewind       = 66  + 'a';       // Alt+B\nkeys.forward      = 70  + 'a';       // Alt+F\nkeys.audio        = 71  + 'a';       // Alt+G\nkeys.standby      = 74  + 'a';       // Alt+J\nkeys.keyboard     = 76  + 'a';       // Alt+L\nkeys.usbMounted   = 80  + 'a';       // Alt+P\nkeys.usbUnmounted = 81  + 'a';       // Alt+Q\nkeys.playPause    = 82  + 'a';       // Alt+R\nkeys.play         = -1;              // should be redefined on some platforms\nkeys.pause        = -1;              // should be redefined on some platforms\nkeys.stop         = 83  + 'a';       // Alt+S\nkeys.power        = 85  + 'a';       // Alt+U\nkeys.record       = 87  + 'a';       // Alt+W\nkeys.info         = 89  + 'a';       // Alt+Y\nkeys.mute         = 192 + 'a';\nkeys.digit0       = 48;\nkeys.digit1       = 49;\nkeys.digit2       = 50;\nkeys.digit3       = 51;\nkeys.digit4       = 52;\nkeys.digit5       = 53;\nkeys.digit6       = 54;\nkeys.digit7       = 55;\nkeys.digit8       = 56;\nkeys.digit9       = 57;\n\n\n// public\nmodule.exports = keys;\n\n// public\n// module.exports = {\n//     getCode: function ( event ) {\n//         var code = event.keyCode;\n//\n//         // apply key modifiers\n//         if ( event.shiftKey ) { code += 1000; }\n//         if ( event.altKey )   { code += 2000; }\n//\n//         return code;\n//     },\n//\n//     codes: {\n//         back:         8,    // Backspace\n//         channelPrev:  1009, // Shift+Tab\n//         channelNext:  9,    // Tab\n//         ok:           13,   // Enter\n//         exit:         27,   // Esc\n//         pageUp:       33,\n//         pageDown:     34,\n//         end:          35,\n//         home:         36,\n//         left:         37,\n//         up:           38,\n//         right:        39,\n//         down:         40,\n//         'delete':     46,\n//         volumeUp:     107,  // NUMPAD +\n//         volumeDown:   109,  // NUMPAD -\n//         f1:           112,  // F1\n//         f2:           113,  // F2\n//         f3:           114,  // F3\n//         f4:           115,  // F4\n//         refresh:      116,  // F5\n//         frame:        117,  // F6\n//         phone:        119,  // F8\n//         set:          120,  // F9\n//         tv:           121,  // F10\n//         menu:         122,  // F11\n//         app:          123,  // F12\n//         rewind:       2066, // Alt+B\n//         forward:      2070, // Alt+F\n//         audio:        2071, // Alt+G\n//         standby:      2074, // Alt+J\n//         keyboard:     2076, // Alt+L\n//         usbMounted:   2080, // Alt+P\n//         usbUnmounted: 2081, // Alt+Q\n//         playPause:    2082, // Alt+R\n//         stop:         2083, // Alt+S\n//         power:        2085, // Alt+U\n//         record:       2087, // Alt+W\n//         info:         2089, // Alt+Y\n//         mute:         2192\n//     }\n// };\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n// public\nmodule.exports = require('spa-component');\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app     = require('spa-app/lib/core'),\n    Emitter = require('cjs-emitter'),\n    counter = 0;\n\n\n/**\n * Base component implementation.\n *\n * Visual element that can handle sub-components.\n * Each component has a DOM element container $node with a set of classes:\n * \"component\" and some specific component class names depending on the hierarchy, for example \"page\".\n * Each component has a unique ID given either from $node.id or from data.id. If not given will generate automatically.\n *\n * @constructor\n * @extends Emitter\n *\n * @param {Object} [config={}] init parameters\n * @param {Element} [config.id] component unique identifier (generated if not set)\n * @param {string} [config.className] space-separated list of classes for \"className\" property of this.$node\n * @param {Element} [config.$node] DOM element/fragment to be a component outer container\n * @param {Element} [config.$body] DOM element/fragment to be a component inner container (by default is the same as $node)\n * @param {Component} [config.parent] link to the parent component which has this component as a child\n * @param {Array.<Component>} [config.children=[]] list of components in this component\n * @param {Object.<string, function>} [config.events={}] list of event callbacks\n * @param {boolean} [config.visible=true] component initial visibility state flag\n * @param {boolean} [config.focusable=true] component can accept focus or not\n * @param {boolean} [config.propagate=false] allow to emit events to the parent component\n *\n * @fires module:stb/component~Component#click\n *\n * @example\n * var component = new Component({\n *     $node: document.getElementById(id),\n *     className: 'bootstrap responsive',\n *     events: {\n *         click: function () { ... }\n *     }\n * });\n * component.add( ... );\n * component.focus();\n */\nfunction Component ( config ) {\n    // current execution context\n    var self = this,\n        name;\n\n    // sanitize\n    config = config || {};\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( config.id && typeof config.id !== 'string' ) {\n            throw new Error(__filename + ': wrong or empty config.id');\n        }\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        if ( config.$node && !(config.$node instanceof Element) ) {\n            throw new Error(__filename + ': wrong config.$node type');\n        }\n        if ( config.$body && !(config.$body instanceof Element) ) {\n            throw new Error(__filename + ': wrong config.$body type');\n        }\n        if ( config.parent && !(config.parent instanceof Component) ) {\n            throw new Error(__filename + ': wrong config.parent type');\n        }\n        if ( config.children && !Array.isArray(config.children) ) {\n            throw new Error(__filename + ': wrong config.children type');\n        }\n    }\n\n    /**\n     * Component visibility state flag.\n     *\n     * @readonly\n     * @type {boolean}\n     */\n    this.visible = true;\n\n    /**\n     * Component can accept focus or not.\n     *\n     * @type {boolean}\n     */\n    this.focusable = true;\n\n    /**\n     * DOM outer handle.\n     *\n     * @type {Element}\n     */\n    this.$node = null;\n\n    /**\n     * DOM inner handle.\n     * In simple cases is the same as $node.\n     *\n     * @type {Element}\n     */\n    this.$body = null;\n\n    /**\n     * Link to the parent component which has this component as a child.\n     *\n     * @type {Component}\n     */\n    this.parent = null;\n\n    /**\n     * List of all children components.\n     *\n     * @type {Component[]}\n     */\n    this.children = [];\n\n    /**\n     * allow to emit events to the parent component\n     *\n     * @readonly\n     * @type {boolean}\n     */\n    this.propagate = !!config.propagate;\n\n    // parent constructor call\n    Emitter.call(this);\n\n    // outer handle - empty div in case nothing is given\n    this.$node = config.$node || document.createElement('div');\n\n    // inner handle - the same as outer handler in case nothing is given\n    this.$body = config.$body || this.$node;\n\n    // set CSS class names\n    //this.$node.className += ' component ' + (config.className || '');\n    // previous approach is not good as it mess with components hierarchy\n    this.$node.className = this.name + ' ' + (config.className || '');\n\n    // apply component id if given, generate otherwise\n    this.id = config.id || this.$node.id || 'cid' + counter++;\n\n    // apply hierarchy\n    if ( config.parent ) {\n        // add to parent component\n        config.parent.add(this);\n    }\n\n    // apply given visibility\n    if ( config.visible === false ) {\n        // default state is visible\n        this.hide();\n    }\n\n    // apply focus handling method\n    if ( config.focusable === false ) {\n        // can't accept focus\n        this.focusable = false;\n    }\n\n    // a descendant defined own events\n    if ( this.defaultEvents ) {\n        // sanitize\n        config.events = config.events || {};\n\n        if ( DEVELOP ) {\n            if ( typeof config.events !== 'object' ) {\n                throw new Error(__filename + ': wrong config.events type');\n            }\n            if ( typeof this.defaultEvents !== 'object' ) {\n                throw new Error(__filename + ': wrong this.defaultEvents type');\n            }\n        }\n\n        for ( name in this.defaultEvents ) {\n            // overwrite default events with user-defined\n            config.events[name] = config.events[name] || this.defaultEvents[name];\n        }\n    }\n\n    if ( config.events ) {\n        // apply all given events\n        Object.keys(config.events).forEach(function ( eventName ) {\n            self.addListener(eventName, config.events[eventName]);\n        });\n    }\n\n    // apply the given children components\n    if ( config.children ) {\n        // apply\n        this.add.apply(this, config.children);\n    }\n\n    // component activation by mouse\n    this.$node.addEventListener('click', function ( event ) {\n        // left mouse button\n        //if ( event.button === 0 ) {\n        // activate if possible\n        self.focus();\n\n        // there are some listeners\n        if ( self.events['click'] ) {\n            /**\n             * Mouse click event.\n             *\n             * @event module:stb/component~Component#click\n             *\n             * @type {Object}\n             * @property {Event} event click event data\n             */\n            self.emit('click', event);\n        }\n        //}\n\n        if ( DEVELOP ) {\n            // middle mouse button\n            if ( event.button === 1 ) {\n                //debug.inspect(self, 0);\n                debug.info('\"window.link\" or \"' + self.id + '.component\"', 'this component is now available in global scope');\n                window.link = self;\n                self.$node.classList.toggle('wired');\n            }\n        }\n\n        event.stopPropagation();\n    });\n\n    if ( DEVELOP ) {\n        // expose inner ID to global scope\n        window[self.id] = self.$node;\n\n        // expose a link\n        this.$node.component = this.$body.component = this;\n        this.$node.title = this.name + '#' + this.id + ' (outer)';\n        this.$body.title = this.name + '#' + this.id + ' (inner)';\n    }\n\n    debug.info('create component ' + this.name + '#' + this.id, null, {\n        tags: ['create', 'component', this.name, this.id]\n    });\n}\n\n\n// inheritance\nComponent.prototype = Object.create(Emitter.prototype);\nComponent.prototype.constructor = Component;\n\n\n/**\n * List of all default event callbacks.\n *\n * @type {Object.<string, function>}\n */\nComponent.prototype.defaultEvents = null;\n\n\n/**\n * Add a new component as a child.\n *\n * @param {...Component} [child] variable number of elements to append\n *\n * @files Component#add\n *\n * @example\n * panel.add(\n *     new Button( ... ),\n *     new Button( ... )\n * );\n */\nComponent.prototype.add = function ( child ) {\n    var index;\n\n    // walk through all the given elements\n    for ( index = 0; index < arguments.length; index++ ) {\n        child = arguments[index];\n\n        if ( DEVELOP ) {\n            if ( !(child instanceof Component) ) {\n                throw new Error(__filename + ': wrong child type');\n            }\n        }\n\n        // apply\n        this.children.push(child);\n        child.parent = this;\n\n        // correct DOM parent/child connection if necessary\n        if ( child.$node && child.$node.parentNode === null ) {\n            this.$body.appendChild(child.$node);\n        }\n\n        debug.info('add component ' + child.name + '#' + child.id + ' to ' + this.name + '#' + this.id, null, {\n            tags: ['add', 'component', this.name, this.id, child.name, child.id]\n        });\n\n        // there are some listeners\n        if ( this.events['add'] ) {\n            /**\n             * A child component is added.\n             *\n             * @event module:stb/component~Component#add\n             *\n             * @type {Object}\n             * @property {Component} item new component added\n             */\n            this.emit('add', {item: child});\n        }\n\n        //debug.log('component ' + this.name + '#' + this.id + ' new child: ' + child.name + '#' + child.id);\n    }\n};\n\n\n/* @todo: consider activation in future */\n///**\n// * Insert component into the specific position.\n// *\n// * @param {Component} child component instance to insert\n// * @param {number} index insertion position\n// */\n//Component.prototype.insert = function ( child, index ) {\n//    var prevIndex = this.children.indexOf(child);\n//\n//    if ( DEVELOP ) {\n//        if ( arguments.length !== 2 ) { throw new Error(__filename + ': wrong arguments number'); }\n//        if ( !(child instanceof Component) ) { throw new Error(__filename + ': wrong child type'); }\n//    }\n//\n//    if ( prevIndex !== -1 ) {\n//        this.children.splice(prevIndex, 1);\n//        this.$body.removeChild(child.$node);\n//    }\n//\n//    if ( index === this.children.length ) {\n//        this.$body.appendChild(child.$node);\n//    } else {\n//        this.$body.insertBefore(child.$node, this.$body.children[index]);\n//    }\n//    this.children.splice(index, 0, child);\n//\n//    if ( !child.parent ) {\n//        child.parent = this;\n//    }\n//};\n\n\n/**\n * Delete this component and clear all associated events.\n *\n * @fires module:stb/component~Component#remove\n */\nComponent.prototype.remove = function () {\n    // really inserted somewhere\n    if ( this.parent ) {\n        if ( DEVELOP ) {\n            if ( !(this.parent instanceof Component) ) {\n                throw new Error(__filename + ': wrong this.parent type');\n            }\n        }\n\n        // active at the moment\n        if ( app.activePage.activeComponent === this ) {\n            this.blur();\n            this.parent.focus();\n        }\n        this.parent.children.splice(this.parent.children.indexOf(this), 1);\n    }\n\n    // remove all children\n    this.children.forEach(function ( child ) {\n        if ( DEVELOP ) {\n            if ( !(child instanceof Component) ) {\n                throw new Error(__filename + ': wrong child type');\n            }\n        }\n\n        child.remove();\n    });\n\n    this.$node.parentNode.removeChild(this.$node);\n\n    // there are some listeners\n    if ( this.events['remove'] ) {\n        /**\n         * Delete this component.\n         *\n         * @event module:stb/component~Component#remove\n         */\n        this.emit('remove');\n    }\n\n    // remove all listeners\n    this.events = {};\n\n    //debug.log('component ' + this.name + '#' + this.id + ' remove', 'red');\n    debug.info('remove component ' + this.name + '#' + this.id, null, {\n        tags: ['remove', 'component', this.name, this.id]\n    });\n};\n\n\n/**\n * Activate the component.\n * Notify the owner-page and apply CSS class.\n *\n * @param {Object} [data] custom data which passed into handlers\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/component~Component#focus\n */\nComponent.prototype.focus = function ( data ) {\n    var activePage = app.activePage,\n        activeItem = activePage.activeComponent;\n\n    // this is a visual component on a page\n    // not already focused and can accept focus\n    if ( this.focusable && this !== activeItem ) {\n        // notify the current active component\n        if ( activeItem ) { activeItem.blur(); }\n\n        /* eslint consistent-this: 0 */\n\n        // apply\n        activePage.activeComponent = activeItem = this;\n        activeItem.$node.classList.add('focus');\n\n        //debug.log('component ' + this.name + '#' + this.id + ' focus');\n        debug.info('focus component ' + this.name + '#' + this.id, null, {\n            tags: ['focus', 'component', this.name, this.id]\n        });\n\n        // there are some listeners\n        if ( activeItem.events['focus'] ) {\n            /**\n             * Make this component focused.\n             *\n             * @event module:stb/component~Component#focus\n             */\n            activeItem.emit('focus', data);\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n/**\n * Remove focus.\n * Change page.activeComponent and notify subscribers.\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/component~Component#blur\n */\nComponent.prototype.blur = function () {\n    var activePage = app.activePage,\n        activeItem = activePage.activeComponent;\n\n    // apply visuals anyway\n    this.$node.classList.remove('focus');\n\n    // this is the active component\n    if ( this === activeItem ) {\n        activePage.activeComponent = null;\n\n        //debug.log('component ' + this.name + '#' + this.id + ' blur', 'grey');\n        debug.info('blur component ' + this.name + '#' + this.id, null, {\n            tags: ['blur', 'component', this.name, this.id]\n        });\n\n        // there are some listeners\n        if ( this.events['blur'] ) {\n            /**\n             * Remove focus from this component.\n             *\n             * @event module:stb/component~Component#blur\n             */\n            this.emit('blur');\n        }\n\n        return true;\n    }\n\n    debug.warn('component ' + this.name + '#' + this.id + ' attempt to blur without link to a page', null, {\n        tags: ['blur', 'component', this.name, this.id]\n    });\n\n    // nothing was done\n    return false;\n};\n\n\n/*function show ( self, data ) {\n    // correct style\n    self.$node.classList.remove('hidden');\n    // flag\n    self.visible = true;\n\n    debug.info('show component ' + self.name + '#' + self.id, null, {\n        tags: ['show', 'component', self.name, self.id]\n    });\n\n    // there are some listeners\n    if ( self.events['show'] ) {\n        /!**\n         * Make the component visible.\n         *\n         * @event module:stb/component~Component#show\n         *!/\n        self.emit('show', data);\n    }\n}*/\n\n/**\n * Make the component visible and notify subscribers.\n *\n * @param {Object} [data] custom data which passed into handlers\n * @param {function} [callback] user callback\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/component~Component#show\n */\nComponent.prototype.show = function ( data, callback ) {\n    //var self = this;\n\n    // is it hidden\n    if ( !this.visible ) {\n        /*if ( typeof callback === 'function' ) {\n            // async call\n            setTimeout(function () {\n                show(self, data);\n                callback();\n            });\n        } else {\n            // sync call\n            show(this, data);\n        }*/\n\n        // correct style\n        this.$node.classList.remove('hidden');\n        // flag\n        this.visible = true;\n\n        debug.info('show component ' + this.name + '#' + this.id, null, {\n            tags: ['show', 'component', this.name, this.id]\n        });\n\n        // there are some listeners\n        if ( this.events['show'] ) {\n            /**\n             * Make the component visible.\n             *\n             * @event module:stb/component~Component#show\n             */\n            this.emit('show', data);\n        }\n\n        // async call\n        if ( typeof callback === 'function' ) {\n            // async call\n            setTimeout(callback);\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n/**\n * Make the component hidden and notify subscribers.\n *\n * @param {function} [callback] user callback\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/component~Component#hide\n */\nComponent.prototype.hide = function ( callback ) {\n    // is it visible\n    if ( this.visible ) {\n        // correct style\n        this.$node.classList.add('hidden');\n        // flag\n        this.visible = false;\n\n        debug.info('hide component ' + this.name + '#' + this.id, null, {\n            tags: ['hide', 'component', this.name, this.id]\n        });\n\n        // there are some listeners\n        if ( this.events['hide'] ) {\n            /**\n             * Make the component hidden.\n             *\n             * @event module:stb/component~Component#hide\n             */\n            this.emit('hide');\n        }\n\n        // async call\n        if ( typeof callback === 'function' ) {\n            // async call\n            setTimeout(callback);\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n// public\nmodule.exports = Component;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Emitter = require('cjs-emitter'),\n    parse   = require('cjs-query').parse,\n    app     = new Emitter();\n\n\n/**\n * Make the given inactive/hidden page active/visible.\n * Pass some data to the page and trigger the corresponding event.\n *\n * @param {Page} page item to show\n * @param {*} [data] data to send to page\n *\n * @return {boolean} operation status\n */\nfunction showPage ( page, data ) {\n    // page available and can be hidden\n    if ( page && !page.active ) {\n        // apply visibility\n        page.$node.classList.add('active');\n        page.active = true;\n        app.activePage = page;\n\n        debug.info('show component ' + page.name + '#' + page.id, null, {\n            tags: ['show', 'component', page.name, page.id]\n        });\n        //console.log('component ' + page.name + '.' + page.id + ' show', 'green');\n\n        // there are some listeners\n        if ( page.events['show'] ) {\n            // notify listeners\n            page.emit('show', {data: data});\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n}\n\n\n/**\n * Make the given active/visible page inactive/hidden and trigger the corresponding event.\n *\n * @param {Page} page item to hide\n *\n * @return {boolean} operation status\n */\nfunction hidePage ( page ) {\n    // page available and can be hidden\n    if ( page && page.active ) {\n        // apply visibility\n        page.$node.classList.remove('active');\n        page.active  = false;\n        app.activePage = null;\n\n        debug.info('hide component ' + page.name + '#' + page.id, null, {\n            tags: ['hide', 'component', page.name, page.id]\n        });\n        //console.log('component ' + page.name + '.' + page.id + ' hide', 'grey');\n\n        // there are some listeners\n        if ( page.events['hide'] ) {\n            // notify listeners\n            page.emit('hide');\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n}\n\n\n// url request params\napp.query = parse(document.location.search.substring(1));\n\n\n// global application configuration\n// in config.js file in js root\napp.config = require('app:config');\n\n\n// the only visible page\napp.activePage = null;\n\n\n/**\n * Browse to a given page.\n * Do nothing if the link is invalid. Otherwise hide the current, show new and update the \"previous\" link.\n *\n * @param {Page} pageTo instance of the page to show\n * @param {*} [data] options to pass to the page on show\n *\n * @return {boolean} operation status\n */\napp.route = function ( pageTo, data ) {\n    var pageFrom = app.activePage;\n\n    if ( DEVELOP ) {\n        //if ( router.pages.length > 0 ) {\n        if ( !pageTo || typeof pageTo !== 'object' ) {\n            throw new Error(__filename + ': wrong pageTo type');\n        }\n        if ( !('active' in pageTo) ) {\n            throw new Error(__filename + ': missing field \"active\" in pageTo');\n        }\n        //}\n    }\n\n    // valid not already active page\n    if ( pageTo && !pageTo.active ) {\n        //debug.log('router.navigate: ' + pageTo.id, pageTo === pageFrom ? 'grey' : 'green');\n        debug.info('app route: ' + pageTo.name + '#' + pageTo.id, null, {tags: ['route', pageTo.name, pageTo.id]});\n\n        // update url\n        //location.hash = this.stringify(name, data);\n\n        // apply visibility\n        hidePage(app.activePage);\n        showPage(pageTo, data);\n\n        // there are some listeners\n        if ( this.events['route'] ) {\n            // notify listeners\n            this.emit('route', {from: pageFrom, to: pageTo});\n        }\n\n        // store\n        //this.history.push(pageTo);\n\n        return true;\n    }\n\n    //debug.warn('invalid page to route: ' + pageTo.id, null, {tags: ['route', 'page', pageTo.id]});\n    console.warn('invalid page to route: ' + pageTo.id);\n\n    // nothing was done\n    return false;\n};\n\n\n// public\nmodule.exports = app;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nvar app = require('./lib/main');\n\n\nmodule.exports = app;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\n\n/**\n * Base Events Emitter implementation.\n *\n * @see http://nodejs.org/api/events.html\n * @constructor\n *\n * @example\n * var emitter = new Emitter();\n */\nfunction Emitter () {\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    // if ( DEVELOP ) {\n    //     if ( typeof this !== 'object' ) { throw new Error(__filename + ': must be constructed via new'); }\n    // }\n\n    /**\n     * Inner hash table for event names and linked callbacks.\n     * Manual editing should be avoided.\n     *\n     * @member {Object.<string, function[]>}\n     *\n     * @example\n     * {\n     *     click: [\n     *         function click1 () { ... },\n     *         function click2 () { ... }\n     *     ],\n     *     keydown: [\n     *         function () { ... }\n     *     ]\n     * }\n     **/\n    this.events = {};\n}\n\n\nEmitter.prototype = {\n    /**\n     * Bind an event to the given callback function.\n     * The same callback function can be added multiple times for the same event name.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to call on this event\n     *\n     * @example\n     * emitter.addListener('click', function ( data ) { ... });\n     * // one more click handler\n     * emitter.addListener('click', function ( data ) { ... });\n     */\n    addListener: function ( name, callback ) {\n        console.assert(arguments.length === 2, 'wrong arguments number');\n        console.assert(typeof name === 'string', 'wrong name type');\n        console.assert(name.length > 0, 'empty name');\n        console.assert(typeof callback === 'function', 'callback should be a function');\n\n        // if ( DEVELOP ) {\n        //     if ( arguments.length !== 2 ) { throw new Error(__filename + ': wrong arguments number'); }\n        //     if ( typeof name !== 'string' || name.length === 0 ) { throw new Error(__filename + ': wrong or empty name'); }\n        //     if ( typeof callback !== 'function' ) { throw new Error(__filename + ': wrong callback type'); }\n        // }\n\n        // initialization may be required\n        this.events[name] = this.events[name] || [];\n        // append this new event to the list\n        this.events[name].push(callback);\n    },\n\n\n    /**\n     * Add a one time listener for the event.\n     * This listener is invoked only the next time the event is fired, after which it is removed.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to call on this event\n     *\n     * @example\n     * emitter.once('click', function ( data ) { ... });\n     */\n    once: function ( name, callback ) {\n        // current execution context\n        var self = this;\n\n        if ( DEVELOP ) {\n            if ( arguments.length !== 2 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n            if ( typeof callback !== 'function' ) {\n                throw new Error(__filename + ': wrong callback type');\n            }\n        }\n\n        // initialization may be required\n        this.events[name] = this.events[name] || [];\n        // append this new event to the list\n        this.events[name].push(function onceWrapper () {\n            self.removeListener(name, onceWrapper);\n            callback.apply(self, arguments);\n        });\n    },\n\n\n    /**\n     * Apply multiple listeners at once.\n     *\n     * @param {Object} callbacks event names with callbacks\n     *\n     * @example\n     * emitter.addListeners({\n     *     click: function ( data ) {},\n     *     close: function ( data ) {}\n     * });\n     */\n    addListeners: function ( callbacks ) {\n        var name;\n\n        if ( DEVELOP ) {\n            if ( arguments.length !== 1 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof callbacks !== 'object' ) {\n                throw new Error(__filename + ': wrong callbacks type');\n            }\n            if ( Object.keys(callbacks).length === 0 ) {\n                throw new Error(__filename + ': no callbacks given');\n            }\n        }\n\n        for ( name in callbacks ) {\n            if ( callbacks.hasOwnProperty(name) ) {\n                this.addListener(name, callbacks[name]);\n            }\n        }\n    },\n\n\n    /**\n     * Remove all instances of the given callback.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to remove\n     *\n     * @example\n     * emitter.removeListener('click', func1);\n     */\n    removeListener: function ( name, callback ) {\n        if ( DEVELOP ) {\n            if ( arguments.length !== 2 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n            if ( typeof callback !== 'function' ) {\n                throw new Error(__filename + ': wrong callback type');\n            }\n            if ( this.events[name] && !Array.isArray(this.events[name]) ) {\n                throw new Error(__filename + ': corrupted inner data');\n            }\n        }\n\n        // the event exists and should have some callbacks\n        if ( this.events[name] ) {\n            // rework the callback list to exclude the given one\n            this.events[name] = this.events[name].filter(function callbacksFilter ( fn ) { return fn !== callback; });\n            // event has no more callbacks so clean it\n            if ( this.events[name].length === 0 ) {\n                // as if there were no listeners at all\n                this.events[name] = undefined;\n            }\n        }\n    },\n\n\n    /**\n     * Remove all callbacks for the given event name.\n     * Without event name clears all events.\n     *\n     * @param {string} [name] event identifier\n     *\n     * @example\n     * emitter.removeAllListeners('click');\n     * emitter.removeAllListeners();\n     *\n     * @deprecated\n     */\n    /*removeAllListeners: function ( name ) {\n        if ( DEVELOP ) {\n            if ( arguments.length !== 0 && (typeof name !== 'string' || name.length === 0) ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n        }\n\n        // check input\n        if ( arguments.length === 0 ) {\n            // no arguments so remove everything\n            this.events = {};\n        } else if ( name ) {\n            if ( DEVELOP ) {\n                if ( this.events[name] ) { throw new Error(__filename + ': event is not removed'); }\n            }\n\n            // only name is given so remove all callbacks for the given event\n            // but object structure modification should be avoided\n            this.events[name] = undefined;\n        }\n    },*/\n\n\n    /**\n     * Execute each of the listeners in the given order with the supplied arguments.\n     *\n     * @param {string} name event identifier\n     *\n     * @example\n     * emitter.emit('init');\n     * emitter.emit('click', {src: panel1, dst: panel2});\n     * emitter.emit('load', error, data);\n     *\n     * // it's a good idea to emit event only when there are some listeners\n     * if ( this.events['click'] ) {\n     *     this.emit('click', {event: event});\n     * }\n     */\n    emit: function ( name ) {\n        var event = this.events[name],\n            index;\n\n        if ( DEVELOP ) {\n            if ( arguments.length < 1 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n        }\n\n        // the event exists and should have some callbacks\n        if ( event ) {\n            if ( DEVELOP ) {\n                if ( !Array.isArray(event) ) {\n                    throw new Error(__filename + ': wrong event type');\n                }\n            }\n\n            for ( index = 0; index < event.length; index++ ) {\n                if ( DEVELOP ) {\n                    if ( typeof event[index] !== 'function' ) {\n                        throw new Error(__filename + ': wrong event callback type');\n                    }\n                }\n\n                // invoke the callback with parameters\n                event[index].apply(this, Array.prototype.slice.call(arguments, 1));\n            }\n        }\n    }\n};\n\n\n// correct constructor name\nEmitter.prototype.constructor = Emitter;\n\n\n// public\nmodule.exports = Emitter;\n","/**\n * Global list of non-printable control key codes.\n *\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\n// public\nmodule.exports = {\n    backspace: 8,\n    tab:       9,\n    enter:     13,\n    escape:    27,\n    space:     32,\n    pageUp:    33,\n    pageDown:  34,\n    end:       35,\n    home:      36,\n    left:      37,\n    up:        38,\n    right:     39,\n    down:      40,\n    insert:    45,\n    // not \"delete\" because of old browsers issue\n    del:       46\n};\n","/**\n * @license The MIT License (MIT)\n * @copyright Boris Aleynikov <aleynikov.boris@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar List = require('mag-component-list'),\n    Layout = require('mag-component-layout');\n\n/**\n *  Layout list contains array of layout components\n *\n * @constructor\n * @extends List\n *\n * @param {Object} config object\n * @param {Element} [config.noData=''] element or string to display if set empty data\n *\n * @example\n * var LayoutList = require('mag-component-layout-list'),\n *     list = new LayoutList({\n *         propagate: true,\n *         size: 7,\n *         focusIndex: 0,\n *         noData: 'No channels'\n *         data: [\n *                 {\n *                     items: [\n *                         {\n *                             className: 'star',\n *                             name: '$text'\n *                         },\n *                         'Some text'\n *                     ],\n *                     click: function () {\n *                         // do something\n *                     },\n *                     name: 'starItem'\n *                 },\n *                 {\n *                     items: [\n *                         'Hello world',\n *                         {\n *                             value: 'hi',\n *                             className: 'status'\n *                         }\n *                     ],\n *                     value:{\n *                         uri: 'http://55.55.55.55/some'\n *                     },\n *                     click: someHandler\n *                 },\n *                 {\n *                     items: [\n *                         {\n *                             className: 'big',\n *                             value: ' Some'\n *                         },\n *                         {\n *                             value: new Input()\n *                         }\n *                     ]\n *                 },\n *                 {\n *                     items: [\n *                         new Button({value: 'Ok'}),\n *                         new Button({value: 'Cancel'}),\n *                         new Button({value: 'Exit'})\n *                     ]\n *                 }\n *             ]\n * });\n *\n * list.links.starItem.links.$text.innerText = 'new Text';\n *\n */\nfunction LayoutList ( config ) {\n    var self = this;\n\n    config = config || {};\n\n    /**\n     * Elements handlers\n     */\n    this.handlers = {};\n\n    /**\n     * Hash map of layouts links\n     */\n    this.links = {};\n\n    /**\n     * No data placeholder\n     *\n     * @type {Element}\n     */\n    this.$noData = null;\n\n    //config.className = 'layoutList ' + (config.className || '');\n\n    config.propagate = config.propagate === undefined ? true : config.propagate;\n\n    /**\n     * Set data layout to be fixed to cache HTML elements\n     *\n     * @type {boolean|*}\n     */\n    this.fixedData = config.fixedData || false;\n\n    //config.$body = document.createElement('div');\n\n    config.$body = document.createElement('div');\n    config.$body.className = 'body';\n\n    this.$noData = document.createElement('div');\n    this.$noData.className = 'noData hidden';\n\n    List.call(this, config);\n\n    this.$node.appendChild(this.$body);\n    this.$node.appendChild(this.$noData);\n\n    // add handler to focus inner layout\n    this.addListener('click:item', function ( event ) {\n        // focus inner layout of item\n        if ( event.$item.layout.children.length && !event.inner ) {\n            event.$item.layout.children[event.$item.layout.focusIndex].focus();\n        }\n\n        // only focus item if we click mouse\n        if ( event.inner ) {\n            self.focus();\n            self.focusItem(event.$item);\n        }\n        // do click callback if it present\n        if ( self.handlers[event.$item.index] ) {\n            self.handlers[event.$item.index](event.$item);\n        }\n    });\n}\n\n\nLayoutList.prototype = Object.create(List.prototype);\nLayoutList.prototype.constructor = LayoutList;\n\n// set component name\nLayoutList.prototype.name = 'mag-component-layout-list';\n\n\n/*eslint id-length:0*/\n/**\n * Default render function\n *\n * @param {Element} $item in list\n * @param {Object} config to render layout element\n */\nLayoutList.prototype.renderItemDefault = function ( $item, config ) {\n    var layout, layoutConfig,\n        currentNode,\n        currentData,\n        i;\n\n    if ( $item.ready && this.fixedData ) {\n        for ( i = 0; i < config.items.length; i++ ) {\n            currentData = config.items[i];\n            if ( typeof currentData.value === 'string' || currentData.value === undefined ) {\n                currentNode = $item.layout.$node.childNodes[i];\n                currentNode.innerText = currentData.value || '';\n                currentNode.className = currentData.className || '';\n            }\n        }\n    } else {\n        // clear inner content\n        while ( $item.firstChild ) {\n            $item.removeChild($item.firstChild);\n        }\n\n        layoutConfig = {\n            focusable: false,\n            data: config.items\n        };\n\n        if ( config.className ) {\n            layoutConfig.className = config.className;\n        }\n\n        layout = new Layout(layoutConfig);\n\n        if ( config.name ) {\n            this.links[config.name] = layout;\n        }\n\n        $item.appendChild(layout.$node);\n        $item.layout = layout;\n        layout.parent = this;\n        layout.$parentItem = $item;\n\n        // focus layoutList if click on layout\n        layout.addListener('click', function () {\n            // add inner property to set that event comes from inner component\n            layout.parent.emit('click:item', {$item: $item, inner: true});\n        });\n\n        if ( config.click ) {\n            this.handlers[$item.index] = config.click;\n        }\n        // item is rendered\n        $item.ready = true;\n    }\n    $item.value = config.value || {};\n};\n\n\nLayoutList.prototype.setData = function ( config ) {\n    this.links = {};\n    List.prototype.setData.call(this, config);\n\n    if ( config.data && config.data.length ) {\n        this.$noData.classList.add('hidden');\n    } else {\n        this.$noData.classList.remove('hidden');\n    }\n};\n\n\nLayoutList.prototype.init = function ( config ) {\n    var $wrap;\n\n    List.prototype.init.call(this, config);\n    if ( config.noData ) {\n        if ( DEVELOP ) {\n            if ( typeof config.noData !== 'string' && !(config.noData instanceof Element) ) {\n                throw new Error(__filename + ': wrong config.$noData type');\n            }\n        }\n\n        this.$noData.innerHTML = '';\n        if ( config.noData instanceof Element ) {\n            this.$noData.appendChild(config.noData);\n        } else if ( typeof config.noData === 'string' ) {\n            $wrap = document.createElement('div');\n            $wrap.innerText = config.noData;\n            this.$noData.appendChild($wrap);\n        }\n    }\n\n    if ( config.data && config.data.length ) {\n        this.$noData.classList.add('hidden');\n    } else {\n        this.$noData.classList.remove('hidden');\n    }\n};\n\nLayoutList.prototype.renderItem = LayoutList.prototype.renderItemDefault;\n\n\nmodule.exports = LayoutList;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n/* eslint complexity: [error, 37] */\n/* eslint max-lines-per-function: 1 */\n/* eslint no-fallthrough: 1 */\n/* eslint complexity: 1 */\n\n'use strict';\n\nvar Component = require('stb-component'),\n    keys      = require('stb-keys');\n\n\n/**\n * Mouse click event.\n *\n * @event module:stb/ui/list~List#click:item\n *\n * @type {Object}\n * @property {Element} $item clicked HTML item\n * @property {Event} event click event data\n */\n\n\n/**\n * Base list implementation.\n *\n * Each data item can be either a primitive value or an object with these fields:\n *\n *  Name    | Description\n * ---------|-------------\n *  value   | actual cell value to render\n *  mark    | is it necessary or not to render this cell as marked\n *\n * @constructor\n * @extends Component\n *\n * @param {Object}   [config={}]          init parameters (all inherited from the parent)\n * @param {Array}    [config.data=[]]     component data to visualize\n * @param {function} [config.render]      method to build each grid cell content\n * @param {function} [config.navigate]    method to move focus according to pressed keys\n * @param {number}   [config.size=5]      amount of visible items on a page\n * @param {number}   [config.viewIndex=0] move view window to this position on init\n * @param {number}   [config.focusIndex]  list item index to make item focused (move view window to this position)\n * @param {boolean}  [config.cycle=true]  allow or not to jump to the opposite side of a list when there is nowhere to go next\n * @param {boolean}  [config.scroll=null] associated ScrollBar component link\n * @param {Object}   [config.provider]    data provider\n *\n * @fires module:stb/ui/list~List#click:item\n */\nfunction List ( config ) {\n    // current execution context\n    //var self = this;\n\n    // sanitize\n    config = config || {};\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        if ( config.type && Number(config.type) !== config.type ) {\n            throw new Error(__filename + ': config.type must be a number');\n        }\n    }\n\n    /**\n     * Link to the currently focused DOM element.\n     *\n     * @type {Element}\n     */\n    this.$focusItem = null;\n\n    /**\n     * Position of the visible window to render.\n     *\n     * @type {number}\n     */\n    this.viewIndex = null;\n\n    /**\n     * Component data to visualize.\n     *\n     * @type {Array}\n     */\n    this.data = [];\n\n    /**\n     * Component orientation.\n     *\n     * @type {number}\n     */\n    this.type = this.TYPE_VERTICAL;\n\n    /**\n     * Amount of visible items on a page.\n     *\n     * @type {number}\n     */\n    this.size = 5;\n\n    /**\n     * Allow or not to jump to the opposite side of a list when there is nowhere to go next.\n     *\n     * @type {boolean}\n     */\n    this.cycle = false;\n\n    /**\n     * Associated ScrollBar component link.\n     *\n     * @type {ScrollBar}\n     */\n    this.scroll = null;\n\n    // horizontal or vertical\n    if ( config.type ) {\n        // apply\n        this.type = config.type;\n    }\n\n    /**\n     * Associated data provider\n     *\n     * @type {Provider}\n     */\n    this.provider = null;\n\n    if ( this.type === this.TYPE_HORIZONTAL ) {\n        config.className += ' horizontal';\n    }\n\n    //config.className += ' theme-main';\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // component setup\n    this.init(config);\n\n    // custom navigation method\n    //if ( config.navigate ) {\n    //    if ( DEVELOP ) {\n    //        if ( typeof config.navigate !== 'function' ) { throw new Error(__filename + ': wrong config.navigate type'); }\n    //    }\n    //    // apply\n    //    this.navigate = config.navigate;\n    //}\n\n    // navigation by keyboard\n    //this.addListener('keydown', this.navigate);\n\n    // navigation by mouse\n    //this.$body.addEventListener('mousewheel', function ( event ) {\n    //    // scrolling by Y axis\n    //    if ( self.type === self.TYPE_VERTICAL && event.wheelDeltaY ) {\n    //        self.move(event.wheelDeltaY > 0 ? 38 : keys.down);\n    //    }\n    //\n    //    // scrolling by X axis\n    //    if ( self.type === self.TYPE_HORIZONTAL && event.wheelDeltaX ) {\n    //        self.move(event.wheelDeltaX > 0 ? 37 : 39);\n    //    }\n    //});\n}\n\n\n// inheritance\nList.prototype = Object.create(Component.prototype);\nList.prototype.constructor = List;\n\n// set component name\nList.prototype.name = 'mag-component-list';\n\nList.prototype.TYPE_VERTICAL   = 1;\nList.prototype.TYPE_HORIZONTAL = 2;\n\n\n/**\n * Fill the given item with data.\n *\n * @param {Element} $item item DOM link\n * @param {*} data associated with this item data\n */\nList.prototype.renderItemDefault = function ( $item, data ) {\n    $item.innerText = data.value;\n};\n\n\n/**\n * Method to build each list item content.\n * Can be redefined to provide custom rendering.\n *\n * @type {function}\n */\nList.prototype.renderItem = List.prototype.renderItemDefault;\n\n\n/**\n * List of all default event callbacks.\n *\n * @type {Object.<string, function>}\n */\nList.prototype.defaultEvents = {\n    /**\n     * Default method to handle mouse wheel events.\n     *\n     * @param {Event} event generated event\n     */\n    mousewheel: function ( event ) {\n        // scrolling by Y axis\n        if ( this.type === this.TYPE_VERTICAL && event.wheelDeltaY ) {\n            this.move(event.wheelDeltaY > 0 ? keys.up : keys.down);\n        }\n\n        // scrolling by X axis\n        if ( this.type === this.TYPE_HORIZONTAL && event.wheelDeltaX ) {\n            this.move(event.wheelDeltaX > 0 ? keys.left : keys.right);\n        }\n    },\n\n    /**\n     * Default method to handle keyboard keydown events.\n     *\n     * @param {Object} event generated event\n     */\n    keydown: function ( event ) {\n        switch ( event.code ) {\n            case keys.up:\n            case keys.down:\n            case keys.right:\n            case keys.left:\n            case keys.pageUp:\n            case keys.pageDown:\n            case keys.home:\n            case keys.end:\n                // cursor move only on arrow keys\n                this.move(event.code);\n                break;\n            case keys.enter:\n                // there are some listeners\n                if ( this.events['click:item'] && this.$focusItem ) {\n                    // notify listeners\n                    this.emit('click:item', {$item: this.$focusItem, event: event});\n                }\n                break;\n        }\n    }\n};\n\n\n/**\n * Default method to move focus according to pressed keys.\n *\n * @param {Object} event generated event source of movement\n */\n//List.prototype.navigateDefault = function ( event ) {\n//    switch ( event.code ) {\n//        case 38:\n//        case 40:\n//        case 39:\n//        case 37:\n//        case 33:\n//        case 34:\n//        case 36:\n//        case 35:\n//            // cursor move only on arrow keys\n//            this.move(event.code);\n//            break;\n//        case 13:\n//            // there are some listeners\n//            if ( this.events['click:item'] ) {\n//                // notify listeners\n//                this.emit('click:item', {$item: this.$focusItem, event: event});\n//            }\n//            break;\n//    }\n//};\n\n\n/**\n * Current active method to move focus according to pressed keys.\n * Can be redefined to provide custom navigation.\n *\n * @type {function}\n */\n//List.prototype.navigate = List.prototype.navigateDefault;\n\n\n/**\n * Make all the data items identical.\n * Wrap to objects if necessary.\n *\n * @param {Array} data incoming array\n * @return {Array} reworked incoming data\n */\nfunction normalize ( data ) {\n    var idx, item;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( !Array.isArray(data) ) {\n            throw new Error(__filename + ': wrong data type');\n        }\n    }\n\n    // rows\n    for ( idx = 0; idx < data.length; idx++ ) {\n        // cell value\n        item = data[idx];\n        // primitive value\n        if ( typeof item !== 'object' ) {\n            // wrap with defaults\n            item = data[idx] = {\n                value: data[idx]\n            };\n        }\n\n        if ( DEVELOP ) {\n            //if ( !('value' in item) ) { throw new Error(__filename + ': field \"value\" is missing'); }\n            if ( ('mark' in item) && Boolean(item.mark) !== item.mark ) {\n                throw new Error(__filename + ': item.mark must be boolean');\n            }\n        }\n    }\n\n    return data;\n}\n\n\n/**\n * Init or re-init of the component inner structures and HTML.\n *\n * @param {Object} config init parameters (subset of constructor config params)\n */\nList.prototype.init = function ( config ) {\n    var self     = this,\n        currSize = this.$body.children.length,\n        /**\n         * Item mouse click handler.\n         *\n         * @param {Event} event click event data\n         *\n         * @this Element\n         *\n         * @fires module:stb/ui/list~List#click:item\n         */\n        onClick = function ( event ) {\n            if ( this.data ) {\n                self.focusItem(this);\n\n                // there are some listeners\n                if ( self.events['click:item'] ) {\n                    // notify listeners\n                    self.emit('click:item', {$item: this, event: event});\n                }\n            }\n        },\n        item, idx;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n    }\n\n    // apply cycle behaviour\n    if ( config.cycle !== undefined ) { this.cycle = config.cycle; }\n\n    // apply ScrollBar link\n    if ( config.scroll ) { this.scroll = config.scroll; }\n\n    // apply data provider\n    if ( config.provider ) { this.provider = config.provider; }\n\n\n    // custom render method\n    if ( config.render ) {\n        if ( DEVELOP ) {\n            if ( typeof config.render !== 'function' ) {\n                throw new Error(__filename + ': wrong config.render type');\n            }\n        }\n\n        // apply\n        this.renderItem = config.render;\n    }\n\n    // list items amount on page\n    if ( config.size ) {\n        if ( DEVELOP ) {\n            if ( Number(config.size) !== config.size ) {\n                throw new Error(__filename + ': config.size must be a number');\n            }\n            if ( config.size <= 0 ) {\n                throw new Error(__filename + ': config.size should be positive');\n            }\n        }\n\n        // apply\n        this.size = config.size;\n    }\n\n    if ( config.events ) {\n        // apply all given events\n        Object.keys(config.events).forEach(function ( name ) {\n            self.events[name] = null;\n            self.addListener(name, config.events[name]);\n        });\n    }\n\n    // geometry has changed or initial draw\n    if ( this.size !== currSize ) {\n        // non-empty list\n        if ( currSize > 0 ) {\n            // clear old items\n            this.$body.innerText = null;\n        }\n\n        // create new items\n        for ( idx = 0; idx < this.size; idx++ ) {\n            item = document.createElement('div');\n            item.index = idx;\n            //item.className = 'item theme-list-item';\n            item.className = 'item';\n\n            item.addEventListener('click', onClick);\n            this.$body.appendChild(item);\n        }\n    }\n\n    if ( this.provider ) {\n        if ( this.provider.blocked ) {\n            return;\n        }\n\n        this.provider.get( null, function ( error, data ) {\n            if ( error ) {\n                if ( self.events['data:error'] ) {\n                    /**\n                     * Provider get error while take new data\n                     *\n                     * @event module:stb/ui/list~List#data:error\n                     */\n                    self.emit('data:error', error);\n                }\n            } else {\n                if ( data ) {\n                    config.data = data;\n                    self.setData(config);\n                    if ( self.scroll ) {\n                        self.scroll.init({\n                            realSize: self.provider.maxCount,\n                            viewSize: self.provider.size,\n                            value: self.provider.head + self.provider.pos\n                        });\n                    }\n                }\n                if ( self.events['data:get'] ) {\n                    /**\n                     * Provider request new data\n                     *\n                     * @event module:stb/ui/list~List#data:get\n                     *\n                     * @type {Object}\n                     */\n                    self.emit('data:get');\n                }\n            }\n        });\n    } else if ( config.data ) {\n        this.setData(config);\n    }\n};\n\n/**\n * Set data and render inner structures and HTML.\n *\n * @param {Object} config init parameters (subset of constructor config params)\n */\nList.prototype.setData = function ( config ) {\n    // apply list of items\n\n    if ( config.data ) {\n        if ( DEVELOP ) {\n            if ( !Array.isArray(config.data) ) { throw new Error(__filename + ': wrong config.data type'); }\n        }\n        // prepare user data\n        this.data = normalize(config.data);\n    }\n\n    // view window position\n    if ( DEVELOP ) {\n        if ( config.viewIndex !== undefined ) {\n            if ( Number(config.viewIndex) !== config.viewIndex ) {\n                throw new Error(__filename + ': config.viewIndex must be a number');\n            }\n            if ( config.viewIndex < 0 ) {\n                throw new Error(__filename + ': config.viewIndex should be positive');\n            }\n        }\n    }\n\n    // reset current view window position\n    this.viewIndex = null;\n\n    if ( this.$focusItem ) {\n        this.blurItem(this.$focusItem);\n    }\n\n    if ( this.scroll ) {\n        if ( this.provider ) {\n            if ( this.scroll.realSize !== this.provider.maxCount ) {\n                this.scroll.init({\n                    realSize: this.provider.maxCount,\n                    viewSize: this.provider.size,\n                    value: this.provider.head + this.provider.pos\n                });\n            }\n        } else {\n            this.scroll.init({\n                realSize: this.data.length,\n                viewSize: this.size,\n                value: config.viewIndex || 0\n            });\n        }\n    }\n\n    // set focus item\n    if ( config.focusIndex !== undefined && this.data.length ) {\n        if ( DEVELOP ) {\n            if ( Number(config.focusIndex) !== config.focusIndex ) {\n                throw new Error(__filename + ': config.focusIndex must be a number');\n            }\n            if ( config.focusIndex < 0 ) {\n                throw new Error(__filename + ': config.focusIndex should be positive');\n            }\n            // if ( config.focusIndex > this.data.length - 1 ) {\n            //     throw new Error(__filename + ': config.focusIndex should be less than data size');\n            // }\n        }\n\n        // jump to the necessary item\n        this.focusIndex(config.focusIndex);\n    } else {\n        // go to the first page\n        this.renderView(config.viewIndex || 0);\n    }\n};\n\n\n/**\n * Shift the visible view window event.\n *\n * @event module:stb/ui/list~List#move:view\n *\n * @type {Object}\n * @property {number} prevIndex previous view window position\n * @property {number} currIndex current view window position\n */\n\n\n/**\n * Draw the visible window.\n *\n * @param {number} index start position to render\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/ui/list~List#move:view\n */\nList.prototype.renderView = function ( index ) {\n    var $item, idx, itemData, prevIndex, currIndex;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( Number(index) !== index ) {\n            throw new Error(__filename + ': index must be a number');\n        }\n        if ( index < 0 ) {\n            throw new Error(__filename + ': index should be more than zero');\n        }\n        // if ( index >= this.data.length ) {\n        //     throw new Error(__filename + ': index should be less than data size');\n        // }\n    }\n\n    // has the view window position changed\n    if ( this.viewIndex !== index ) {\n        // save for emit\n        prevIndex = this.viewIndex;\n        // sync global pointer\n        this.viewIndex = currIndex = index;\n\n        // rebuild all visible items\n        for ( idx = 0; idx < this.size; idx++ ) {\n            // shortcuts\n            $item    = this.$body.children[idx];\n            itemData = this.data[index];\n\n            // real item or stub\n            if ( itemData ) {\n                // correct inner data/index and render\n                $item.data  = itemData;\n                $item.index = index;\n                this.renderItem($item, itemData);\n\n                // apply CSS\n                if ( itemData.mark ) {\n                    $item.classList.add('mark');\n                } else {\n                    $item.classList.remove('mark');\n                }\n            } else {\n                // nothing to render\n                $item.data = $item.index = undefined;\n                $item.innerHTML = '&nbsp;';\n                $item.ready = false;\n            }\n            index++;\n        }\n\n        // there are some listeners\n        if ( this.events['move:view'] ) {\n            // notify listeners\n            this.emit('move:view', {prevIndex: prevIndex, currIndex: currIndex});\n        }\n\n        // there are some listeners\n        if ( this.events['select:item'] ) {\n            this.emit('select:item', {$item: $item});\n        }\n\n        // update a linked scroll component\n        if ( this.scroll ) {\n            this.scroll.scrollTo(this.provider ? this.provider.head + this.provider.pos : this.viewIndex);\n        }\n\n        // full rebuild\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n/**\n * Move focus to the given direction.\n *\n * @param {number} direction arrow key code\n *\n * @fires module:stb/ui/list~List#cycle\n * @fires module:stb/ui/list~List#overflow\n */\nList.prototype.move = function ( direction ) {\n    var self = this,\n        force = false;\n\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( Number(direction) !== direction ) {\n            throw new Error(__filename + ': direction must be a number');\n        }\n    }\n\n    // empty list\n    if ( !this.data.length ) {\n        return;\n    }\n\n    switch ( direction ) {\n        case keys.left:\n            if ( this.type === this.TYPE_HORIZONTAL ) {\n                force = true;\n            } else {\n                break;\n            }\n        case keys.up:\n            if ( force || this.type === this.TYPE_VERTICAL ) {\n                if ( this.$focusItem && this.$focusItem.index > 0 ) {\n                    if ( this.$focusItem === this.$body.firstChild ) {\n                        this.renderView(this.viewIndex - 1);\n                    } else {\n                        this.focusItem(this.$focusItem.previousSibling);\n                    }\n                } else if ( this.provider ) {\n                    if ( this.provider.blocked ) {\n                        return;\n                    }\n\n                    this.provider.get(direction, function ( error, data, pos ) {\n                        if ( error ) {\n                            if ( self.events['data:error'] ) {\n                                /**\n                                     * Provider get error while take new data\n                                     *\n                                     * @event module:stb/ui/list~List#data:error\n                                     */\n                                self.emit('data:error', error);\n                            }\n                        } else if ( data ) {\n                            self.setData({data: data, focusIndex: pos || pos === 0 ? pos : self.$focusItem.index});\n                        }\n                    });\n                } else {\n                    // already at the beginning\n                    if ( this.cycle ) {\n                        // jump to the end of the list\n                        this.move(keys.end);\n                    }\n                    if ( this.events['overflow'] ) {\n                        // notify listeners\n                        this.emit('overflow', {direction: direction, cycle: this.cycle});\n                    }\n                }\n            }\n            break;\n        case keys.right:\n            if ( this.type === this.TYPE_HORIZONTAL ) {\n                force = true;\n            } else {\n                break;\n            }\n        case keys.down:\n            if ( force || this.type === this.TYPE_VERTICAL ) {\n                if ( this.$focusItem && this.$focusItem.index < this.data.length - 1 ) {\n                    if ( this.$focusItem === this.$body.lastChild ) {\n                        this.renderView(this.viewIndex + 1);\n                    } else {\n                        this.focusItem(this.$focusItem.nextSibling);\n                    }\n                } else if ( this.provider ) {\n                    if ( this.provider.blocked ) {\n                        return;\n                    }\n\n                    this.provider.get(direction, function ( error, data, pos ) {\n                        if ( error ) {\n                            if ( self.events['data:error'] ) {\n                                /**\n                                     * Provider get error while take new data\n                                     *\n                                     * @event module:stb/ui/list~List#data:error\n                                     */\n                                self.emit('data:error', error);\n                            }\n                        } else if ( data ) {\n                            self.setData({data: data, focusIndex: pos || pos === 0 ? pos : self.$focusItem.index});\n                        }\n                    });\n                } else {\n                    // already at the beginning\n                    if ( this.cycle ) {\n                        // jump to the beginning of the list\n                        this.move(keys.home);\n                    }\n                    if ( this.events['overflow'] ) {\n                        // notify listeners\n                        this.emit('overflow', {direction: direction, cycle: this.cycle});\n                    }\n                }\n            }\n            break;\n        case keys.pageUp:\n            if ( this.provider ) {\n                if ( this.provider.blocked ) {\n                    return;\n                }\n\n                this.provider.get(direction, function ( error, data, pos ) {\n                    if ( error ) {\n                        if ( self.events['data:error'] ) {\n                            /**\n                             * Provider get error while take new data\n                             *\n                             * @event module:stb/ui/list~List#data:error\n                             */\n                            self.emit('data:error', error);\n                        }\n                    } else if ( data ) {\n                        self.setData({data: data, focusIndex: pos ? pos : 0});\n                    }\n                });\n\n                return;\n            }\n            if ( this.viewIndex < this.size ) {\n                // first page\n                this.renderView(0);\n            } else {\n                // second page and further\n                this.renderView(this.viewIndex - this.size + 1);\n            }\n\n            this.focusItem(this.$body.firstChild);\n            break;\n        case keys.pageDown:\n            if ( this.provider ) {\n                if ( this.provider.blocked ) {\n                    return;\n                }\n\n                this.provider.get(direction, function ( error, data, pos ) {\n                    var focusIndex;\n\n                    if ( error ) {\n                        if ( self.events['data:error'] ) {\n                            /**\n                             * Provider get error while take new data\n                             *\n                             * @event module:stb/ui/list~List#data:error\n                             */\n                            self.emit('data:error', error);\n                        }\n                    } else if ( data ) {\n                        if ( pos || pos === 0 ) {\n                            focusIndex = pos;\n                        } else {\n                            focusIndex = data.length < self.size ?  data.length - 1 : self.size - 1;\n                        }\n\n                        self.setData({data: data, focusIndex: focusIndex});\n                    }\n                });\n                break;\n            }\n            // data is bigger then one page\n            if ( this.data.length > this.size ) {\n                // determine jump size\n                if ( this.viewIndex > this.data.length - this.size * 2 ) {\n                    // last page\n                    this.renderView(this.data.length - this.size);\n                } else {\n                    // before the last page\n                    this.renderView(this.viewIndex + this.size - 1);\n                }\n                this.focusItem(this.$body.lastChild);\n            } else {\n                // not the last item on the page\n                this.focusItem(this.$body.children[this.data.length - 1]);\n            }\n            break;\n        case keys.home:\n            if ( this.provider ) {\n                if ( this.provider.blocked ) {\n                    return;\n                }\n\n                this.provider.get(direction, function ( error, data, pos ) {\n                    if ( error ) {\n                        if ( self.events['data:error'] ) {\n                            /**\n                             * Provider get error while take new data\n                             *\n                             * @event module:stb/ui/list~List#data:error\n                             */\n                            self.emit('data:error', error);\n                        }\n                    } else if ( data ) {\n                        self.setData({data: data, focusIndex: pos ? pos : 0});\n                    }\n                });\n                break;\n            }\n            this.renderView(0);\n            this.focusItem(this.$body.firstChild);\n            break;\n        case keys.end:\n            if ( this.provider ) {\n                if ( this.provider.blocked ) {\n                    return;\n                }\n\n                this.provider.get(direction, function ( error, data, pos ) {\n                    var focusIndex;\n\n                    if ( error ) {\n                        if ( self.events['data:error'] ) {\n                            /**\n                             * Provider get error while take new data\n                             *\n                             * @event module:stb/ui/list~List#data:error\n                             */\n                            self.emit('data:error', error);\n                        }\n                    } else if ( data ) {\n                        if ( pos || pos === 0 ) {\n                            focusIndex = pos;\n                        } else {\n                            focusIndex = data.length < self.size ?  data.length - 1 : self.size - 1;\n                        }\n\n                        self.setData({data: data, focusIndex: focusIndex});\n                    }\n                });\n                break;\n            }\n            if ( this.data.length > this.size ) {\n                this.renderView(this.data.length - this.size);\n                this.focusItem(this.$body.lastChild);\n            } else {\n                // not the last item on the page\n                this.focusItem(this.$body.children[this.data.length - 1]);\n            }\n            break;\n    }\n};\n\n\n/**\n * Highlight the given DOM element as focused.\n * Remove focus from the previously focused item and generate associated event.\n *\n * @param {Node|Element} $item element to focus\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/ui/list~List#focus:item\n * @fires module:stb/ui/list~List#blur:item\n */\nList.prototype.focusItem = function ( $item ) {\n    var $prev = this.$focusItem;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n    }\n\n    // different element\n    if ( $item && $prev !== $item ) {\n        if ( DEVELOP ) {\n            if ( !($item instanceof Element) ) {\n                throw new Error(__filename + ': wrong $item type');\n            }\n            if ( $item.parentNode !== this.$body ) {\n                throw new Error(__filename + ': wrong $item parent element');\n            }\n        }\n\n        // some item is focused already\n        if ( $prev !== null ) {\n            if ( DEVELOP ) {\n                if ( !($prev instanceof Element) ) {\n                    throw new Error(__filename + ': wrong $prev type');\n                }\n            }\n\n            // style\n            $prev.classList.remove('focus');\n            //$prev.classList.remove('theme-focus');\n\n            // there are some listeners\n            if ( this.events['blur:item'] ) {\n                /**\n                 * Remove focus from an element.\n                 *\n                 * @event module:stb/ui/list~List#blur:item\n                 *\n                 * @type {Object}\n                 * @property {Element} $item previously focused HTML element\n                 */\n                this.emit('blur:item', {$item: $prev});\n            }\n        }\n        // reassign\n        this.$focusItem = $item;\n\n        this.$focusItem.data = this.data[this.$focusItem.index];\n\n        // correct CSS\n        $item.classList.add('focus');\n        //$item.classList.add('theme-focus');\n\n        // there are some listeners\n        if ( this.events['focus:item'] ) {\n            /**\n             * Set focus to a DOM element.\n             *\n             * @event module:stb/ui/list~List#focus:item\n             *\n             * @type {Object}\n             * @property {Element} $prev old/previous focused HTML element\n             * @property {Element} $curr new/current focused HTML element\n             */\n            this.emit('focus:item', {$prev: $prev, $curr: $item});\n        }\n\n        // there are some listeners\n        if ( this.events['select:item'] ) {\n            /**\n             * Set focus to a list item.\n             *\n             * @event module:stb/ui/list~List#select:item\n             *\n             * @type {Object}\n             * @property {Element} $item new/current focused item\n             */\n            this.emit('select:item', {$item: $item});\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n/**\n * Highlight the given DOM element as blur.\n * Remove focus from the item and generate associated event.\n *\n * @param {Node|Element} $item element to focus\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/ui/list~List#focus:item\n * @fires module:stb/ui/list~List#blur:item\n */\nList.prototype.blurItem = function ( $item ) {\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) { throw new Error(__filename + ': wrong arguments number'); }\n    }\n\n    // different element\n    if ( $item ) {\n        if ( $item === this.$focusItem ) {\n            this.$focusItem = null;\n        }\n\n        $item.classList.remove('focus');\n        //$item.classList.remove('theme-focus');\n\n        // there are some listeners\n        if ( this.events['blur:item'] ) {\n            /**\n             * Remove focus from an element.\n             *\n             * @event module:stb/ui/list~List#blur:item\n             *\n             * @type {Object}\n             * @property {Element} $item previously focused HTML element\n             */\n            this.emit('blur:item', {$item: $item});\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n/**\n * Set the given item focused by item index.\n *\n * @param {number} index item data index\n */\nList.prototype.focusIndex = function ( index ) {\n    var viewIndex = this.viewIndex || 0;\n\n    if ( DEVELOP ) {\n        if ( Number(index) !== index ) {\n            throw new Error(__filename + ': index must be a number');\n        }\n        if ( index < 0 ) {\n            throw new Error(__filename + ': index should be positive');\n        }\n        // if ( index > this.data.length - 1 ) {\n        //     throw new Error(__filename + ': index should be less than data size');\n        // }\n    }\n\n    // determine direction\n    if ( index >= viewIndex + this.size ) {\n        // check range\n        index = index < this.data.length - 1 ? index : this.data.length - 1;\n        // move down\n        this.renderView(index - this.size + 1);\n        this.focusItem(this.$body.lastChild);\n    } else if ( index < viewIndex ) {\n        // check range\n        index = index > 0 ? index : 0;\n        // move up\n        this.renderView(index);\n        this.focusItem(this.$body.firstChild);\n    } else {\n        // no move\n        if ( this.viewIndex === null ) {\n            // first attempt\n            this.renderView(0);\n        }\n        this.focusItem(this.$body.children[index - viewIndex]);\n    }\n};\n\n\n/**\n * Set item state and appearance as marked.\n *\n * @param {Node|Element} $item element to focus\n * @param {boolean} state true - marked, false - not marked\n */\nList.prototype.markItem = function ( $item, state ) {\n    if ( DEVELOP ) {\n        if ( arguments.length !== 2 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( !($item instanceof Element) ) {\n            throw new Error(__filename + ': wrong $item type');\n        }\n        if ( $item.parentNode !== this.$body ) {\n            throw new Error(__filename + ': wrong $item parent element');\n        }\n        if ( Boolean(state) !== state ) {\n            throw new Error(__filename + ': state must be boolean');\n        }\n    }\n\n    // correct CSS\n    if ( state ) {\n        $item.classList.add('mark');\n    } else {\n        $item.classList.remove('mark');\n    }\n\n    // apply flag\n    $item.data.mark = state;\n};\n\n\n// public\nmodule.exports = List;\n","/**\n * @license The MIT License (MIT)\n * @copyright Dmitry Fedotov <bas.jsdev@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\n\nvar StbComponentModal = require('stb-component-modal'),\n    Component         = require('stb-component'),\n    keys              = require('stb-keys');\n\n\n/**\n * Modal window implementation.\n *\n * @constructor\n * @extends StbComponentModal\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n * @param {Object} [config.title] message title\n * @param {Object} [config.className] message classname\n * @param {Object} [config.icon] icon at header\n * @param {Object} [config.visible] visibility flag\n * @param {Object} [config.children] content (inherited from the parent)\n *\n * @example\n * var modalSort = new Modal({\n *     visible: false,\n *     title: 'sort',\n *     events: {\n *         show: function () {\n *             list.focus();\n *         },\n *         hide: function () {\n *             page.panelSet.focus();\n *         }\n *     },\n *     children: [list = new RadioList({})]\n * });\n * page.add(modalSort);\n */\nfunction Modal ( config ) {\n    var self = this,\n        $overlay, $body, onkeydown;\n\n    // sanitize\n    config = config || {};\n    config.events = config.events || {};\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( config.icon && typeof config.icon !== 'string' ) {\n            throw new Error(__filename + ': wrong or empty config.icon');\n        }\n        if ( config.title && typeof config.title !== 'string' ) {\n            throw new Error(__filename + ': wrong or empty config.title');\n        }\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        if ( config.$body ) {\n            throw new Error(__filename + ': config.$body should not be provided in Modal manually');\n        }\n    }\n\n    // usually can't accept focus\n    config.focusable = config.focusable || false;\n    // hide by default\n    config.visible = config.visible || false;\n    // add default close by click\n    config.events.click = config.events.click || function () { self.hide(); };\n    // add close window behavior, when pushed a back button or a menu button\n    onkeydown = config.events.keydown;\n    config.events.keydown = function ( event ) {\n        if ( onkeydown ) {\n            onkeydown.call(this, event);\n        }\n        if ( event.code === keys.back || event.code === keys.menu ) {\n            event.stop = true;\n            self.hide();\n        }\n    };\n\n    // parent constructor call\n    StbComponentModal.call(this, config);\n\n    // add table-cell wrappers\n    this.$node.appendChild(document.createElement('div'));\n    this.$node.firstChild.classList.add('alignBox');\n    this.$node.firstChild.appendChild(document.createElement('div'));\n\n    // add header div\n    this.$header = document.createElement('div');\n    this.$header.className = 'header';\n\n    // insert caption placeholder\n    this.$text = this.$header.appendChild(document.createElement('div'));\n    this.$text.classList.add('text');\n    this.$text.innerText = config.title || '';\n\n    // optional icon\n    if ( config.icon ) {\n        this.$icon = this.$header.appendChild(document.createElement('div'));\n        this.$icon.className = 'icon ' + config.icon;\n    }\n\n    $overlay = document.createElement('div');\n    $overlay.className = 'overlay';\n\n    // add to dom\n    // add body wrapper\n    $body = this.$body.parentNode.removeChild(this.$body);\n    this.$node.firstChild.firstChild.appendChild(this.$header);\n    this.$node.firstChild.firstChild.appendChild($body);\n    this.$node.firstChild.firstChild.appendChild($overlay);\n}\n\n\n// inheritance\nModal.prototype = Object.create(StbComponentModal.prototype);\nModal.prototype.constructor = Modal;\n\n// set component name\nModal.prototype.name = 'mag-component-modal';\n\n\n/**\n * Redefine default component focus to set additional css\n */\nModal.prototype.focus = function () {\n    this.$node.classList.add('active');\n    StbComponentModal.prototype.focus.call(this);\n    if ( this.children[0] && this.children[0] instanceof Component ) {\n        this.children[0].focus();\n    }\n};\n\n\n/**\n * Blur message\n */\nModal.prototype.blur = function () {\n    this.$node.classList.remove('active');\n    StbComponentModal.prototype.blur.call(this);\n};\n\n\n// public\nmodule.exports = Modal;\n","/**\n * List of constant resource types for using in application.\n *\n * @module types\n */\n\n'use strict';\n\n/* OLD STUFF todo: remove after refactor\n 0 - init screen\n 1 - storage\n 2 - network\n 3 - folder\n 4 - file\n // here are subtypes for type 'file'\n */\n\n/*\n 0  - init screen\n 1  - favorites\n 2  - network\n 3  - work groups\n 4  - servers\n 5  - shares | *\n 6  - permanent shares\n\n 8  - storage | *\n 9  - folder | *\n 10 - file | *\n 11 - cue | *\n */\n\nvar types = {\n    fs: [\n        'Unknown',\n        'FAT16',\n        'FAT32',\n        'EXT2',\n        'EXT3',\n        'NTFS',\n        'EXT4'\n    ],\n    media: {\n        init: {\n            id: 0\n        },\n        favorite: {\n            id: 1,\n            opener: null\n        },\n        network: {\n            id: 10\n        },\n        smb: {\n            id: 20,\n            opener: null\n        },\n        smbWorkgroup: 21,\n        smbServer: 22,\n        smbShare: 23,\n        smbPermanentShare: {\n            id: 24,\n            opener: null\n        },\n        nfs: {\n            id: 30,\n            opener: null\n        },\n        nfsServer: 31,\n        nfsShare: 32,\n        nfsPermanentShare: {\n            id: 33,\n            opener: null\n        },\n        upnp: {\n            id: 40,\n            opener: null\n        },\n        upnpServer: 41,\n        upnpHost: 42,\n        upnpDir: 43,\n        folder: {\n            id: 50,\n            opener: null\n        },\n        file: 60,\n        fileVideo: {\n            id: 61,\n            icon: 'theme-icon-video',\n            opener: null,\n            mime: 'content/video',\n            extensions: [\n                'mpg',\n                'mpeg',\n                'mov',\n                'mp4',\n                'avi',\n                'mkv',\n                '3gp',\n                'ts',\n                'trp',\n                'vob',\n                'wmv',\n                'mts',\n                'm2t',\n                'm2v',\n                'divx',\n                'm2ts',\n                'm2p',\n                'tp',\n                'flv',\n                'mod',\n                'tod',\n                'asf',\n                'tts',\n                'm4v'\n            ]\n        },\n        fileAudio: {\n            id: 62,\n            icon: 'theme-icon-audio',\n            opener: null,\n            mime: 'content/audio',\n            extensions: ['mp3', 'wav', 'ac3', 'ogg', 'oga', 'aiff', 'wv', 'tta', 'wma', 'aac', 'dts', 'flac', 'ape', 'm4a']\n        },\n        fileImage: {\n            id: 63,\n            icon: 'theme-icon-image',\n            opener: null,\n            mime: 'content/image',\n            extensions: ['jpg', 'jpeg', 'png', 'bmp', 'gif', 'tif', 'tiff']\n        },\n        fileText: {\n            id: 64,\n            icon: 'theme-icon-text',\n            opener: null,\n            extensions: ['txt', 'srt', 'sub', 'ass']\n        },\n        fileCUE: {\n            id: 65,\n            icon: 'theme-icon-cue',\n            opener: null,\n            extensions: ['cue']\n        },\n        fileISO: {\n            id: 66,\n            icon: 'theme-icon-iso',\n            opener: null,\n            mime: 'content/video',\n            extensions: ['iso']\n        },\n        fileRecords: {\n            id: 67,\n            icon: 'theme-icon-record',\n            opener: null,\n            extensions: ['tspinf']\n        },\n        filePlaylist: {\n            id: 68,\n            icon: 'theme-icon-playlist',\n            opener: null,\n            extensions: ['m3u', 'm3u8']\n        },\n        fileStream: {\n            id: 69,\n            icon: 'theme-icon-stream',\n            opener: null,\n            mime: 'content/media',\n            extensions: ['']\n        }\n    },\n    idToMedia: {}\n};\n\nObject.keys(types.media).forEach(function ( key ) {\n    types.idToMedia[types.media[key].id] = types.media[key];\n});\n\n\nmodule.exports = types;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app = require('spa-app/lib/core');\n//    metrics = require('app:metrics'),\n//    linkCSS;\n\n\n// global link\n//app.metrics = metrics[app.query.screenHeight] || metrics[screen.height] || metrics[720];\n\n// calculate and extend\n//app.metrics.availHeight = app.metrics.height - (app.metrics.availTop  + app.metrics.availBottom);\n//app.metrics.availWidth  = app.metrics.width  - (app.metrics.availLeft + app.metrics.availRight);\n\n// // set max browser window size\n// window.moveTo(0, 0);\n// window.resizeTo(metrics.width, metrics.height);\n\n// load CSS file base on resolution\n/*linkCSS = document.createElement('link');\nlinkCSS.rel  = 'stylesheet';\nlinkCSS.href = 'css/' + (DEVELOP ? 'develop.' : 'release.') + app.metrics.height + '.css' + (DEVELOP ? '?' + Date.now() : '');\ndocument.head.appendChild(linkCSS);*/\n\n\n// public\nmodule.exports = function ( name ) {\n    var link = document.createElement('link');\n\n    link.rel  = 'stylesheet';\n    link.href = 'css/' + name + '.' + app.metrics.height + '.css' + (DEVELOP ? '?' + Date.now() : '');\n    document.head.appendChild(link);\n};\n","/**\n * @license The MIT License (MIT)\n * @copyright Boris Aleynikov <aleynikov.boris@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('stb-component'),\n    Layout = require('mag-component-layout');\n\n\n/**\n * Extended panel implementation.\n *\n * @constructor\n * @extends Component\n * @param {Object} [config={}] - init parameters (all inherited from the parent)\n * @param {boolean} [config.main=false] - set panel as main\n * @param {boolean} [config.size=1] - size of panel width\n *\n * @example\n * main = new Panel({\n *     size: 1,\n *     title: ['Left Panel', {className: 'info'}],\n *     main: true,\n *     children: [\n *         new List({\n *             data: ['1 bla', '2 bro', '3 car', '4 hoho', 'Search'],\n *             size: 5\n *         })\n *     ]\n * });\n */\nfunction Panel ( config ) {\n    var $overlay;\n\n    config = config || {};\n\n    /**\n     * Size of panel.\n     *\n     * @type {number}\n     */\n    this.size = 1;\n\n    /**\n     * Set panel as main.\n     *\n     * @type {boolean}\n     */\n    this.main = false;\n\n    /**\n     * Index in panel set.\n     *\n     * @type {number}\n     */\n    this.index = 0;\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n    }\n\n    // set default className if classList property empty or undefined\n    //config.className = 'Panel ' + (config.className || '');\n\n    config.$body = document.createElement('div');\n    config.$body.className = 'body';\n\n    // parent constructor call\n    Component.call(this, config);\n\n    //this.$node.classList.add('theme-main');\n    //this.$node.classList.add('theme-panel');\n\n    // add special class to set component size\n    if ( config.size ) {\n        this.size = config.size;\n        this.$node.classList.add('size' + config.size);\n    }\n\n    // add special class to set main panel\n    if ( config.main ) {\n        this.main = true;\n        this.$node.classList.add('main');\n    }\n\n    // create elements to set as component shadows\n    this.shadows = {\n        $left: document.createElement('div'),\n        $right: document.createElement('div')\n    };\n\n    this.shadows.$left.className = 'shadow left';\n    this.$node.appendChild(this.shadows.$left);\n\n    this.shadows.$right.className = 'shadow right';\n    this.$node.appendChild(this.shadows.$right);\n\n    // add title to panel\n    if ( config.title ) {\n        if ( !Array.isArray(config.title) ) {\n            config.title = [config.title];\n        }\n\n        this.title = new Layout({\n            //className: 'title theme-header theme-title',\n            className: 'title',\n            data: config.title,\n            focusable: false\n        });\n        this.$node.appendChild(this.title.$node);\n    }\n\n    this.$node.appendChild(this.$body);\n\n    $overlay = document.createElement('div');\n    $overlay.className = 'overlay';\n    this.$node.appendChild($overlay);\n}\n\n\n// inheritance\nPanel.prototype = Object.create(Component.prototype);\nPanel.prototype.constructor = Panel;\n\n// set component name\nPanel.prototype.name = 'mag-component-panel';\n\n\n/**\n * Define default events.\n *\n * @type {{focus: Function}} try to focus first child component if it present\n */\nPanel.prototype.defaultEvents = {\n    focus: function () {\n        if ( this.children.length ) {\n            this.children[0].focus();\n        }\n    }\n};\n\n\n/**\n * Redefine default component focus to set panel as active even when give focus to children components.\n */\nPanel.prototype.focus = function () {\n    if ( this.focusable ) {\n        this.parent.panels[this.parent.focusIndex].$node.classList.remove('active');\n        this.parent.panels[this.parent.focusIndex].$node.classList.remove('top');\n\n        Component.prototype.focus.call(this);\n\n        this.parent.focusIndex = this.index;\n        this.$node.classList.add('active');\n        this.$node.classList.add('top');\n\n        if ( this.index === 0 && this.parent.panels[1] && this.parent.panels[1].main ) {\n            this.parent.panels[1].$node.classList.remove('position-left');\n            this.parent.panels[1].$node.classList.add('position-right');\n\n            if ( this.parent.panels[2] ) {\n                this.parent.panels[2].$node.classList.remove('expand');\n            }\n\n            this.$node.classList.add('expand');\n        } else if ( this.index === 2 && this.parent.panels[1].main ) {\n            this.parent.panels[1].$node.classList.remove('position-right');\n            this.parent.panels[1].$node.classList.add('position-left');\n            this.parent.panels[0].$node.classList.remove('expand');\n            this.$node.classList.add('expand');\n        }\n    }\n};\n\n\n/**\n * Blur panel.\n */\nPanel.prototype.blur = function () {\n    this.parent.panels[this.parent.focusIndex].$node.classList.remove('active');\n    Component.prototype.blur.call(this);\n};\n\n\n// public\nmodule.exports = Panel;\n","/**\n * @license The MIT License (MIT)\n * @copyright Boris Aleynikov <aleynikov.boris@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('stb-component'),\n    keys      = require('stb-keys');\n\n/**\n * Layout component implementation\n *\n * @constructor\n * @extends Component\n *\n * @param {Object}   [config={}]          init parameters (all inherited from the parent)\n * @param {Array} [config.data] array of items to add to layout\n */\nfunction Layout ( config ) {\n    var self = this;\n\n    // sanitize\n    config = config || {};\n\n    /**\n     * Index of focused child component\n     * @type {number}\n     */\n    this.focusIndex = 0;\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && config.className !== undefined && typeof config.className !== 'string' ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n    }\n\n    //config.className = 'layout ' + (config.className || '');\n\n    /**\n     * Component data\n     * @type {Array}\n     */\n    this.data = [];\n\n    /**\n     *  Hash map of item links\n     */\n    this.links = {};\n\n    Component.call(this, config);\n\n    this.init(config);\n\n    // add listener to move focus between children\n    this.addListener('keydown', function ( event ) {\n        switch ( event.code ) {\n            case keys.right:\n                if ( self.children.length && self.focusIndex < self.children.length - 1 ) {\n                    self.children[++self.focusIndex].focus();\n                }\n                break;\n            case keys.left:\n                if ( self.children.length && self.focusIndex > 0 ) {\n                    self.children[--self.focusIndex].focus();\n                }\n                break;\n            case keys.back:\n                // focus parent focused item if parent is layout list\n                if ( self.parent ) {\n                    self.parent.focus();\n                    if ( self.$parentItem ) {\n                        self.parent.focusItem(self.$parentItem);\n                    }\n                }\n                break;\n        }\n    });\n}\n\n\nLayout.prototype = Object.create(Component.prototype);\nLayout.prototype.constructor = Layout;\n\n// set component name\nLayout.prototype.name = 'mag-component-layout';\n\n\n/**\n * Make all the data items identical.\n * Wrap to objects if necessary.\n *\n * @param {Array} data incoming array\n * @return {Array} reworked incoming data\n */\nfunction normalize ( data ) {\n    var index, item;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( !Array.isArray(data) ) {\n            throw new Error(__filename + ': wrong data type');\n        }\n    }\n\n    // rows\n    for ( index = 0; index < data.length; index++ ) {\n        // cell value\n        item = data[index];\n        // plain text\n        if ( typeof item === 'object' ) {\n            // HTML element or component\n            if ( item instanceof Component || item instanceof HTMLElement ) {\n                data[index] = {\n                    value: item,\n                    wrap: false\n                };\n            } else {\n                data[index].wrap = true;\n            }\n        } else {\n            // wrap with defaults\n            data[index] = {\n                value: data[index],\n                wrap: true\n            };\n        }\n    }\n\n    return data;\n}\n\n\n/**\n * Init or re-init of the component inner structures and HTML.\n *\n * @param {Object} config init parameters (subset of constructor config params)\n */\nLayout.prototype.init = function ( config ) {\n    var self = this,\n        data = normalize(config.data),\n        item, $wrapper, index;\n\n    // clear element if reinit\n    while (this.$node.firstChild) {\n        this.$node.removeChild(this.$node.firstChild);\n    }\n\n    this.data = data;\n\n    /**\n     * @this Component\n     */\n    function componentClickHandler () {\n        self.focusIndex = this.index;\n    }\n\n    for ( index = 0; index < data.length; index++ ) {\n        item = data[index];\n        // plain text\n        if ( typeof item.value === 'string' ) {\n            $wrapper = document.createElement('div');\n            $wrapper.textContent = item.value;\n            if ( item.className ) { $wrapper.className = item.className; }\n            this.$node.appendChild($wrapper);\n            if ( item.name ) {\n                this.links[item.name] = $wrapper;\n            }\n        } else if ( item.value instanceof HTMLElement ) {\n            // HTML Element\n\n            // if with wrapper\n            if ( item.wrap ) {\n                $wrapper = document.createElement('div');\n                if ( item.className ) { $wrapper.className = item.className; }\n                $wrapper.appendChild(item.value);\n                this.$node.appendChild($wrapper);\n                if ( item.name ) {\n                    this.links[item.name] = $wrapper;\n                }\n            } else {\n                // without wrapper\n                this.$node.appendChild(item.value);\n                if ( item.name ) {\n                    this.links[item.name] = item.value;\n                }\n            }\n        } else if ( item.value instanceof Component ) {\n            // component\n            // force propagate events\n            item.value.propagate = true;\n\n            // set index to current component\n            item.value.index = this.children.length;\n\n            // change layout focus index if click component\n            item.value.addListener('click', componentClickHandler);\n\n            // append component\n            if ( item.wrap ) {\n                // with wrapper\n                $wrapper = document.createElement('div');\n                if ( item.className ) { $wrapper.className = item.className; }\n                $wrapper.appendChild(item.value.$node);\n                this.$node.appendChild($wrapper);\n                this.children.push(item.value);\n                item.value.parent = this;\n                if ( item.name ) {\n                    this.links[item.name] = $wrapper;\n                }\n            } else {\n                // without wrapper\n                this.add(item.value);\n                if ( item.name ) {\n                    this.links[item.name] = item.value;\n                }\n            }\n        } else {\n            $wrapper = document.createElement('div');\n            if ( item.className ) { $wrapper.className = item.className; }\n            this.$node.appendChild($wrapper);\n            if ( item.name ) {\n                this.links[item.name] = $wrapper;\n            }\n        }\n    }\n};\n\n\nmodule.exports = Layout;\n","/**\n * @license The MIT License (MIT)\n * @copyright Boris Aleynikov <aleynikov.boris@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('stb-component'),\n    keys      = require('stb-keys');\n\n/**\n * Magsdk panel set implementation\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n * @param {Array} [config.panels] array of panels to use\n * @param {Array} [config.focusIndex=0] focus panel index\n * @constructor\n * @extends Component\n */\nfunction PanelSet ( config ) {\n    var self = this,\n        index;\n\n    config = config || {};\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        if ( config.panels && !Array.isArray(config.panels) || !config.panels.length ) {\n            throw new Error(__filename + ': wrong config.panels type');\n        }\n    }\n\n    // can't accept focus\n    config.focusable = config.focusable || false;\n\n    // set default className if classList property empty or undefined\n    //config.className = 'panelSet ' + (config.className || '');\n\n    // parent constructor call\n    Component.call(this, config);\n\n    this.panels = config.panels;\n\n    /**\n     * Index of current active panel\n     *\n     * @type {number}\n     */\n    this.focusIndex = 0;\n\n    // set special panels classes\n    if ( config.panels && !config.panels[0].main ) {\n        config.panels[0].$node.classList.add('left');\n        // small resolution special class\n        config.panels[0].$node.classList.add('expand');\n    }\n\n    if (  config.panels && config.panels[1] && config.panels[1].main ) {\n        // small resolution special class\n        config.panels[1].$node.classList.add('position-right');\n    }\n\n    if ( config.panels && config.panels[2] && config.panels[1].main ) {\n        config.panels[2].$node.classList.add('right');\n    }\n\n    // add panels\n    if ( config.panels ) {\n        this.add.apply(this, config.panels);\n    }\n\n    // panel keydown handler to set focus panel\n    function keydownHandler ( event ) {\n        switch ( event.code ) {\n            case keys.left:\n                if ( self.focusIndex > 0 ) {\n                    self.panels[self.focusIndex - 1].focus();\n                }\n                break;\n            case keys.right:\n                if ( self.focusIndex < self.panels.length - 1 ) {\n                    self.panels[self.focusIndex + 1].focus();\n                }\n                break;\n        }\n    }\n\n    // add special listener\n    for ( index = 0; index < this.panels.length; index++ ) {\n        this.panels[index].addListeners({\n            keydown: keydownHandler\n        });\n        // set panels indexes\n        this.panels[index].index = index;\n    }\n\n    /*if ( config.focusIndex && config.focusIndex < this.panels.length ) {\n     this.panels[config.focusIndex].focus();\n     } else {\n     if ( config.panels.length > 1 ) {\n     this.panels[1].focus();\n     } else {\n     this.panels[0].focus();\n     }\n     }*/\n}\n\nPanelSet.prototype = Object.create(Component.prototype);\nPanelSet.prototype.constructor = PanelSet;\n\n// set component name\nPanelSet.prototype.name = 'mag-component-panel-set';\n\n\n/**\n *\n */\nPanelSet.prototype.focus = function () {\n    Component.prototype.focus.call(this);\n    this.panels[this.focusIndex].focus();\n};\n\n/**\n *\n */\nPanelSet.prototype.blur = function () {\n    this.panels[this.focusIndex].blur();\n};\n\nmodule.exports = PanelSet;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n// public\nmodule.exports = require('spa-component-button');\n\n// correct component name\nmodule.exports.prototype.name = 'stb-component-button';\n","/**\n * HTML elements low-level handling.\n *\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n/* eslint no-unused-vars: 0 */\n\n/**\n * DOM manipulation module\n */\nvar dom = {};\n\n\n/**\n * Create a new HTML element.\n *\n * @param {string} tagName mandatory tag name\n * @param {Object|null} [attrList] element attributes\n * @param {...*} [content] element content (primitive value/values or other nodes)\n * @return {Node|null} HTML element or null on failure\n *\n * @example\n * dom.tag('table');\n * dom.tag('div', {}, 'some text');\n * dom.tag('div', {className:'top'}, dom.tag('span'), dom.tag('br'));\n * dom.tag('link', {rel:'stylesheet', type:'text/css', href:'http://some.url/'});\n */\ndom.tag = function ( tagName, attrList, content ) {\n    var node = null,\n        index, name;\n\n    // minimal param is given\n    if ( tagName ) {\n        // empty element\n        node = document.createElement(tagName);\n\n        // optional attribute list is given\n        if ( attrList && typeof attrList === 'object' ) {\n            for ( name in attrList ) {\n                // extend a new node with the given attributes\n                node[name] = attrList[name];\n            }\n        }\n\n        // content (arguments except the first two)\n        for ( index = 2; index < arguments.length; index++ ) {\n            // some data is given\n            if ( arguments[index] ) {\n                // regular HTML tag or plain data\n                node.appendChild(\n                    typeof arguments[index] === 'object' ? arguments[index] : document.createTextNode(arguments[index])\n                );\n            }\n        }\n\n    }\n\n    return node;\n};\n\n\n/**\n * Create a new DocumentFragment filled with the given non-empty elements if any.\n *\n * @param {...*} [node] fragment content (primitive value/values or other nodes)\n * @return {DocumentFragment} new placeholder\n *\n * @example\n * // gives an empty fragment element\n * dom.fragment();\n * // gives a fragment element with 3 div element inside\n * dom.fragment(dom.tag('div'), div2, div3);\n * // mixed case\n * dom.fragment('some text', 123, div3);\n */\ndom.fragment = function ( node ) {\n    // prepare placeholder\n    var fragment = document.createDocumentFragment(),\n        index;\n\n    // walk through all the given elements\n    for ( index = 0; index < arguments.length; index++ ) {\n        node = arguments[index];\n        // some data is given\n        if ( node ) {\n            // regular HTML tag or plain data\n            fragment.appendChild(typeof node === 'object' ? node : document.createTextNode(node));\n        }\n    }\n\n    return fragment;\n};\n\n\n/**\n * Add the given non-empty data (HTML element/text or list) to the destination element.\n *\n * @param {Node} tagDst element to receive children\n * @param {...*} [content] element content (primitive value/values or other nodes)\n * @return {Node|null} the destination element - owner of all added data\n *\n * @example\n * // simple text value\n * add(some_div, 'Hello world');\n * // single DOM Element\n * add(some_div, some_other_div);\n * // DOM Element list\n * add(some_div, div1, div2, div3);\n * // mixed case\n * add(some_div, div1, 'hello', 'world');\n */\ndom.add = function ( tagDst, content ) {\n    var index;\n\n    // valid HTML tag as the destination\n    if ( tagDst instanceof Node ) {\n        // append all except the first one\n        for ( index = 1; index < arguments.length; index++ ) {\n            // some data is given\n            if ( arguments[index] ) {\n                // regular HTML tag or plain data\n                tagDst.appendChild(\n                    typeof arguments[index] === 'object' ? arguments[index] : document.createTextNode(arguments[index])\n                );\n            }\n        }\n\n        return tagDst;\n    }\n\n    return null;\n};\n\n\n/**\n * Remove the given elements from the DOM.\n *\n * @param {...Node} [nodes] element to be removed\n * @return {boolean} operation status (true - all given elements removed)\n *\n * @example\n * dom.remove(document.querySelector('div.test'));\n * dom.remove(div1, div2, div3);\n */\ndom.remove = function ( nodes ) {\n    // amount of successfully removed nodes\n    var count = 0,\n        index;\n\n    // walk through all the given elements\n    for ( index = 0; index < arguments.length; index++ ) {\n        // valid non-empty tag\n        if ( arguments[index] && arguments[index].parentNode ) {\n            if ( arguments[index].parentNode.removeChild(arguments[index]) === arguments[index] ) {\n                count++;\n            }\n        }\n    }\n\n    return arguments.length > 0 && count === arguments.length;\n};\n\n\ndom.clear = function ( node ) {\n    while ( node.lastChild ) {\n        node.removeChild(node.lastChild);\n    }\n};\n\n\n// public\nmodule.exports = dom;\n","/**\n * Operate with keyboard.\n *\n * @module keyboard\n */\n\n'use strict';\n\n\n/**\n * Open keyboard through core intent.\n *\n * @param {Object} config - keyboard config\n * @param {Function} [callback] - invoked on successful result\n */\nexports.open = function ( config, callback ) {\n    core.intent({\n        action: 'keyboard',\n        data: {\n            type:  config.type,\n            mode:  config.mode,\n            title: config.title,\n            value: config.value\n        },\n        events: {\n            done: function ( event ) {\n                if ( callback ) {\n                    callback(event);\n                }\n            }\n        }\n    }, function ( error ) {\n        console.log(error);\n    });\n};\n","/**\n * Convert number of bytes into human readable format.\n *\n * @module eval.space\n *\n * @author Stanislav Kalashnik <sk@infomir.eu>\n * @author Yaroslav Surilov <y.surilov@infomir.com>\n */\n\n'use strict';\n\n\n/**\n * Convert number of bytes into human readable format with some precision.\n *\n * @param {number} bytes - number of bytes to convert\n * @param {number} [precision] - number of digits after the decimal separator\n *\n * @return {string} converted view\n */\nfunction bytesToSize ( bytes, precision ) {\n    var kilobyte = 1024,\n        megabyte = kilobyte * 1024,\n        gigabyte = megabyte * 1024,\n        terabyte = gigabyte * 1024;\n\n    if ( !precision ) {\n        precision = 1;\n    }\n\n    if ( (bytes >= 0) && (bytes < kilobyte) ) {\n        return bytes + ' B';\n    } else if ( (bytes >= kilobyte) && (bytes < megabyte) ) {\n        return (bytes / kilobyte).toFixed(precision) + ' KB';\n    } else if ( (bytes >= megabyte) && (bytes < gigabyte) ) {\n        return (bytes / megabyte).toFixed(precision) + ' MB';\n    } else if ( (bytes >= gigabyte) && (bytes < terabyte) ) {\n        return (bytes / gigabyte).toFixed(precision) + ' GB';\n    } else if ( bytes >= terabyte ) {\n        return (bytes / terabyte).toFixed(precision) + ' TB';\n    }\n\n    return bytes + ' B';\n}\n\n\nmodule.exports = bytesToSize;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n// public\nmodule.exports = require('spa-component-page');\n\n// correct component name\nmodule.exports.prototype.name = 'stb-component-page';\n","/**\n * Media Browser / File Manager.\n * Main application initialization entry point.\n */\n\n'use strict';\n\nvar app = require('mag-app');\n\n\napp.once('load', function () {\n    require('spa-gettext').load({name: core.environment.language}, function () {\n        app.storage = {\n            favoritesStorage: [],\n            network: {\n                smb: [],\n                nfs: []\n            }\n        };\n\n        app.environment = {\n            get UPnPMode () {\n                return core.plugins.upnp.getState();\n            },\n            get readOnlyMode () {\n                return core.plugins.fs.getReadOnlyState();\n            }\n        };\n\n        app.runtime = {\n            isModalShown:             false,\n            isSearched:               false,\n            stillWaitNetworkResponse: false,\n            openShareAttempts:        0,\n            currentServer:            '',\n            currentShare:             ''\n        };\n\n        app.pages = {\n            main:    require('./pages/main'),\n            connect: require('./pages/connect')\n        };\n\n        app.route(app.pages.main);\n        app.ready();\n    });\n});\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app    = require('spa-app/lib/core'),\n    events = require('spa-app/lib/events');\n\n\n// get instance\nwindow.core = window.parent.getCoreInstance(window, app);\n\n// shims\nrequire('stb-shim-classlist');\n\n// apply geometry\nrequire('stb-app/lib/metrics');\n\n// load sdk css\nrequire('stb-app/lib/css')('sdk');\n\n// load theme css\nrequire('./css');\n\n// load app css\nrequire('stb-app/lib/css')('app');\n\n/**\n * Specify platform name\n *\n * @type {string}\n */\napp.platform = 'mag';\n\n/**\n * Show app.\n */\napp.ready = function () {\n    // if ( this.events['show'] ) {\n    //     this.emit('show');\n    // }\n    window.core.call('app:ready');\n};\n\n\n/**\n * Exit from app.\n * Destroy all application instance.\n * If callback function provided, and callback returns boolean 'true', application will stay alive.\n *\n * @fires module:/stb/app#exit\n */\napp.exit = function () {\n    if ( app.events['exit'] ) {\n        app.emit('exit');\n    }\n\n    core.call('exit');\n};\n\n\nevents.load = function ( event ) {\n    //window.core = window.parent.getCoreInstanse(window, app);\n    document.body.setAttribute('platform', app.platform);\n\n    if ( core.ready ) {\n        if ( app.events['load'] ) {\n            // notify listeners\n            app.emit('load', {});\n        }\n    } else {\n        core.once('load', function () {\n            //core.ready = true;\n            if ( app.events[event.type] ) {\n                // notify listeners\n                app.emit(event.type, event);\n            }\n        });\n    }\n};\n\n\n// activate development mechanisms and tools\nif ( DEVELOP ) {\n    //require('stb-develop');\n    require('./develop/main');\n} else {\n    // disable context menu\n    events.contextmenu = function ( event ) {\n        event.preventDefault();\n    };\n}\n\n\n//apply DOM events\nObject.keys(events).forEach(function ( name ) {\n    window.addEventListener(name, events[name]);\n});\n\n\n// new way of string handling\n// all strings are in UTF-16\n// since stbapp 2.18\n// if ( window.gSTB && gSTB.SetNativeStringMode ) {\n//     /* eslint new-cap: 0 */\n//     gSTB.SetNativeStringMode(true);\n// }\n\n// public\nmodule.exports = app;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nmodule.exports = {\n    /**\n     * Parse the given location search string into object.\n     *\n     * @param {string} query string to parse\n     *\n     * @return {Object.<string, string>} result data\n     */\n    parse: function ( query ) {\n        var data = {};\n\n        // parse and fill the data\n        query.split('&').forEach(function ( part ) {\n            part = part.split('=');\n            // valid number on params\n            if ( part.length === 2 ) {\n                data[part[0]] = decodeURIComponent(part[1]);\n            }\n        });\n\n        return data;\n    },\n\n\n    /**\n     * Make uri query part in a string form.\n     *\n     * @param {Object} params data to stringify\n     *\n     * @return {string} query string\n     */\n    stringify: function ( params ) {\n        var data = [];\n\n        Object.keys(params).forEach(function ( name ) {\n            data.push(name + '=' + encodeURIComponent(params[name]));\n        });\n\n        return data.join('&');\n    }\n};\n","/**\n * Global application configuration.\n * Can store run-time options, API urls, paths, execution flags and so on.\n * Automatically loaded on application initialization and available as app.config.\n */\n\n'use strict';\n\nmodule.exports = {\n    mountPathBase:   '/ram/mnt',\n    mountPathSMB:    '/ram/mnt/smb',\n    mountPathNFS:    '/ram/mnt/nfs',\n    defaultListSize: 7\n};\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app = require('./core');\n\n\n// public\nmodule.exports = {\n    DOMContentLoaded: function ( event ) {\n        //debug.event(event);\n        //console.log(event);\n\n        //debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type, event);\n\n        // there are some listeners\n        if ( app.events['dom'] ) {\n            // notify listeners\n            app.emit('dom', event);\n            //console.log('DOMContentLoaded');\n        }\n    },\n\n    /**\n     * The load event is fired when a resource and its dependent resources have finished loading.\n     *\n     * Control flow:\n     *   1. Global handler.\n     *   2. Each page handler.\n     *   3. Application DONE event.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/load\n     *\n     * @param {Event} event generated object with event data\n     */\n    load: function ( event ) {\n        //var path;\n\n        //debug.event(event);\n        //console.log(event);\n\n        // time mark\n        //app.data.time.load = event.timeStamp;\n\n        //debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type, event);\n\n        // global handler\n        // there are some listeners\n        if ( app.events[event.type] ) {\n            // notify listeners\n            app.emit(event.type, event);\n        }\n\n        // local handler on each page\n        /*router.pages.forEach(function forEachPages ( page ) {\n         debug.log('component ' + page.constructor.name + '.' + page.id + ' load', 'green');\n\n         // there are some listeners\n         if ( page.events[event.type] ) {\n         // notify listeners\n         page.emit(event.type, event);\n         }\n         });*/\n\n        // time mark\n        //app.data.time.done = +new Date();\n\n        // everything is ready\n        // and there are some listeners\n        // if ( app.events['done'] ) {\n        //     // notify listeners\n        //     app.emit('done', event);\n        // }\n    },\n\n    /**\n     * The unload event is fired when the document or a child resource is being unloaded.\n     *\n     * Control flow:\n     *   1. Each page handler.\n     *   2. Global handler.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/unload\n     *\n     * @param {Event} event generated object with event data\n     */\n    unload: function ( event ) {\n        //debug.event(event);\n        //console.log(event);\n\n        //debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type, event);\n\n        // global handler\n        // there are some listeners\n        if ( app.events[event.type] ) {\n            // notify listeners\n            app.emit(event.type, event);\n        }\n\n        // local handler on each page\n        /*router.pages.forEach(function forEachPages ( page ) {\n         debug.log('component ' + page.constructor.name + '.' + page.id + ' unload', 'red');\n\n         // there are some listeners\n         if ( page.events[event.type] ) {\n         // notify listeners\n         page.emit(event.type, event);\n         }\n         });*/\n    },\n\n    /**\n     * The error event is fired when a resource failed to load.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/error\n     *\n     * @param {Event} event generated object with event data\n     */\n    error: function ( event ) {\n        //debug.event(event);\n        //console.log(event);\n        //debug.fail('app event: ' + event.message, event, {tags: [event.type, 'event']});\n        console.error('app event: ' + event.message, event);\n    },\n\n    /**\n     * The keydown event is fired when a key is pressed down.\n     * Set event.stop to true in order to prevent bubbling.\n     *\n     * Control flow:\n     *   1. Current active component on the active page.\n     *   2. Current active page itself.\n     *   3. Application.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/keydown\n     *\n     * @param {Event} event generated object with event data\n     */\n    keydown: function ( event ) {\n        var page = app.activePage,\n            eventLocal = {\n                code: event.keyCode,\n                stop: false\n            },\n            activeComponent;\n\n        if ( DEVELOP ) {\n            if ( !page ) {\n                throw new Error(__filename + ': app should have at least one page');\n            }\n        }\n\n        // filter phantoms\n        //if ( event.keyCode === 0 ) { return; }\n\n        // combined key code\n        //event.code = event.keyCode;\n\n        // apply key modifiers\n        if ( event.ctrlKey )  { eventLocal.code += 'c'; }\n        if ( event.altKey )   { eventLocal.code += 'a'; }\n        if ( event.shiftKey ) { eventLocal.code += 's'; }\n\n        //debug.event(event);\n        //console.log(event);\n        //debug.info('app event: ' + event.type + ' - ' + eventLocal.code, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type + ' - ' + eventLocal.code, event);\n\n        // page.activeComponent can be set to null in event handles\n        activeComponent = page.activeComponent;\n\n        // current component handler\n        if ( activeComponent && activeComponent !== page ) {\n            // component is available and not page itself\n            if ( activeComponent.events[event.type] ) {\n                // there are some listeners\n                activeComponent.emit(event.type, eventLocal, event);\n            }\n\n            // todo: bubble event recursively\n            // bubbling\n            if (\n                !eventLocal.stop &&\n                activeComponent.propagate &&\n                activeComponent.parent &&\n                activeComponent.parent.events[event.type]\n            ) {\n                activeComponent.parent.emit(event.type, eventLocal, event);\n            }\n        }\n\n        // page handler\n        if ( !eventLocal.stop ) {\n            // not prevented\n            if ( page.events[event.type] ) {\n                // there are some listeners\n                page.emit(event.type, eventLocal, event);\n            }\n\n            // global app handler\n            if ( !event.stop ) {\n                // not prevented\n                if ( app.events[event.type] ) {\n                    // there are some listeners\n                    app.emit(event.type, eventLocal, event);\n                }\n            }\n        }\n\n        //// suppress non-printable keys in stb device (not in your browser)\n        //if ( app.data.host && keyCodes[event.code] ) {\n        //    event.preventDefault();\n        //}\n    },\n\n    /**\n     * The keypress event is fired when press a printable character.\n     * Delivers the event only to activeComponent at active page.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/keypress\n     *\n     * @param {Event} event generated object with event data\n     * @param {string} event.char entered character\n     */\n    keypress: function ( event ) {\n        var page = app.activePage;\n\n        if ( DEVELOP ) {\n            if ( page === null || page === undefined ) {\n                throw new Error(__filename + ': app should have at least one page');\n            }\n        }\n\n        //debug.event(event);\n        //console.log(event);\n        //debug.info('app event: ' + event.type + ' - ' + event.key, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type + ' - ' + event.key, event);\n\n        // current component handler\n        if ( page.activeComponent && page.activeComponent !== page ) {\n            // component is available and not page itself\n            if ( page.activeComponent.events[event.type] ) {\n                // there are some listeners\n                page.activeComponent.emit(event.type, event);\n            }\n        }\n    },\n\n    /**\n     * The click event is fired when a pointing device button (usually a mouse button) is pressed and released on a single element.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/click\n     *\n     * @param {Event} event generated object with event data\n     */\n    /*click: function ( event ) {\n     //debug.event(event);\n     //console.log(event);\n     debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n     },*/\n\n    /**\n     * The contextmenu event is fired when the right button of the mouse is clicked (before the context menu is displayed),\n     * or when the context menu key is pressed (in which case the context menu is displayed at the bottom left of the focused\n     * element, unless the element is a tree, in which case the context menu is displayed at the bottom left of the current row).\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/contextmenu\n     *\n     * @param {Event} event generated object with event data\n     */\n    // contextmenu: function ( event ) {\n    //     debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n    //\n    //     if ( !DEVELOP ) {\n    //         // disable right click in release mode\n    //         event.preventDefault();\n    //     }\n    // },\n\n    /*contextmenu: function ( event ) {\n     //var kbEvent = {}; //Object.create(document.createEvent('KeyboardEvent'));\n\n     //debug.event(event);\n     //console.log(event);\n     debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n\n     //kbEvent.type    = 'keydown';\n     //kbEvent.keyCode = 8;\n\n     //debug.log(kbEvent.type);\n\n     //globalEventListenerKeydown(kbEvent);\n     //var event = document.createEvent('KeyboardEvent');\n     //event.initEvent('keydown', true, true);\n\n     //document.dispatchEvent(kbEvent);\n\n     if ( !DEVELOP ) {\n     // disable right click in release mode\n     event.preventDefault();\n     }\n     },*/\n\n    /**\n     * The wheel event is fired when a wheel button of a pointing device (usually a mouse) is rotated.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/wheel\n     *\n     * @param {Event} event generated object with event data\n     */\n    mousewheel: function ( event ) {\n        var page = app.activePage;\n\n        if ( DEVELOP ) {\n            if ( page === null || page === undefined ) {\n                throw new Error(__filename + ': app should have at least one page');\n            }\n        }\n\n        //debug.event(event);\n        //console.log(event);\n        //debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type, event);\n\n        // current component handler\n        if ( page.activeComponent && page.activeComponent !== page ) {\n            // component is available and not page itself\n            if ( page.activeComponent.events[event.type] ) {\n                // there are some listeners\n                page.activeComponent.emit(event.type, event);\n            }\n        }\n\n        // page handler\n        if ( !event.stop ) {\n            // not prevented\n            if ( page.events[event.type] ) {\n                // there are some listeners\n                page.emit(event.type, event);\n            }\n        }\n    }\n};\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint-disable */\n\n'use strict';\n\n\nif ( !document.documentElement.classList ) {\n    var prototype = Array.prototype,\n        indexOf   = prototype.indexOf,\n        slice     = prototype.slice,\n        push      = prototype.push,\n        splice    = prototype.splice,\n        join      = prototype.join;\n\n    window.DOMTokenList = function ( el ) {\n        this._element = el;\n        if (el.className !== this._classCache) {\n            this._classCache = el.className;\n            if (!this._classCache) { return; }\n            var classes = this._classCache.replace(/^\\s+|\\s+$/g,'').split(/\\s+/),\n                i;\n            for (i = 0; i < classes.length; i++) {\n                push.call(this, classes[i]);\n            }\n        }\n    };\n\n    window.DOMTokenList.prototype = {\n        add: function ( token ) {\n            if(this.contains(token)) { return; }\n            push.call(this, token);\n            this._element.className = slice.call(this, 0).join(' ');\n        },\n\n        contains: function ( token ) {\n            return indexOf.call(this, token) !== -1;\n        },\n\n        item: function ( index ) {\n            return this[index] || null;\n        },\n\n        remove: function ( token ) {\n            var i = indexOf.call(this, token);\n            if (i === -1) {\n                return;\n            }\n            splice.call(this, i, 1);\n            this._element.className = slice.call(this, 0).join(' ');\n        },\n\n        toString: function () {\n            return join.call(this, ' ');\n        },\n\n        toggle: function ( token ) {\n            if (!this.contains(token)) {\n                this.add(token);\n            } else {\n                this.remove(token);\n            }\n            return this.contains(token);\n        }\n    };\n\n    Object.defineProperty(Element.prototype, 'classList', {\n        get: function () {\n            return new window.DOMTokenList(this);\n        }\n    });\n}\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app     = require('spa-app/lib/core'),\n    metrics = require('app:metrics');\n\n\n// global link\napp.metrics = metrics[app.query.screenHeight] || metrics[screen.height] || metrics[720];\n\n// calculate and extend\napp.metrics.availHeight = app.metrics.height - (app.metrics.availTop  + app.metrics.availBottom);\napp.metrics.availWidth  = app.metrics.width  - (app.metrics.availLeft + app.metrics.availRight);\n\n\n// public\n//module.exports = app;\n","/**\n * Application geometry options.\n * Automatically loaded on application initialization and available as app.metrics.\n */\n\n'use strict';\n\n// public\nmodule.exports = {\n    480: {\n        // screen base dimension\n        height: 480,\n        width:  720,\n        // safe zone margins\n        availTop:    24,\n        availBottom: 24,\n        availRight:  32,\n        availLeft:   48\n        // project-specific vars\n        // put here ...\n    },\n\n    576: {\n        // screen base dimension\n        height: 576,\n        width:  720,\n        // safe zone margins\n        availTop:    24,\n        availBottom: 24,\n        availRight:  26,\n        availLeft:   54\n        // project-specific vars\n        // put here ...\n    },\n\n    720: {\n        // screen base dimension\n        height: 720,\n        width:  1280,\n        // safe zone margins\n        availTop:    30,\n        availBottom: 30,\n        availRight:  40,\n        availLeft:   40\n        // project-specific vars\n        // put here ...\n    },\n\n    1080: {\n        // screen base dimension\n        height: 1080,\n        width:  1920,\n        // safe zone margins\n        availTop:    45,\n        availBottom: 45,\n        availRight:  60,\n        availLeft:   60\n        // project-specific vars\n        // put here ...\n    }\n};\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app = require('spa-app/lib/core'),\n    //metrics = require('app:metrics'),\n    linkCSS;\n\n\n//window.core = window.parent.getCoreInstance(window, app);\n\n\nlinkCSS = document.createElement('link');\nlinkCSS.rel  = 'stylesheet';\nlinkCSS.href = window.core.theme.path + app.metrics.height + '.css' + (DEVELOP ? '?' + Date.now() : '');\ndocument.head.appendChild(linkCSS);\n\n\n// public\nmodule.exports = linkCSS;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Emitter = require('cjs-emitter'),\n    Gettext = require('cjs-gettext'),\n    loader  = new Emitter();\n\n\n/**\n * Wrap the given data with gettext instance\n * and export methods to the global scope.\n *\n * @param {Object} [data] localization data\n *\n * @return {Gettext} gettext instance\n */\nfunction prepare ( data ) {\n    var gettext = new Gettext(data);\n\n    // make it global\n    window.gettext  = window._ = gettext.gettext;\n    window.pgettext = gettext.pgettext;\n    window.ngettext = gettext.ngettext;\n\n    return gettext;\n}\n\n\n/**\n * Main application language\n */\nloader.defaultLanguage = 'en';\n\n\n/**\n * Simple gettext implementation.\n *\n * @param {Object} config options\n * @param {string} [config.path=lang] relative path to project root\n * @param {string} config.name language name\n * @param {string} [config.ext=json] language file extension\n * @param {function} callback hook on ready\n *\n * @return {boolean} flag is ajax request was made\n */\nloader.load = function ( config, callback ) {\n    var xhr;\n\n    if ( DEVELOP ) {\n        if ( !config.name || typeof config.name !== 'string' ) {\n            throw new Error(__filename + ': config.name must be a nonempty string');\n        }\n        if ( typeof callback !== 'function' ) {\n            throw new Error(__filename + ': wrong callback type');\n        }\n    }\n\n    // defaults\n    config.ext  = config.ext  || 'json';\n    config.path = config.path || 'lang';\n\n    // is it necessary to request a localization file?\n    if ( config.name === loader.defaultLanguage ) {\n        // no\n        prepare();\n        callback(null);\n\n        return false;\n    }\n\n    // yes\n    xhr = new XMLHttpRequest();\n\n    xhr.onload = function () {\n        var json;\n\n        try {\n            json = JSON.parse(xhr.responseText);\n\n            prepare(json);\n            callback(null);\n\n            // there are some listeners\n            if ( loader.events['load'] ) {\n                // notify listeners\n                loader.emit('load');\n            }\n        } catch ( error ) {\n            xhr.onerror(error);\n        }\n    };\n\n    xhr.ontimeout = xhr.onerror = function ( error ) {\n        prepare();\n        callback(error);\n\n        // there are some listeners\n        if ( loader.events['error'] ) {\n            // notify listeners\n            loader.emit('error', error);\n        }\n    };\n\n    xhr.open('GET', config.path + '/' + config.name + '.' + config.ext, true);\n    xhr.send(null);\n\n    return true;\n};\n\n\n// public\nmodule.exports = loader;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\n\n/**\n * Translations handler.\n *\n * @constructor\n *\n * @param {Object} config init parameters\n */\nfunction Gettext ( config ) {\n    var data, meta;\n\n    // sanitize\n    config   = config || {};\n    data     = config.data || {};\n    data[''] = data[''] || {};\n\n    // shortcut\n    meta = config.meta;\n\n    /**\n     * Display the native language translation of a textual message.\n     *\n     * @param {string} msgId textual message\n     *\n     * @return {string} translated text\n     */\n    this.gettext = function ( msgId ) {\n        return data[''][msgId] || msgId;\n    };\n\n\n    /**\n     * The \"p\" in \"pgettext\" stands for \"particular\": fetches a particular translation of the textual message.\n     *\n     * @param {string} context message context\n     * @param {string} msgId textual message\n     *\n     * @return {string} translated text\n     */\n    this.pgettext = function ( context, msgId ) {\n        return data[context] && data[context][msgId] || msgId;\n    };\n\n\n    /**\n     * Display the native language translation of a textual message whose grammatical form depends on a number.\n     *\n     * @param {string} msgId textual message in a singular form\n     * @param {string} plural textual message in a plural form\n     * @param {number} value message number\n     *\n     * @return {string} translated text\n     */\n    this.ngettext = function ( msgId, plural, value ) {\n        /* eslint no-unused-vars: 0 */\n        /* eslint no-eval: 0 */\n        /* eslint id-length: 0 */\n        var n, evalResult;\n\n        if ( DEVELOP ) {\n            if ( Number(value) !== value ) {\n                throw new Error(__filename + ': value must be a number');\n            }\n        }\n\n        if ( data && meta && data[''][msgId] ) {\n            evalResult = eval('n = ' + value + '; ' + meta.plural);\n\n            if ( typeof evalResult === 'boolean' ) {\n                evalResult = +evalResult;\n            }\n\n            // translation\n            return data[''][msgId][evalResult];\n        }\n\n        // english\n        return value === 1 ? msgId : plural;\n    };\n}\n\n\n// correct constructor name\nGettext.prototype.constructor = Gettext;\n\n\n// public\nmodule.exports = Gettext;\n","/**\n * Media Browser / File Manager.\n * Main application page.\n */\n\n/* eslint max-lines: off */\n/* eslint max-lines-per-function: off */\n/* eslint max-len: ['error', {code: 250, tabWidth: 4, ignoreUrls: true}] */\n/* eslint no-use-before-define: off */\n\n'use strict';\n\nvar app              = require('mag-app'),\n    Panel            = require('mag-component-panel'),\n    PanelSet         = require('mag-component-panel-set'),\n    LayoutList       = require('mag-component-layout-list'),\n    ModalMessage     = require('mag-component-modal'),\n    RadioList        = require('mag-component-radio-list'),\n    CheckList        = require('mag-component-check-list'),\n    ScrollArea       = require('mag-component-scroll-area'),\n    Footer           = require('mag-component-footer'),\n\n    keys             = require('stb-keys'),\n    Button           = require('stb-component-button'),\n    ScrollBar        = require('stb-component-scrollbar'),\n\n    Flicker          = require('spa-component-flicker'),\n    dom              = require('spa-dom'),\n\n    appExit          = require('../modules/app.exit'),\n    types            = require('../modules/types'),\n    actions          = require('../modules/actions'),\n    keyboard         = require('../modules/keyboard'),\n    previewImage     = require('../modules/preview.image'),\n    parser           = require('../modules/parser'),\n    searcher         = require('../modules/searcher'),\n    breadcrumbs      = require('../modules/breadcrumbs'),\n    diagram          = require('../modules/diagram'),\n    contextMenuItems = require('../modules/context.menu.items'),\n\n    evalSpace        = require('../modules/utils/eval.space'),\n    random           = require('../modules/utils/random'),\n    request          = require('../modules/utils/request'),\n\n    page             = new (require('stb-component-page'))({$node: window.pageMain}),\n\n    mediaTypes       = types.media,\n    echo             = core.notify,\n    fs               = core.plugins.fs,\n    ufsJson          = core.plugins.ufsJson,\n    upnp             = core.plugins.upnp,\n    tag              = dom.tag,\n    UPnPMode         = app.environment.UPnPMode,\n    defaultListSize  = app.config.defaultListSize,\n\n    listFolder       = [],\n    listFile         = [],\n    serversFavShares = [],\n    filesByType      = {},\n    hotKeyActions    = {},\n    modals           = {},\n    actualSorting    = 'NAME',\n    lastContext      = null,\n\n    // \"Back\" button, global for multiple purposes\n    itemBack = [\n        {\n            items: [\n                {className: 'theme-icon theme-icon-back'},\n                '..'\n            ],\n            click: goBack // eslint-disable-line\n        }\n    ],\n\n    FILE_SUBTYPE = {\n        playlistFile:   0,\n        playlistStream: 1\n    },\n\n    storages,\n    searchRequestRe,\n    folderListView,\n    originFolderListView,\n    openMedia,\n    playlist,\n\n    // page components\n    panelSet,\n    mainPanel,\n    rightPanel,\n    leftPanelMenu,\n    mainPanelList,\n    contextMenuList,\n    filterMenuList,\n    headerAmount,\n    mainPanelTitle,\n    menuFilteringItem,\n    listScroll,\n    rightInfoPanelScroll,\n    filterScroll,\n    $inputSearchIcon,\n    $inputSearch,\n    $inputFolderName,\n    $inputShareName,\n    $inputSMBShareLogin,\n    $inputSMBSharePassword,\n    $inputSMBServerLogin,\n    $inputSMBServerPassword;\n\n\nbreadcrumbs.addListener('reset', function () {\n    folderListView = null;\n    breadcrumbs.reset();\n});\n\n\n/**\n * Search/filter procedure.\n *\n * @param {Object[]} data - data to filter\n * @param {string} marker - which property of data unit use for matching\n *\n * @return {Object[]} filtered data\n */\nfunction filterBySearch ( data, marker ) {\n    if ( !searcher.searchRequest ) {\n        return data;\n    }\n\n    if ( !Array.isArray(data) ) {\n        return [];\n    }\n\n    return data.filter(function ( item ) {\n        return searchRequestRe.test(item[marker]);\n    });\n}\n\n\n/** Helper function for closing modal window. */\nfunction closeModalWindow () {\n    Object.keys(modals).forEach(function ( modal ) {\n        modals[modal].hide();\n    });\n\n    panelSet.focus();\n    app.runtime.isModalShown = false;\n    app.runtime.openShareAttempts = 0;\n    mainPanel.$node.classList.contains('active') && page.footer.show();\n}\n\n\n/**\n * \"Sugar\" function-helper for easy footer modifications.\n *\n * @param {Object[]} config - config with footer parameters\n *\n * @return {Footer} instance of footer for chaining\n */\nfunction initFooter ( config ) {\n    var data = {middle: []},\n        handler;\n\n    if ( config[0].length ) {\n        if ( config[0][0] === keys.menu ) {\n            if ( config[0][1] ) {\n                handler = config[0][1];\n            } else {\n                handler = function () {\n                    modals.actions.show();\n                    page.footer.hide();\n                };\n            }\n        } else {\n            handler = config[0][1] || function () { /* action*/ };\n        }\n\n        data.left = {\n            code: config[0][0],\n            action: handler\n        };\n    }\n\n    config[1].forEach(function ( button ) {\n        data.middle.push({code: button[0], title: button[1] || '', action: button[2] || function () { /* action */ }});\n    });\n    page.footer.init(data);\n\n    return page.footer;\n}\n\n\n/**\n * Import playlist to IPTV channels.\n *\n * @param {Object} data - data to import\n * @param {string} name - name of playlist\n */\n/*function importPlaylist ( data, name ) {\n    var parsed = parser.getFileNameComponents(name);\n\n    core.intent({\n        action: 'playlist',\n        data: {\n            channels: data,\n            name:     parsed.name,\n            ext:      parsed.extension\n        }\n    });\n}*/\n\n\n/**\n * Open specified directory.\n *\n * @param {Object} config - set of parameters associated with particular directory\n * @param {Object} specificOpenerConfig - set of specific parameters\n */\nmediaTypes.folder.opener = function ( config, specificOpenerConfig ) {\n    var uri;\n\n    if ( specificOpenerConfig.type === 'dvd' ) {\n        uri = config.path || breadcrumbs.path;\n        core.intent({\n            action: 'play',\n            mime: mediaTypes.fileVideo.mime,\n            data: {\n                title:    config.name,\n                uri:      uri,\n                solution: 'extBDDVD'\n            },\n            events: {}\n        }, function ( error, context ) {\n            if ( !error ) {\n                lastContext = context;\n            }\n        });\n    }\n};\n\n\n/**\n * Set filter text and icon to default state.\n *\n * @return {string} default title\n */\nfunction resetFilter () {\n    menuFilteringItem.innerText = gettext('All');\n    menuFilteringItem.previousElementSibling.classList.remove('active');\n\n    return gettext('All');\n}\n\n\n/**\n * Group files depend on their types.\n *\n * @param {Object[]} files - files to group\n */\nfunction groupFilesByType ( files ) {\n    filesByType = {};\n\n    files.forEach(file => {\n        if ( filesByType[file.type] ) {\n            filesByType[file.type].push(file);\n        } else {\n            filesByType[file.type] = [file];\n        }\n    });\n}\n\n\n/**\n * Sort current data.\n *\n * @param {string} type - sorting type\n *\n * @return {Object[]} sorted list\n */\nfunction contentSort ( type ) {\n    var copyListFull = listFolder.concat(listFile),\n        listDirs     = listFolder.slice(),\n        listFiles    = copyListFull.filter(function ( item ) {\n            return item.value.type === 10;\n        });\n\n    switch ( type ) {\n        case actualSorting = 'NAME':\n            listDirs.sort(function ( itemA, itemB ) {\n                return itemA.value.name.toLowerCase().localeCompare(itemB.value.name.toLowerCase());\n            });\n\n            listFiles.sort(function ( itemA, itemB ) {\n                return itemA.value.name.toLowerCase().localeCompare(itemB.value.name.toLowerCase());\n            });\n\n            return itemBack.concat(listDirs, listFiles);\n        case actualSorting = 'DATE':\n            listFiles.sort(function ( itemA, itemB ) {\n                return itemA.value.item.lastModified - itemB.value.item.lastModified;\n            });\n\n            return itemBack.concat(listFolder, listFiles);\n        case actualSorting = 'TYPE':\n            listFiles.sort(function ( itemA, itemB ) {\n                return itemA.value.item.extension.toLowerCase().localeCompare(itemB.value.item.extension.toLowerCase());\n            });\n\n            return itemBack.concat(listFolder, listFiles);\n        case actualSorting = 'SIZE':\n            listFiles.sort(function ( itemA, itemB ) {\n                return itemA.value.item.size - itemB.value.item.size;\n            });\n\n            return itemBack.concat(listFolder, listFiles);\n    }\n\n    return itemBack.concat(copyListFull);\n}\n\n\n/**\n * Construct appropriate render structure for lists from raw sources.\n *\n * @param {Object} data - raw data\n * @param {number} type - type of data to render\n * @param {Object} [config] - additional config\n *\n * @return {Object[]} array of ready-to-use in LayoutList objects\n */\nfunction constructDataOut ( data, type, config ) {\n    var dirs, files, listData;\n\n    if ( type === 1 ) {\n        dirs  = filterBySearch(data.dirs, 'name');\n        files = filterBySearch(data.files, 'name');\n        files = files.map(function ( item ) {\n            var key;\n\n            // set item extension; media stream has no extension\n            if ( item.path && item.path.indexOf('://') !== -1 ) {\n                item.extension = '';\n                item.subtype = FILE_SUBTYPE.playlistStream;\n            } else if ( item.size === undefined ) {\n                item.extension = item.extension || item.path.split('.').pop().toLowerCase();\n                item.subtype = FILE_SUBTYPE.playlistFile;\n            } else {\n                item.extension = item.extension || item.name.split('.').pop().toLowerCase();\n            }\n\n            if ( !item.type ) {\n                for ( key in mediaTypes ) {\n                    if ( mediaTypes[key].extensions && mediaTypes[key].extensions.indexOf(item.extension) !== -1 ) {\n                        item.type = mediaTypes[key].id;\n                        break;\n                    }\n                }\n            }\n\n            item.mime = types.idToMedia[item.type].mime;\n\n            return item;\n        });\n\n        // create queues of files of particular types/separate files by type\n        groupFilesByType(files);\n\n        dirs = dirs.map(function ( item ) {\n            var className  = 'theme-icon',\n                isFavorite = false,\n                index;\n\n            for ( index = 0; index < app.storage.favoritesStorage.length; index += 1 ) {\n                if ( app.storage.favoritesStorage[index].path === (item.path || breadcrumbs.path + item.name)) {\n                    className  = 'theme-icon theme-icon-favorite-active active';\n                    isFavorite = true;\n                    break;\n                }\n            }\n\n            return {\n                items: [\n                    {\n                        className: 'theme-icon theme-icon-folder'\n                    },\n                    {\n                        value: item.name,\n                        className: 'listDirNameField'\n                    },\n                    {\n                        className: className\n                    }\n                ],\n                value: {\n                    name:       item.name,\n                    type:       9,\n                    isFavorite: isFavorite,\n                    item:       item\n                },\n                click: function () {\n                    var path;\n\n                    breadcrumbs.push({\n                        index: mainPanelList.$focusItem.index,\n                        path:  breadcrumbs.config.isDisplayFavorites && !breadcrumbs.length ? item.path : item.name\n                    });\n\n                    path = breadcrumbs.path;\n\n                    if ( breadcrumbs.config.isDisplayNfsShare && breadcrumbs.config.currentDeviceType !== mediaTypes.nfsPermanentShare ) {\n                        path = breadcrumbs.path.split('/').slice(3).join('/');\n                    }\n\n\n                    function localReadDir () {\n                        fs.readDir(path, function ( error, result ) {\n                            if ( !error ) {\n                                breadcrumbs.config.currentDirFilesCount = result.dirs.length + result.files.length;\n                                renderList(constructDataOut(result, 1), listScroll, {focusIndex: 0});\n                                renderDetailsList('1000000', [breadcrumbs.config.currentDirFilesCount + '', null, null, null, null, null, null]);\n                                filterAtCurrentOutput(filterMenuList.types);\n                            }\n                        });\n                    }\n\n\n                    if ( ['VIDEO_TS', 'BDMV', 'video_ts', 'bdmv', 'video_ts.ifo', 'VIDEO_TS.IFO'].indexOf(item.name) === -1 ) {\n                        localReadDir();\n                    } else {\n                        echo({\n                            title: gettext('Do you want to play the folder content?'),\n                            icon: 'info',\n                            type: '',\n                            buttons: [\n                                {\n                                    value: gettext('Cancel'),\n                                    click: localReadDir\n                                },\n                                {\n                                    value: gettext('Play'),\n                                    click: function () {\n                                        mediaTypes.folder.opener(item, {type: 'dvd'});\n                                    }\n                                }\n                            ]\n                        });\n                    }\n\n                    mainPanelTitle.innerText = item.name;\n                    // display information about actual filters\n                    menuFilteringItem.innerText = filterMenuList.title.length ? filterMenuList.title.join(', ') : resetFilter();\n                }\n            };\n        });\n\n        files = files.map(function ( item ) {\n            var className  = 'theme-icon',\n                isFavorite = false,\n                iconClass, key, index;\n\n            for ( index = 0; index < app.storage.favoritesStorage.length; index += 1 ) {\n                if ( app.storage.favoritesStorage[index].path === (item.path || breadcrumbs.path + item.name) ) {\n                    className  = 'theme-icon theme-icon-favorite-active active';\n                    isFavorite = true;\n                    break;\n                }\n            }\n\n            for ( key in mediaTypes ) {\n                if ( mediaTypes[key].extensions && mediaTypes[key].extensions.indexOf(item.extension) !== -1 ) {\n                    iconClass = mediaTypes[key].icon;\n                    break;\n                }\n            }\n\n            return {\n                items: [\n                    {\n                        className: 'theme-icon ' + iconClass + (breadcrumbs.config.type === 1 ? ' listDirFileIcon' : '')\n                    },\n                    {\n                        value: item.name,\n                        className: 'listDirNameField'\n                    },\n                    {\n                        className: className\n                    }\n                ],\n                value: {\n                    name:       item.name,\n                    type:       10,\n                    item:       item,\n                    isFavorite: isFavorite\n                },\n                click: function () {\n                    if ( types.idToMedia[item.type].opener ) {\n                        if ( item.type === mediaTypes.filePlaylist.id ) {\n                            breadcrumbs.config.isDisplayPlaylist = true;\n                        }\n\n                        types.idToMedia[item.type].opener(item);\n                    } else {\n                        echo({\n                            title: gettext('Can not open this type of file'),\n                            icon: 'info'\n                        });\n                    }\n                }\n            };\n        });\n    } else if ( type === mediaTypes.network.id ) {\n        data = (data || []).map(function ( item ) {\n            var additionalClass = '',\n                shareName       = item.name,\n                sharesStorage   = app.storage.network.smb,\n                shares, index;\n\n            if ( config && config.favSharesPresent ) {\n                shares = sharesStorage.slice(config.index);\n                for ( index = shares.length; index--; ) {\n                    if ( shares[index].name === shareName ) {\n                        additionalClass = ' active';\n                        break;\n                    }\n                }\n            }\n\n            return {\n                items: [\n                    {\n                        className: 'theme-icon ' + ((config && config.icon) || 'theme-icon-network') + additionalClass\n                    },\n                    item.name\n                ],\n                click: function () {\n                    if ( app.runtime.stillWaitNetworkResponse ) {\n                        return;\n                    }\n\n                    app.runtime.stillWaitNetworkResponse = true;\n\n                    if ( breadcrumbs.length === 1 ) {\n                        breadcrumbs.push({\n                            index: mainPanelList.$focusItem.index,\n                            path: {group: item.name, uri: item.uri},\n                            type: mediaTypes.smbWorkgroup\n                        });\n\n                        smbTraverse('getServers', breadcrumbs.head.path, {icon: 'theme-icon-server'}, function () {\n                            mainPanelTitle.innerText = gettext('servers');\n                            app.runtime.stillWaitNetworkResponse = false;\n                        });\n                    } else if ( breadcrumbs.length === 2 ) {\n                        breadcrumbs.push({\n                            index: mainPanelList.$focusItem.index,\n                            path:  app.runtime.currentServer = item.name,\n                            type:  mediaTypes.smbServer\n                        });\n\n                        smbTraverse('getShares', {server: breadcrumbs.head.path}, {icon: 'theme-icon-shared-folder'}, function () {\n                            if ( breadcrumbs.length < 3 ) {\n                                breadcrumbs.push({\n                                    index: mainPanelList.$focusItem.index,\n                                    path:  item.name,\n                                    type:  mediaTypes.smbServer\n                                });\n                            }\n\n                            mainPanelTitle.innerText = 'SAMBA';\n                            app.runtime.stillWaitNetworkResponse = false;\n                        });\n                    } else if ( breadcrumbs.length === 3 ) {\n                        smbTraverse('openShare', {addresses: item.addresses, folder: item.name, mountPath: app.config.mountPathSMB}, {}, function () {\n                            mainPanelTitle.innerText = item.name;\n                            // display information about actual filters\n                            menuFilteringItem.innerText = filterMenuList.title.length ? filterMenuList.title.join(', ') : resetFilter();\n                            app.runtime.stillWaitNetworkResponse = false;\n                        });\n                    }\n                },\n                value: {\n                    item: item\n                }\n            };\n        });\n\n        return itemBack.concat(data);\n    } else if ( type === mediaTypes.nfsServer ) {\n        data = (data || []).map(function ( server ) {\n            return {\n                items: [\n                    {\n                        className: 'theme-icon theme-icon-server'\n                    },\n                    server\n                ],\n                click: function () {\n                    if ( app.runtime.stillWaitNetworkResponse ) {\n                        return;\n                    }\n\n                    app.runtime.stillWaitNetworkResponse = true;\n                    breadcrumbs.push({\n                        index: mainPanelList.$focusItem.index,\n                        path:  app.runtime.currentServer = server,\n                        type:  mediaTypes.nfsShare\n                    });\n                    nfsTraverse('getShares', {server: breadcrumbs.head.path}, {icon: 'theme-icon-shared-folder'});\n                },\n                value: {\n                    item: server\n                }\n            };\n        });\n\n        return itemBack.concat(data);\n    } else if ( type === mediaTypes.nfsShare ) {\n        data = (data || []).map(function ( share, index ) {\n            return {\n                items: [\n                    {className: 'theme-icon theme-icon-shared-folder' + (config.favoriteNfsShares.indexOf(index) === -1 ? '' : ' active')},\n                    share\n                ],\n                click: function () {\n                    if ( app.runtime.stillWaitNetworkResponse ) {\n                        return;\n                    }\n\n                    app.runtime.stillWaitNetworkResponse = true;\n                    breadcrumbs.push({\n                        index: mainPanelList.$focusItem.index,\n                        path:  share,\n                        type:  mediaTypes.folder.id\n                    });\n                    nfsTraverse('openShare', {server: breadcrumbs.head.path, folder: share}, {}, function () {\n                        app.runtime.stillWaitNetworkResponse = false;\n                    });\n                },\n                value: {\n                    item: share\n                }\n            };\n        });\n\n        return itemBack.concat(data);\n    } else if ( type === mediaTypes.upnp.id ) {\n        data = filterBySearch(data, 'name');\n\n        if ( breadcrumbs.config.stageType === mediaTypes.upnpServer ) {\n            listData = data.map(function ( item ) {\n                return {\n                    items: [\n                        {\n                            className: 'theme-icon theme-icon-shared-folder'\n                        },\n                        item.name\n                    ],\n                    click: function () {\n                        breadcrumbs.push({\n                            index:    mainPanelList.$focusItem.index,\n                            url:      item.url,\n                            ID:       item.ID,\n                            parentID: item.parentID\n                        });\n\n                        upnp.openServer(item.url, function ( error, result ) {\n                            if ( !error ) {\n                                breadcrumbs.config.stageType = mediaTypes.upnpHost;\n                                renderList(constructDataOut(result, mediaTypes.upnp.id), listScroll, {focusIndex: 0});\n                            }\n                        });\n                    },\n                    value: item\n                };\n            });\n\n            return itemBack.concat(listData);\n        } else if ( breadcrumbs.config.stageType === mediaTypes.upnpHost || breadcrumbs.config.stageType === mediaTypes.upnpDir ) {\n            listData = upnp.prepareUPnPContent(data);\n\n            files = listData\n                .filter(function ( item ) {\n                    return item.type !== 9;\n                })\n                .map(function ( item ) {\n                    item.mime = types.idToMedia[item.type].mime;\n\n                    return item;\n                });\n\n            groupFilesByType(files);\n\n            listData = listData.map(function ( item ) {\n                return {\n                    items: [\n                        {\n                            className: 'theme-icon ' + (item.type === 9 ? 'theme-icon-folder' : types.idToMedia[item.type].icon)\n                        },\n                        {\n                            value: item.name,\n                            className: 'listDirNameField'\n                        },\n                        {\n                            className: 'theme-icon'\n                        }\n                    ],\n                    value: {\n                        name: item.name,\n                        type: item.type === 9 ? 9 : 10,\n                        item: item\n                    },\n                    click: function () {\n                        if ( item.type === 9 ) {\n                            breadcrumbs.push({\n                                index:    mainPanelList.$focusItem.index,\n                                ID:       item.ID,\n                                parentID: item.ParentID\n                            });\n\n                            upnp.openContext(item.ID, function ( error, result ) {\n                                if ( !error ) {\n                                    breadcrumbs.config.stageType = mediaTypes.upnpDir;\n                                    renderList(constructDataOut(result, mediaTypes.upnp.id), listScroll, {focusIndex: 0});\n                                }\n                            });\n                        } else if ( types.idToMedia[item.type].opener ) {\n                            types.idToMedia[item.type].opener(item);\n                        } else {\n                            echo({\n                                title: gettext('Can not open this type of file'),\n                                icon: 'info'\n                            });\n                        }\n                    }\n                };\n            });\n\n            return itemBack.concat(listData);\n        }\n    }\n\n    listFolder = dirs;\n    listFile   = files;\n\n    folderListView       = contentSort(actualSorting);\n    originFolderListView = folderListView.slice();\n\n    return originFolderListView;\n}\n\n\n/**\n * Re-render page on data change/some event.\n *\n * @param {Object[]} data - new initialization data\n * @param {Object} scrollType - scroll element\n * @param {Object} mixin - additional properties\n */\nfunction renderList ( data, scrollType, mixin ) {\n    var tmpData = {\n        scroll: data.length <= defaultListSize ? null : scrollType,\n        size:   defaultListSize,\n        data:   data\n    };\n\n    if ( mixin ) {\n        Object.keys(mixin).forEach(function ( item ) {\n            tmpData[item] = mixin[item];\n        });\n    }\n\n    if ( scrollType ) {\n        if ( data.length > defaultListSize ) {\n            if ( !mainPanelList.scroller ) {\n                mainPanelList.scroller = 1;\n                scrollType.init({\n                    realSize: data.length\n                });\n                scrollType.$node.style.display = '';\n            }\n        } else {\n            mainPanelList.scroller = 0;\n            scrollType.$node.style.display = 'none';\n        }\n    }\n\n    mainPanelList.init(tmpData);\n    headerAmount.innerHTML = breadcrumbs.config.type ? data.length - 1 : renderFilesListInitial.itemsLength;\n}\n\n\n/**\n * Open CUE file.\n *\n * @param {Object} item - meta-information about specified CUE file.\n */\nmediaTypes.fileCUE.opener = function ( item ) {\n    var uri = item.path || breadcrumbs.path + item.name;\n\n    fs.readFile(uri, function ( error, result ) {\n        var cueData   = parser.parseCue(result),\n            extension = cueData.files[0].name.replace(/^[^.]+\\./, ''),\n            content   = [];\n\n        cueData.files.forEach(function ( file ) {\n            file.tracks.forEach(function ( track ) {\n                var info = {\n                    name:      track.number + '. ' + track.title,\n                    type:      track.type === 'AUDIO' ? 6 : 5,\n                    extension: extension,\n                    time:      track.index[track.index.length - 1] || 0,\n                    url:       uri + '/' + file.name\n                };\n\n                if ( cueData.files.length > 1 ) {\n                    info.file = file.name;\n                }\n\n                if ( track.performer !== cueData.performer && track.performer !== undefined ) {\n                    info.performer = track.performer;\n                }\n\n                content.push(info);\n            });\n        });\n\n        breadcrumbs.push({\n            index: mainPanelList.$focusItem.index,\n            path:  mainPanelList.$focusItem.data.value.name\n        });\n\n        renderList(constructDataOut({dirs: [], files: content}, 1), listScroll, {focusIndex: 0});\n    });\n};\n\n\n/**\n * Open playlist.\n *\n * @param {Object} item - item to open\n */\nmediaTypes.filePlaylist.opener = function ( item ) {\n    var uri = item.path || breadcrumbs.path + item.name,\n        callback = function ( status, result ) {\n            playlist = parser.parseM3u(result, breadcrumbs);\n            playlist.items = playlist.items.filter(function ( playlistItem ) {\n                var key;\n\n                for ( key in mediaTypes ) {\n                    if ( mediaTypes[key].extensions && mediaTypes[key].extensions.indexOf(playlistItem.extension || '') !== -1 ) {\n                        playlistItem.type = key.id;\n                        // if playlistItem has extension - it is a m3u-file; otherwise - m3u-stream\n                        playlistItem.subtype = playlistItem.extension ? FILE_SUBTYPE.playlistFile : FILE_SUBTYPE.playlistStream;\n\n                        return true;\n                    }\n                }\n\n                return false;\n\n            });\n\n            breadcrumbs.push({\n                index:             mainPanelList.$focusItem.index,\n                path:              mainPanelList.$focusItem.data.value.name,\n                isDisplayPlaylist: true\n            });\n            breadcrumbs.config.currentDirFilesCount = playlist.items.length;\n            renderList(constructDataOut({dirs: [], files: playlist.items}, 1), listScroll, {focusIndex: 0});\n        };\n\n    breadcrumbs.config.opened = item.name;\n    request.ajax(uri.indexOf('file://') ? 'file://' + uri : uri, {\n        onload: callback,\n        onerror: function () {\n            fs.readFile(uri, callback);\n        }\n    });\n};\n\n\n/**\n * Handler for audio and video content.\n *\n * @param {Object} item - item to play\n * @param {Object} mixin - set of additional properties for mixing with item\n */\nopenMedia = mediaTypes.fileVideo.opener = mediaTypes.fileAudio.opener = function ( item, mixin ) {\n    var uri, intent, objData;\n\n    if ( !item ) {\n        return;\n    }\n\n    if ( item.path ) {\n        uri = item.path;\n    } else if ( item.item && item.item.path ) {\n        uri = item.item.path;\n    } else if ( breadcrumbs.config.type === mediaTypes.network.id ) {\n        uri = breadcrumbs.path + item.name;\n    } else if ( breadcrumbs.config.isDisplayNfsShare && breadcrumbs.config.currentDeviceType !== mediaTypes.nfsPermanentShare ) {\n        uri = breadcrumbs.path.split('/').slice(3).join('/') + item.name;\n    } else {\n        uri = breadcrumbs.path + item.name;\n    }\n\n    openMedia.queue = openMedia.queue || filesByType[item.type];\n\n    objData = {\n        action: 'play',\n        mime: item.mime || mediaTypes.fileStream.mime,\n        data: {\n            title:    item.name,\n            uri:      uri,\n            solution: item.solution || 'auto'\n        },\n        events: {\n            end: function () {\n                if ( mainPanelList.$focusItem.index >= openMedia.queue.length ) {\n                    intent.close();\n                    openMedia.queue = null;\n\n                    return;\n                }\n\n                mainPanelList.focusIndex(mainPanelList.$focusItem.index + 1);\n                openMedia(mainPanelList.$focusItem.value, {context: lastContext});\n            },\n            prev: function () {\n                mainPanelList.focusIndex(mainPanelList.$focusItem.index - 1);\n                openMedia(breadcrumbs.config.stageType === mediaTypes.upnpDir ? mainPanelList.$focusItem.value.item : mainPanelList.$focusItem.value, {context: lastContext});\n            },\n            next: function () {\n                mainPanelList.focusIndex(mainPanelList.$focusItem.index + 1);\n                openMedia(breadcrumbs.config.stageType === mediaTypes.upnpDir ? mainPanelList.$focusItem.value.item : mainPanelList.$focusItem.value, {context: lastContext});\n            },\n            close: function () {\n                lastContext = null;\n            }\n        }\n    };\n\n    if ( mixin ) {\n        Object.keys(mixin).forEach(function ( property ) {\n            objData[property] = mixin[property];\n        });\n    }\n\n    if ( mainPanelList.$focusItem.index - listFolder.length === 1 ) {\n        objData.events.prev = null;\n    }\n\n    if ( mainPanelList.$focusItem.index >= openMedia.queue.length ) {\n        objData.events.next = null;\n    }\n\n    intent = core.intent(objData, function ( error, context ) {\n        if ( !error ) {\n            lastContext = context;\n        }\n    });\n};\n\n\n/**\n * Open stream.\n *\n * @param {Object} item - item to open\n */\nmediaTypes.fileStream.opener = function ( item ) {\n    var imageExtensions = mediaTypes.fileImage.extensions,\n        audioExtensions = mediaTypes.fileAudio.extensions,\n        videoExtensions = mediaTypes.fileVideo.extensions,\n        extension       = (item.path.match(/\\.[a-z\\d]+$/i) || [])[0],\n        itemFields;\n\n    itemFields = item.path.split(' ');\n\n    if ( itemFields.length > 1 ) {\n        item.solution = itemFields[0];\n        item.path = itemFields[itemFields.length - 1];\n    }\n\n    if ( extension ) {\n        if ( imageExtensions.indexOf(extension) !== -1 ) {\n            item.mime = mediaTypes.fileImage.mime;\n        } else if ( audioExtensions.indexOf(extension) !== -1 )  {\n            item.mime = mediaTypes.fileAudio.mime;\n        } else if ( videoExtensions.indexOf(extension) !== -1 ) {\n            item.mime = mediaTypes.fileVideo.mime;\n        } else {\n            item.mime = mediaTypes.fileStream.mime;\n        }\n    } else {\n        item.mime = mediaTypes.fileStream.mime;\n    }\n\n    openMedia(item);\n};\n\n\n/**\n * Handler for images content.\n *\n * @param {Object} item - item to open\n * @param {Object} mixin - set of additional properties for mixing with item\n */\nmediaTypes.fileImage.opener = function openImage ( item, mixin ) {\n    var uri, queue, next, intent, objData;\n\n    if ( !item ) {\n        return;\n    }\n\n    uri   = item.path || breadcrumbs.path + item.name;\n    queue = filesByType[item.type];\n\n    if ( uri.indexOf('file://') && uri.indexOf('http://') && uri.indexOf('https://') ) {\n        uri = 'file://' + uri;\n    }\n\n    objData = {\n        action: 'play',\n        mime: item.mime || mediaTypes.fileImage.mime,\n        data: {\n            title:           item.name,\n            uri:             uri,\n            totalCount:      queue.length,\n            currentPosition: queue.indexOf(item) + 1\n        },\n        events: {\n            end: function () {\n                next = queue.next;\n\n                if ( next === undefined ) {\n                    next = queue.next = queue.indexOf(item) + 1;\n                } else {\n                    next = queue.next = next + 1;\n                }\n\n                if ( next === queue.length ) {\n                    intent.close();\n                    mainPanelList.focusIndex(listFolder.length + next + 1);\n                    delete queue.next;\n\n                    return;\n                }\n\n                openImage(queue[next], {context: lastContext});\n            },\n            prev: function ( settings ) {\n                next = queue.next;\n\n                if ( settings && settings.random ) {\n                    next = random(0, queue.length - 1);\n                }\n\n                if ( next === 0 || (!next && queue.length === 1) ) {\n                    next = queue.next = queue.length - 1;\n                } else if ( next === undefined ) {\n                    next = queue.next = queue.indexOf(item) - 1;\n                } else {\n                    next = queue.next = next - 1;\n                }\n                openImage(queue[next], {context: lastContext});\n            },\n            next: function ( settings ) {\n                next = queue.next;\n\n                if ( settings && settings.random ) {\n                    next = random(0, queue.length - 1);\n                }\n\n                if ( next === queue.length - 1 || (!next && queue.length === 1) ) {\n                    next = queue.next = 0;\n                } else if ( next === undefined ) {\n                    next = queue.next = queue.indexOf(item) + 1;\n                } else {\n                    next = queue.next = next + 1;\n                }\n\n                openImage(queue[next], {context: lastContext});\n            },\n            close: function () {\n                mainPanelList.focusIndex(next ? listFolder.length + next + 1 : mainPanelList.$focusItem.index);\n            }\n        }\n    };\n\n    if ( mixin ) {\n        Object.keys(mixin).forEach(function ( property ) {\n            objData[property] = mixin[property];\n        });\n    }\n\n    intent = core.intent(objData, function ( error, context ) {\n        if ( !error ) {\n            lastContext = context;\n        }\n    });\n};\n\n\n/**\n * Open ISO image file.\n *\n * @param {Object} item - item to open\n */\nmediaTypes.fileISO.opener = function ( item ) {\n    var uri, queue, next, intent, objData;\n\n    if ( !item ) {\n        return;\n    }\n\n    uri   = item.path || breadcrumbs.path + item.name;\n    queue = filesByType[item.type];\n\n    objData = {\n        action: 'play',\n        mime: item.mime || mediaTypes.fileISO.mime,\n        data: {\n            title: item.name,\n            uri:   uri\n        },\n        events: {\n            end: function () {\n                // var queue = filesByType[item.type];\n\n                next = queue.next;\n\n                if ( next === undefined || next === null ) {\n                    next = queue.next = queue.indexOf(item) + 1;\n                } else {\n                    next = queue.next = next + 1;\n                }\n\n                if ( next === queue.length ) {\n                    intent.close();\n                    mainPanelList.focusIndex(listFolder.length + next + 1);\n                    queue.next = null;\n\n                    return;\n                }\n\n                openMedia(queue[next], {context: lastContext});\n            },\n            prev: function () {\n                // var queue = filesByType[item.type];\n\n                next = queue.next;\n\n                if ( next === 0 || (!next && queue.length === 1) ) {\n                    intent.close();\n                    mainPanelList.focusIndex(listFolder.length);\n                    queue.next = null;\n\n                    return;\n                }\n                if ( next === undefined || next === null ) {\n                    next = queue.next = queue.indexOf(item) - 1;\n                } else {\n                    next = queue.next = next - 1;\n                }\n\n                openMedia(queue[next], {context: lastContext});\n            },\n            next: function () {\n                // var queue = filesByType[item.type];\n\n                next = queue.next;\n\n                if ( next === queue.length - 1 || (!next && queue.length === 1) ) {\n                    intent.close();\n                    mainPanelList.focusIndex(listFolder.length + next + 1);\n                    queue.next = null;\n\n                    return;\n                }\n                if ( next === undefined || next === null ) {\n                    next = queue.next = queue.indexOf(item) + 1;\n                } else {\n                    next = queue.next = next + 1;\n                }\n\n                openMedia(queue[next], {context: lastContext});\n            },\n            close: function () {\n                mainPanelList.focusIndex(next ? listFolder.length + next + 1 : mainPanelList.$focusItem.index);\n            }\n        }\n    };\n\n    // delete intent events depending on file position in queue,\n    // disable \"prev\" on the first one and \"next\" on the last\n    if ( !queue.indexOf(item) ) {\n        delete objData.events.prev;\n    }\n\n    if ( queue.indexOf(item) === queue.length - 1 ) {\n        delete objData.events.next;\n    }\n\n    intent = core.intent(objData, function ( error, context ) {\n        if ( !error ) {\n            lastContext = context;\n        }\n    });\n};\n\n\n/**\n * Traversing SMB network resources.\n *\n * @param {string} resource - resource to open\n * @param {Object} data - set of properties for opening shared folders\n * @param {Object} config - additional config for opened resource\n * @param {Function} [callback] - method to invoke with a result of operation\n */\nfunction smbTraverse ( resource, data, config, callback ) {\n    var indexToSetFocus = config.index === undefined ? 0 : config.index;\n\n    callback = callback || function () { app.runtime.stillWaitNetworkResponse = false; };\n\n    if ( resource === 'getGroups' ) {\n        core.plugins.networkSmb.getGroups(function ( error, result ) {\n            if ( result ) {\n                renderList(constructDataOut(result, mediaTypes.network.id, config), listScroll, {focusIndex: indexToSetFocus});\n                callback();\n            } else {\n                console.log(error);\n                echo({\n                    title: gettext('Unable to get work groups list'),\n                    icon: 'alert',\n                    type: 'warning'\n                });\n            }\n\n            app.runtime.stillWaitNetworkResponse = false;\n        });\n    } else if ( resource === 'openShare' ) {\n        app.runtime.openShareAttempts += 1;\n        fs.umount({path: app.config.mountPathSMB, force: true});\n\n        core.plugins.networkSmb.openShare(data, function ( error, result ) {\n            if ( !result && app.activePage === app.pages.connect ) {\n                callback(true);\n\n                return;\n            }\n\n            if ( (!result && app.runtime.openShareAttempts === 1) || error ) {\n                echo({\n                    title: gettext('Authorization may be required. Specify login and password?'),\n                    icon: 'info',\n                    type: '',\n                    buttons: [\n                        {\n                            value: gettext('Cancel'),\n                            click: function () {\n                                app.runtime.openShareAttempts = 0;\n                            }\n                        },\n                        {\n                            value: gettext('Ok'),\n                            click: function () {\n                                panelSet.blur();\n                                modals.sambaAuthorize.show();\n                            }\n                        }\n                    ]\n                });\n            } else if ( !result && app.runtime.openShareAttempts > 1 ) {\n                echo({\n                    title: gettext('Credentials are incorrect'),\n                    icon: 'alert',\n                    type: 'warning'\n                });\n            } else {\n                app.runtime.openShareAttempts = 0;\n\n                if ( breadcrumbs.config.currentDeviceType !== 5 ) {\n                    breadcrumbs.push({\n                        index: mainPanelList.$focusItem.index,\n                        path:  data,\n                        type:  mediaTypes.smbShare\n                    });\n                }\n\n                fs.readDir(data.mountPath, function ( error, dirContent ) {\n                    if ( !error ) {\n                        breadcrumbs.push({\n                            index:  mainPanelList.$focusItem.index,\n                            path:   data.mountPath,\n                            folder: data.folder\n                        });\n                        breadcrumbs.config.isDisplaySmbShares = true;\n                        breadcrumbs.config.currentDirFilesCount = dirContent.dirs.length + dirContent.files.length;\n                        renderList(constructDataOut(dirContent, 1), listScroll, {focusIndex: indexToSetFocus});\n                        renderDetailsList('1000000', [breadcrumbs.config.currentDirFilesCount + '', null, null, null, null, null, null]);\n                    }\n                });\n            }\n\n            callback();\n        });\n    } else if ( resource === 'getShares' ) {\n        core.plugins.networkSmb.getShares(data, function ( error, result ) {\n            app.runtime.stillWaitNetworkResponse = false;\n\n            if ( error ) {\n                breadcrumbs.pop();\n\n                if ( !smbTraverse.cache ) {\n                    smbTraverse.cache = {};\n                }\n\n                smbTraverse.cache.getShares = {};\n                smbTraverse.cache.getShares.config = config;\n                smbTraverse.cache.getShares.callback = callback;\n                echo({\n                    title: gettext('Authorization may be required. Specify login and password?'),\n                    icon: 'info',\n                    type: '',\n                    buttons: [\n                        {\n                            value: gettext('Cancel')\n                        },\n                        {\n                            value: gettext('Ok'),\n                            click: function () {\n                                panelSet.blur();\n                                modals.authorizeSMBServer.show();\n                            }\n                        }\n                    ]\n                });\n            } else {\n                if ( serversFavShares.indexOf(result[0].server) !== -1 ) {\n                    config.favSharesPresent = true;\n                    config.index = serversFavShares.indexOf(result[0].server);\n                }\n\n                callback();\n                renderList(constructDataOut(result, mediaTypes.network.id, config), listScroll, {focusIndex: indexToSetFocus});\n            }\n        });\n    } else {\n        core.plugins.networkSmb.getServers(data, function ( error, result ) {\n            if ( error ) {\n                breadcrumbs.pop();\n\n                smbTraverse('getGroups', null, {icon: 'theme-icon-workgroup', index: mainPanelList.$focusItem.index}, function () {\n                    mainPanelTitle.innerText = gettext('work groups');\n                    app.runtime.stillWaitNetworkResponse = false;\n                });\n\n                return;\n            }\n\n            renderList(constructDataOut(result, mediaTypes.network.id, config), listScroll, {focusIndex: indexToSetFocus});\n            callback();\n        });\n    }\n}\n\n\n/**\n * Traversing NFS network resources.\n *\n * @param {string} resource - resource to open\n * @param {Object} [data] - set of properties for opening shared folders\n * @param {Object} config - additional config for opened resource\n * @param {Function} [callback] - method to invoke with a result of operation\n */\nfunction nfsTraverse ( resource, data, config, callback ) {\n    var indexToSetFocus = config.index === undefined ? 0 : config.index;\n\n    callback = callback || function () { app.runtime.stillWaitNetworkResponse = false; };\n\n    if ( resource === 'getServers' ) {\n        core.plugins.networkNfs.getServers(function ( error, result ) {\n            if ( result ) {\n                mainPanelTitle.innerText = gettext('servers');\n                breadcrumbs.config.type = mediaTypes.nfsServer;\n                mainPanel.$node.classList.add('networkView');\n                renderList(constructDataOut(result, mediaTypes.nfsServer, config), listScroll, {focusIndex: indexToSetFocus});\n            } else {\n                console.log(error);\n                echo({\n                    title: gettext('Unable to get servers list'),\n                    icon: 'alert',\n                    type: 'warning'\n                });\n            }\n\n            callback();\n        });\n    } else if ( resource === 'getShares' ) {\n        core.plugins.networkNfs.getShares(data, function ( error, result ) {\n            if ( result ) {\n                config.favoriteNfsShares = [];\n                app.storage.network.nfs.forEach(function ( share ) {\n                    var pathParts = share.path.split(':');\n\n                    if ( pathParts[0] === data.server && result.indexOf(pathParts[1]) !== -1 ) {\n                        config.favoriteNfsShares.push(result.indexOf(pathParts[1]));\n                    }\n                });\n\n                mainPanelTitle.innerText = 'NFS';\n                breadcrumbs.config.type = mediaTypes.nfsShare;\n                renderList(constructDataOut(result, mediaTypes.nfsShare, config), listScroll, {focusIndex: indexToSetFocus});\n            } else {\n                console.log(error);\n                echo({\n                    title: gettext('Unable to get folders list'),\n                    icon: 'alert',\n                    type: 'warning'\n                });\n            }\n\n            callback();\n        });\n    } else if ( resource === 'openShare' ) {\n        core.plugins.networkNfs.umount(true);\n        core.plugins.networkNfs.mount(\n            {address: data && data.path ? data.path : app.runtime.currentServer.path + ':' + breadcrumbs.head.path},\n            function ( error, result ) { // eslint-disable-line\n                if ( !result ) {\n                    breadcrumbs.pop();\n                    callback(true);\n\n                    return;\n                }\n\n                fs.readDir(app.config.mountPathNFS, function ( error, dirContent ) {\n                    if ( !error ) {\n                        breadcrumbs.push({\n                            index: mainPanelList.$focusItem.index,\n                            path: app.config.mountPathNFS,\n                            folder: data.folder\n                        });\n                        breadcrumbs.config.isDisplayNfsShare = true;\n                        breadcrumbs.config.type = mediaTypes.folder.id;\n                        breadcrumbs.config.currentDirFilesCount = dirContent.dirs.length + dirContent.files.length;\n                        renderList(constructDataOut(dirContent, 1), listScroll, {focusIndex: indexToSetFocus});\n                        renderDetailsList('1000000', [breadcrumbs.config.currentDirFilesCount + '', null, null, null, null, null, null]);\n                    }\n                });\n                callback();\n            }\n        );\n    }\n}\n\n\n/**\n * Construct comprehensive information about network share.\n *\n * @param {Object} share - particular share with information about itself\n */\nfunction constructShareInfo ( share ) {\n    var nodes = [\n        [\n            tag('div', {className: 'title'}, gettext('Display name') + ':'),\n            tag('div', {}, share.details.displayName || share.details.name)\n        ],\n        [\n            tag('div', {className: 'title'}, gettext('Original name') + ':'),\n            tag('div', {}, share.details.name)\n        ],\n        [\n            tag('div', {className: 'title'}, gettext('Type') + ':'),\n            tag('div', {}, share.deviceType === mediaTypes.nfsPermanentShare ? 'NFS' : 'SAMBA')\n        ],\n        [\n            tag('div', {className: 'title'}, gettext('Server') + ':'),\n            tag('div', {}, share.details.server)\n        ],\n        [\n            tag('div', {className: 'title'}, gettext('Full path') + ':'),\n            tag('div', {}, share.details.address)\n        ]\n    ];\n\n    diagram.hide();\n    page.textArea.$body.innerHTML = '';\n    page.textArea.$body.appendChild(dom.fragment.apply(\n        null, [].concat.apply([], nodes)\n    ));\n    page.textArea.show();\n    page.textArea.init();\n}\n\n\n/** Construct comprehensive information about Favorites. */\nfunction constructFavoritesInfo () {\n    var favorites = app.storage.favoritesStorage;\n\n    diagram.hide();\n    page.textArea.$body.innerHTML = '';\n    page.textArea.$body.appendChild(dom.fragment(\n        tag('div', {className: 'title'}, gettext('Total') + ':'),\n        tag('div', {}, String(favorites.length))\n    ));\n}\n\n\n/**\n * Construct comprehensive information about CUE files.\n *\n * @param {Object} item - item which info we construct\n */\nfunction constructCueInfo ( item ) {\n    var uri = item.path || breadcrumbs.path + item.name;\n\n    fs.readFile(uri, function ( error, result ) {\n        var parsedCue = parser.parseCue(result),\n            nodes = [\n                [\n                    tag('div', {className: 'title'}, gettext('Name') + ':'),\n                    tag('div', {}, item.name)\n                ],\n                [\n                    tag('div', {className: 'title'}, gettext('Creation date') + ':'),\n                    tag('div', {}, new Date(item.lastModified).toLocaleDateString())\n                ],\n                [\n                    tag('div', {className: 'title'}, gettext('Size') + ':'),\n                    tag('div', {}, evalSpace(item.size))\n                ],\n                [\n                    tag('div', {className: 'title'}, gettext('Album name') + ':'),\n                    tag('div', {}, parsedCue.title)\n                ],\n                [\n                    tag('div', {className: 'title'}, gettext('Performer') + ':'),\n                    tag('div', {}, parsedCue.performer)\n                ],\n                [\n                    tag('div', {className: 'title'}, gettext('Genre') + ':'),\n                    tag('div', {}, parsedCue.genre)\n                ],\n                [\n                    tag('div', {className: 'title'}, gettext('Comment') + ':'),\n                    tag('div', {}, parsedCue.comment)\n                ],\n                [\n                    tag('div', {className: 'title'}, gettext('Source') + ':'),\n                    tag('div', {}, parsedCue.files[0] ? parsedCue.files[0].name : '')\n                ]\n            ];\n\n        nodes = nodes.filter(function ( node ) {\n            return node[1].innerText;\n        });\n        page.textArea.$body.innerHTML = '';\n        page.textArea.$body.appendChild(dom.fragment.apply(\n            null, [].concat.apply([], nodes)\n        ));\n        page.textArea.show();\n        page.textArea.init();\n    });\n}\n\n\n/**\n * Render details list in the right panel accordingly to necessary set.\n *\n * @param {string} mask - necessary set of list items\n * @param {Object[]} data - data to set\n * @param {Object} [config] - config for custom structure\n */\nfunction renderDetailsList ( mask, data, config ) {\n    var area     = page.textArea,\n        maskLst  = mask.split(''),\n        nodes    = [];\n\n    if ( config ) {\n        config.nodes.forEach(function ( node ) {\n            nodes.push([tag('div', {className: 'title'}, node[0] + ':'), tag('div', {}, node[1])]);\n        });\n\n        diagram.hide();\n    } else {\n        nodes = [\n            [tag('div', {className: 'title'}, gettext('Elements') + ':')],\n            [tag('div', {className: 'title'}, gettext('Name') + ':')],\n            [tag('div', {className: 'title'}, gettext('Creation date') + ':')],\n            [tag('div', {className: 'title'}, gettext('Size') + ':')],\n            [tag('div', {className: 'title'}, gettext('Free space') + ':')],\n            [tag('div', {className: 'title'}, gettext('File system') + ':')],\n            [tag('div', {className: 'title'}, gettext('Unsaved changes') + ':')],\n            [tag('div', {className: 'title'}, gettext('Address') + ':')]\n        ];\n        diagram[+maskLst[4] ? 'show' : 'hide']();\n    }\n\n    area.$body.innerHTML = '';\n    area.$body.appendChild(dom.fragment.apply(null,\n        [].concat.apply([], nodes.reduce(function ( items, item, index ) {\n            if ( +maskLst[index] ) {\n                item.push(tag('div', {}, data[index]));\n                items.push(item);\n            }\n\n            return items;\n        }, []))));\n    page.textArea.show();\n    page.textArea.init();\n}\n\n\n/** Add some file system object to Favorites list. */\nfunction setFavoritesState () {\n    var targetNode   = mainPanelList.$focusItem,\n        favoriteItem = folderListView[targetNode.index],\n        favoriteObj  = {},\n        index        = targetNode.index;\n\n    if ( favoriteItem.value.isFavorite ) {\n        // remove item from session storage\n        app.storage.favoritesStorage = app.storage.favoritesStorage.filter(function ( item ) {\n            return (item.path !== breadcrumbs.path + favoriteItem.value.name) && (item.path !== favoriteItem.value.item.path);\n        });\n        favoriteItem.items[2].value = '';\n        favoriteItem.items[2].className = 'theme-icon';\n        favoriteItem.value.isFavorite = false;\n    } else {\n        // add item to session storage\n        favoriteObj.type = favoriteItem.value.type;\n        favoriteObj.name = favoriteItem.value.name;\n\n        if ( favoriteItem.value.item.subtype === FILE_SUBTYPE.playlistStream ) {\n            favoriteObj.path = favoriteItem.value.item.uri;\n        } else if ( favoriteItem.value.item.subtype === FILE_SUBTYPE.playlistFile ) {\n            favoriteObj.path = favoriteItem.value.item.path;\n            favoriteObj.uri = favoriteItem.value.item.uri;\n        } else {\n            favoriteObj.path = breadcrumbs.path + favoriteItem.value.name;\n            favoriteObj.size = favoriteItem.value.item.size;\n            favoriteObj.lastModified = favoriteItem.value.item.lastModified;\n        }\n\n        app.storage.favoritesStorage.push(favoriteObj);\n        favoriteItem.items[2].value = '';\n        favoriteItem.items[2].className += ' theme-icon-favorite-active active';\n        favoriteItem.value.isFavorite = true;\n    }\n\n    renderList(folderListView.slice(0, index).concat(favoriteItem, folderListView.slice(index + 1)), listScroll, {viewIndex: mainPanelList.viewIndex});\n    mainPanelList.focusIndex(index);\n}\n\n\n/** Add network share to the list of permanent shares on the init screen. */\nfunction pinShare () {\n    var target = mainPanelList.$focusItem,\n        index, sharesCount, itemToAdd;\n\n    if ( breadcrumbs.config.isDisplayNfsShare || breadcrumbs.config.type === mediaTypes.nfsShare ) {\n        if ( breadcrumbs.config.type === mediaTypes.nfsShare ) {\n            itemToAdd = {\n                name: target.data.value.item,\n                path: breadcrumbs.head.path + ':' + target.data.value.item\n            };\n            target.children[0].children[0].classList.add('active');\n        } else {\n            itemToAdd = {\n                name: app.runtime.currentShare.path,\n                path: app.runtime.currentServer.path + ':' + app.runtime.currentShare.path\n            };\n        }\n\n        // prevent multiple additions of identical shares\n        for ( index = 0, sharesCount = app.storage.network.nfs.length; index < sharesCount; index += 1 ) {\n            if ( app.storage.network.nfs[index].path === itemToAdd.path ) {\n                return;\n            }\n        }\n\n        app.storage.network.nfs.push(itemToAdd);\n    } else {\n        if ( breadcrumbs.length === 5 && !target.index ) {\n            itemToAdd = app.runtime.currentShare.path;\n            delete itemToAdd.mountPath;\n            itemToAdd.name = itemToAdd.folder;\n            delete itemToAdd.folder;\n        } else {\n            itemToAdd = target.data.value.item;\n            target.children[0].children[0].classList.add('active');\n        }\n\n        // prevent multiple additions of identical shares\n        for ( index = 0, sharesCount = app.storage.network.smb.length; index < sharesCount; index += 1 ) {\n            if ( JSON.stringify(app.storage.network.smb[index].addresses) === JSON.stringify(itemToAdd.addresses) && app.storage.network.smb[index].name === itemToAdd.name ) {\n                return;\n            }\n        }\n\n        app.storage.network.smb.push(itemToAdd);\n    }\n}\n\n\n/** Remove network share from the list of permanent shares on the init screen. */\nfunction removePermanentShare () {\n    var target     = mainPanelList.$focusItem,\n        targetData = target.data.value.details,\n        targetType = target.data.value.deviceType,\n        index      = target.index;\n\n    if ( targetType === mediaTypes.nfsPermanentShare ) {\n        app.storage.network.nfs = app.storage.network.nfs.filter(function ( item ) {\n            return item.path !== targetData.path;\n        });\n    } else {\n        app.storage.network.smb = app.storage.network.smb.filter(function ( item ) {\n            if ( targetData.address ) {\n                if ( item.address !== targetData.address ) {\n                    return true;\n                }\n\n                return item.name !== targetData.name;\n\n            }\n            if ( JSON.stringify(item.addresses) !== JSON.stringify(targetData.addresses) ) {\n                return true;\n            }\n\n            return item.name !== targetData.name;\n\n\n        });\n    }\n\n    renderList(renderFilesListInitial(), listScroll, {focusIndex: renderFilesListInitial.itemsLength === index ? index - 1 : index});\n}\n\n\n/**\n * Render files list on app init or on change set of plugged devices.\n *\n * @return {Object[]} items for rendering\n */\nfunction renderFilesListInitial () {\n    var list                   = [],\n        permanentSmbSharesList = app.storage.network.smb,\n        permanentNfsSharesList = app.storage.network.nfs,\n        isNfsEnabled           = core.plugins.networkNfs.hasNfsNativeSupport,\n        upnpPath,\n        itemsToRender,\n        persistentItems;\n\n    storages = {};\n\n    if ( window.top.stbUPnP && window.top.stbUPnP.getServerListSync ) {\n        if ( app.environment.UPnPMode !== 'off' ) {\n            upnp.setPageSize(defaultListSize);\n        }\n    } else if ( app.environment.UPnPMode !== 'off' ) {\n        upnpPath = '/media/UPnP';\n    }\n\n    renderFilesListInitial.itemsToRenderNames = isNfsEnabled ? [gettext('Favorites'), 'SAMBA', 'NFS', 'UPnP'] : [gettext('Favorites'), 'SAMBA', 'UPnP'];\n\n    if ( app.environment.UPnPMode === 'off' ) {\n        renderFilesListInitial.itemsToRenderNames.pop();\n    }\n\n    mediaTypes.favorite.opener = function () {\n        var favorites = app.storage.favoritesStorage;\n\n        favorites = favorites.map(function ( item ) {\n            var clone = {},\n                key;\n\n            for ( key in item ) {\n                clone[key] = item[key];\n            }\n\n            return clone;\n        });\n        breadcrumbs.config.type = 1;\n        breadcrumbs.config.isDisplayFavorites = true;\n        breadcrumbs.config.entryPointIndex = mainPanelList.$focusItem.index;\n        breadcrumbs.config.currentDirFilesCount = app.storage.favoritesStorage.length;\n        mainPanelTitle.innerText = gettext('Favorites');\n        renderList(\n            constructDataOut({\n                dirs: favorites.filter(function ( item ) { return item.type === 9; }),\n                files: favorites.filter(function ( item ) { return item.type > 9 && !(item.type = undefined); })\n            }, 1),\n            listScroll,\n            {focusIndex: 0}\n        );\n    };\n    mediaTypes.smb.opener = function () {\n        if ( app.runtime.stillWaitNetworkResponse ) {\n            return;\n        }\n\n        app.runtime.stillWaitNetworkResponse = true;\n        breadcrumbs.config.type = mediaTypes.network.id;\n        smbTraverse('getGroups', null, {icon: 'theme-icon-workgroup'}, function () {\n            breadcrumbs.pop();\n            breadcrumbs.push({\n                index: mainPanelList.$focusItem.index,\n                path: 'SAMBA_GROUP'\n            });\n\n            mainPanel.$node.classList.add('networkView');\n            breadcrumbs.config.entryPointIndex = renderFilesListInitial.itemsToRenderNames.indexOf('SAMBA');\n            mainPanelTitle.innerText = gettext('work groups');\n        });\n    };\n    mediaTypes.nfs.opener = function () {\n        if ( app.runtime.stillWaitNetworkResponse ) {\n            return;\n        }\n\n        app.runtime.stillWaitNetworkResponse = true;\n        breadcrumbs.pop();\n        breadcrumbs.push({\n            index: breadcrumbs.config.entryPointIndex = mainPanelList.$focusItem.index,\n            path: 'NFS_SERVER'\n        });\n        nfsTraverse('getServers', null, {icon: 'theme-icon-server'});\n    };\n    mediaTypes.upnp.opener = function () {\n        mainPanelTitle.innerText = gettext('UPnP');\n        breadcrumbs.config.currentDevice = null;\n        breadcrumbs.config.entryPointIndex = mainPanelList.$focusItem.index;\n        breadcrumbs.config.currentDeviceType = mediaTypes.upnp.id;\n        breadcrumbs.config.stageType = mediaTypes.upnp.id;\n\n        if ( upnpPath ) {\n            breadcrumbs.config.type = 1;\n            breadcrumbs.push({\n                index: mainPanelList.$focusItem.index,\n                path: upnpPath\n            });\n            fs.readDir(breadcrumbs.path, function ( error, result ) {\n                if ( !error ) {\n                    breadcrumbs.config.currentDirFilesCount = result.dirs.length + result.files.length;\n                    renderList(constructDataOut(result, 1), listScroll, {focusIndex: 0});\n                }\n            });\n        } else {\n            breadcrumbs.config.type = mediaTypes.upnp.id;\n            upnp.openRoot(null, null, function ( error, result ) {\n                if ( error ) {\n                    echo({\n                        title: gettext(error.message),\n                        icon: 'alert',\n                        type: 'warning'\n                    });\n                } else {\n                    breadcrumbs.config.stageType = mediaTypes.upnpServer;\n                    renderList(constructDataOut(result, mediaTypes.upnp.id), listScroll, {focusIndex: 0});\n                }\n            });\n        }\n\n        initFooter([[], [[keys.f4, gettext('Search'), hotKeyActions[actions.search]]]]).show();\n    };\n\n    persistentItems = [\n        {\n            items: [\n                {\n                    className: 'theme-icon theme-icon-favorite-active'\n                },\n                {\n                    value: gettext('Favorites'),\n                    className: 'persistentMainEntries'\n                }\n            ],\n            value: {\n                type: 1\n            },\n            click: mediaTypes.favorite.opener\n        },\n        {\n            items: [\n                {\n                    className: 'theme-icon theme-icon-network'\n                },\n                {\n                    value: 'SAMBA',\n                    className: 'persistentMainEntries'\n                }\n            ],\n            value: {\n                type: mediaTypes.network.id\n            },\n            click: mediaTypes.smb.opener\n        },\n        {\n            items: [\n                {\n                    className: 'theme-icon theme-icon-network'\n                },\n                {\n                    value: 'NFS',\n                    className: 'persistentMainEntries'\n                }\n            ],\n            value: {\n                type: mediaTypes.network.id\n            },\n            click: mediaTypes.nfs.opener\n        },\n        {\n            items: [\n                {\n                    className: 'theme-icon theme-icon-upnp'\n                },\n                'UPnP'\n            ],\n            value: {\n                type: mediaTypes.upnp.id\n            },\n            click: mediaTypes.upnp.opener\n        }\n    ];\n\n    !isNfsEnabled && persistentItems.splice(2, 1);\n    app.environment.UPnPMode === 'off' && persistentItems.pop();\n    fs.getMountPoints().forEach(function ( item ) {\n        storages[item.sn] = {};\n        list.push({\n            items: [\n                {\n                    className: 'theme-icon theme-icon-usb'\n                },\n                item.label || item.vendor || item.model\n            ],\n            value: {\n                sizeOverview: evalSpace(item.freeSize) + ' / ' + evalSpace(item.size),\n                freeSize:     item.freeSize,\n                fullSize:     item.size,\n                fsType:       types.fs[item.fsType],\n                isReadOnly:   item.isReadOnly,\n                deviceType:   8\n            },\n            click: storages[item.sn].opener = function () {\n                breadcrumbs.push({\n                    index: mainPanelList.$focusItem.index,\n                    path:  item.mountPath\n                });\n\n                breadcrumbs.config.isDeviceReadOnly = item.isReadOnly;\n\n                fs.readDir(breadcrumbs.path, function ( error, result ) {\n                    if ( result ) {\n                        mainPanelTitle.innerText = item.label || item.vendor || item.model;\n                        breadcrumbs.config.type = 1;\n                        breadcrumbs.config.currentDevice = item;\n                        breadcrumbs.config.entryPointIndex = mainPanelList.$focusItem.index;\n                        breadcrumbs.config.currentDeviceType = 8;\n                        breadcrumbs.config.stageType = 8;\n\n                        breadcrumbs.config.currentDirFilesCount = result.dirs.length + result.files.length;\n                        renderDetailsList(\n                            '1000100',\n                            [\n                                breadcrumbs.config.currentDirFilesCount + '',\n                                null,\n                                null,\n                                null,\n                                evalSpace(item.freeSize) + ' / ' + evalSpace(item.size),\n                                null,\n                                null\n                            ]\n                        );\n                        renderList(constructDataOut(result, 1), listScroll, {focusIndex: 0});\n\n                        if ( filterMenuList.types.length ) {\n                            filterAtCurrentOutput(filterMenuList.types);\n                        }\n                    } else {\n                        console.log(error);\n                        breadcrumbs.pop();\n                        echo({\n                            title: gettext('USB Flash Drive error/unable to open'),\n                            icon: 'info'\n                        });\n                    }\n\n                });\n            }\n        });\n\n        renderFilesListInitial.itemsToRenderNames.push(item.label || item.vendor || item.model);\n    });\n\n    permanentSmbSharesList.forEach(function ( item ) {\n        list.push({\n            items: [\n                {\n                    className: 'theme-icon theme-icon-shared-folder'\n                },\n                item.displayName || item.name\n            ],\n            value: {\n                details: item,\n                deviceType: 5\n            },\n            click: function () {\n                if ( app.runtime.stillWaitNetworkResponse ) {\n                    return;\n                }\n\n                app.runtime.stillWaitNetworkResponse = true;\n                breadcrumbs.config.isDisplaySmbShares = true;\n                breadcrumbs.config.type = 1;\n                breadcrumbs.config.currentDevice = item;\n                breadcrumbs.config.currentDeviceType = 5;\n                breadcrumbs.config.entryPointIndex = mainPanelList.$focusItem.index;\n                smbTraverse('openShare', {\n                    addresses: item.addresses,\n                    folder: item.name,\n                    mountPath: app.config.mountPathSMB,\n                    login: item.login,\n                    password: item.password\n                }, {}, function () {\n                    mainPanelTitle.innerText = item.displayName || item.name;\n                    app.runtime.stillWaitNetworkResponse = false;\n                });\n            }\n        });\n\n        renderFilesListInitial.itemsToRenderNames.push(item.name);\n    });\n\n    permanentNfsSharesList.forEach(function ( share ) {\n        var details = share;\n\n        if ( share.displayName ) {\n            details.displayName = share.displayName;\n        }\n\n        details.server = share.path.replace(/^\\D+/, '').replace(/:\\/.*$/, '');\n        details.address = share.path;\n        list.push({\n            items: [\n                {\n                    className: 'theme-icon theme-icon-shared-folder'\n                },\n                share.displayName || share.name\n            ],\n            value: {\n                details: details,\n                deviceType: mediaTypes.nfsPermanentShare\n            },\n            click: function () {\n                if ( app.runtime.stillWaitNetworkResponse ) {\n                    return;\n                }\n\n                app.runtime.stillWaitNetworkResponse = true;\n                breadcrumbs.config.type = mediaTypes.folder.id;\n                breadcrumbs.config.currentDevice = share;\n                breadcrumbs.config.currentDeviceType = mediaTypes.nfsPermanentShare;\n                breadcrumbs.config.entryPointIndex = mainPanelList.$focusItem.index;\n                nfsTraverse('openShare', {path: share.path, folder: share.name}, {}, function () {\n                    mainPanelTitle.innerText = share.displayName || share.name;\n                    page.footer.init();\n                    app.runtime.stillWaitNetworkResponse = false;\n                });\n            }\n        });\n\n        renderFilesListInitial.itemsToRenderNames.push(share.name);\n    });\n\n    itemsToRender = persistentItems.concat(list);\n    renderFilesListInitial.itemsLength = itemsToRender.length;\n    renderFilesListInitial.itemsToRender = itemsToRender;\n    renderFilesListInitial.currentStdout = itemsToRender.slice();\n\n    return itemsToRender;\n}\n\n\n/**\n * Rename network share in the list of permanent shares on the init screen.\n *\n * @param {string} valueToSet - new name for permanent share\n */\nfunction renamePinnedShare ( valueToSet ) {\n    var target     = mainPanelList.$focusItem,\n        targetData = target.data.value.details,\n        targetType = target.data.value.deviceType,\n        isNFS      = targetType === mediaTypes.nfsPermanentShare,\n        index      = isNFS ? app.storage.network.nfs.length : app.storage.network.smb.length,\n        entry;\n\n    while ( index-- ) {\n        entry = app.storage.network[isNFS ? 'nfs' : 'smb'][index];\n\n        if (\n            JSON.stringify(isNFS ? entry.path : entry.addresses) === JSON.stringify(isNFS ? targetData.path : targetData.addresses) &&\n            entry.name === targetData.name\n        ) {\n            app.storage.network[isNFS ? 'nfs' : 'smb'][index].displayName = valueToSet;\n            break;\n        }\n    }\n\n    renderList(renderFilesListInitial(), listScroll, {focusIndex: target.index});\n}\n\n\n/** Search at current output by given string. */\nfunction searchAtCurrentOutput () {\n    if ( !breadcrumbs.config.type ) {\n        searcher.search(\n            renderFilesListInitial.itemsToRender,\n            function ( item ) {\n                return typeof item.items[1] === 'string' ? item.items[1] : item.items[1].value;\n            },\n            function ( data ) {\n                renderFilesListInitial.currentStdout = data;\n                renderList(renderFilesListInitial.currentStdout, listScroll, {focusIndex: 0});\n                $inputSearchIcon.classList.add('active');\n\n                if ( !renderFilesListInitial.currentStdout.length ) {\n                    renderDetailsList('0000000', [null, null, null, null, null, null, null]);\n                }\n\n                if ( !searcher.searchRequest ) {\n                    $inputSearchIcon.classList.remove('active');\n                }\n\n                headerAmount.innerHTML = renderFilesListInitial.currentStdout.length;\n                app.runtime.isSearched = true;\n            }\n        );\n    }\n\n    if ( searcher.searchRequest ) {\n        app.runtime.isSearched = true;\n    } else {\n        app.runtime.isSearched = false;\n        $inputSearch.innerText = gettext('Search');\n        $inputSearchIcon.classList.remove('active');\n    }\n}\n\n\n/**\n * Filter by types for current output.\n *\n * @param {Object[]} filterTypes - selected types for filtering\n * @param {string} [navigationDirection] - navigation direction\n */\nfunction filterAtCurrentOutput ( filterTypes, navigationDirection ) {\n    var back, currentFilesRawSet, filtered;\n\n    if ( !folderListView ) {\n        if ( breadcrumbs.config.type === mediaTypes.upnp.id ) {\n            menuFilteringItem.previousElementSibling.classList.add('active');\n        }\n\n        return;\n    }\n\n    back = [originFolderListView[0]];\n\n    if ( filterTypes.length ) {\n        filtered = originFolderListView.slice(1).filter(function ( item ) {\n            return filterTypes.indexOf(+item.value.type) !== -1 || filterTypes.indexOf(+item.value.item.type) !== -1;\n        });\n\n        currentFilesRawSet = filtered.map(function ( item ) {\n            return item.value.item;\n        });\n\n        folderListView = back.concat(filtered);\n        renderList(folderListView, listScroll, {focusIndex: 0});\n        // update files list with currently sorted (for valid files queue in player)\n        groupFilesByType(currentFilesRawSet);\n        breadcrumbs.config.currentDirFilesCount = filtered.length;\n        renderDetailsList('1000000', [breadcrumbs.config.currentDirFilesCount + '', null, null, null, null, null, null]);\n        menuFilteringItem.previousElementSibling.classList.add('active');\n    } else {\n        searchAtCurrentOutput(navigationDirection);\n    }\n}\n\n\n/** Delete file objects. */\nfunction removeFileSystemObject () {\n    var target = mainPanelList.$focusItem,\n        length = folderListView.length,\n        index  = target.index;\n\n    fs[target.value.type === 9 ? 'removeDir' : 'removeFile'](breadcrumbs.path + mainPanelList.$focusItem.value.name, function ( error, result ) {\n        if ( !error && result ) {\n            renderList((folderListView.splice(index, 1), folderListView), listScroll, {focusIndex: length - 1 === index ? index - 1 : index});\n        }\n\n        modals.actions.hide();\n    });\n\n    breadcrumbs.config.currentDirFilesCount -= 1;\n}\n\n\n/**\n * Render whole page (all panels + auxiliary nodes).\n *\n * @param {Object[]} data - array of structured items for using in LayoutLists\n */\n// eslint-disable-next-line\nfunction renderPage ( data ) {\n    var menuSortingItem, filterItems,\n        buttonCreate, buttonRename, buttonSmbShareAuthorize, buttonSmbServerAuthorize,\n        smbAuthorizeModalList, createDirList, renameShareList, authorizeSmbServerList, modalMessageActionsShow;\n\n    hotKeyActions[actions.resetFilters] = () => {\n        $inputSearch.innerText = gettext('Search');\n        $inputSearchIcon.classList.remove('active');\n\n        // reset filters\n        filterItems = filterItems.map(function ( item ) {\n            item.state = false;\n\n            return item;\n        });\n\n        filterMenuList.setData({data: filterItems});\n        searcher.searchRequest = '';\n        searchRequestRe = undefined;\n        filterAtCurrentOutput([]);\n        filterMenuList.types = [];\n        filterMenuList.title = [];\n        renderFilesListInitial.currentStdout = renderFilesListInitial.itemsToRender.slice();\n        resetFilter();\n\n        if ( !breadcrumbs.config.type ) {\n            renderList(renderFilesListInitial.currentStdout, listScroll, {focusIndex: 0});\n        }\n\n        app.runtime.isSearched = false;\n    };\n\n    hotKeyActions[actions.search] = () => {\n        keyboard.open({\n            title: gettext('FILE SEARCH'),\n            value: searcher.searchRequest\n        }, function ( event ) {\n            if ( !event.value && !app.runtime.isSearched ) {\n                return;\n            }\n\n            $inputSearch.innerText = event.value || gettext('Search');\n\n            searcher.searchRequest = event.value;\n            searchRequestRe = new RegExp(searcher.searchRequest, 'i');\n            searchAtCurrentOutput();\n        });\n    };\n\n    hotKeyActions[actions.createFolder] = () => {\n        modals.actions.hide();\n        panelSet.blur();\n        modals.createFolder.show();\n        modals.createFolder.focus();\n        createDirList.focus();\n        createDirList.focusIndex(0);\n    };\n\n    hotKeyActions[actions.deleteFile] = () => {\n        echo({\n            title: gettext('Are you sure you want to delete this item?'),\n            icon: 'info',\n            type: '',\n            buttons: [\n                {\n                    value: gettext('Cancel')\n                },\n                {\n                    value: gettext('Ok'),\n                    click: removeFileSystemObject\n                }\n            ]\n\n        });\n    };\n\n    hotKeyActions[actions.pinShare] = pinShare;\n\n    hotKeyActions[actions.renamePinnedShare] = () => {\n        modals.actions.hide();\n        panelSet.blur();\n        modals.renameShare.show();\n        modals.renameShare.focus();\n        renameShareList.focus();\n        renameShareList.focusIndex(0);\n    };\n\n    hotKeyActions[actions.unpinShare] = () => {\n        echo({\n            title: gettext('Are you sure you want to delete this shared folder?'),\n            icon: 'info',\n            type: '',\n            buttons: [\n                {\n                    value: gettext('Cancel')\n                },\n                {\n                    value: gettext('Ok'),\n                    click: function () {\n                        removePermanentShare();\n                        modals.actions.hide();\n                        page.footer.show();\n                    }\n                }\n            ]\n\n        });\n    };\n\n    hotKeyActions[actions.setFavoritesState] = setFavoritesState;\n\n    hotKeyActions[actions.clearFavorites] = () => {\n        echo({\n            title: gettext('Are you sure you want to clear the list of favorites?'),\n            icon: 'info',\n            type: '',\n            buttons: [\n                {\n                    value: gettext('Cancel')\n                },\n                {\n                    value: gettext('Ok'),\n                    click: function () {\n                        app.storage.favoritesStorage = [];\n                    }\n                }\n            ]\n        });\n    };\n\n    hotKeyActions[actions.clearSmbCache] = () => {\n        core.plugins.networkSmb.clearCache();\n\n        if ( app.runtime.stillWaitNetworkResponse ) {\n            return;\n        }\n\n        if ( breadcrumbs.length === 1 ) {\n            smbTraverse('getGroups', null, {icon: 'theme-icon-workgroup'});\n        } else if ( breadcrumbs.length === 2 ) {\n            smbTraverse('getServers', breadcrumbs.head.path, {icon: 'theme-icon-server'});\n        } else if ( breadcrumbs.length === 3 ) {\n            smbTraverse('getShares', {server: breadcrumbs.head.path}, {icon: 'theme-icon-shared-folder'});\n        }\n\n        app.runtime.stillWaitNetworkResponse = true;\n    };\n\n    hotKeyActions[actions.clearNfsCache] = () => {\n        core.plugins.networkNfs.clearCache();\n\n        if ( app.runtime.stillWaitNetworkResponse ) {\n            return;\n        }\n\n        if ( breadcrumbs.config.type === mediaTypes.nfsServer ) {\n            nfsTraverse('getServers', null, {icon: 'theme-icon-server'});\n        } else if ( breadcrumbs.config.type === mediaTypes.nfsShare ) {\n            nfsTraverse('getShares', {server: breadcrumbs.head.path}, {icon: 'theme-icon-shared-folder'});\n        }\n\n        app.runtime.stillWaitNetworkResponse = true;\n    };\n\n    Object.keys(actions).forEach(action => {\n        contextMenuItems[action].click = hotKeyActions[actions[action]];\n    });\n\n    filterItems = [\n        {state: false, title: gettext('Folders'), value: mediaTypes.folder.id},\n        {state: false, title: gettext('Video'), value: mediaTypes.fileVideo.id},\n        {state: false, title: gettext('Audio'), value: mediaTypes.fileAudio.id},\n        {state: false, title: gettext('Images'), value: mediaTypes.fileImage.id},\n        {state: false, title: gettext('Text'), value: mediaTypes.fileText.id},\n        {state: false, title: gettext('CUE'), value: mediaTypes.fileCUE.id},\n        {state: false, title: gettext('Disk images'), value: mediaTypes.fileISO.id},\n        {state: false, title: gettext('Playlists'), value: mediaTypes.filePlaylist.id},\n        {state: false, title: gettext('Streams'), value: mediaTypes.fileStream.id}\n    ];\n\n    page.footer = new Footer({\n        parent: page,\n        data: []\n    });\n\n    listScroll = new ScrollBar({\n        value: 0,\n        viewSize: defaultListSize,\n        className: 'listScroll'\n    });\n\n    filterScroll = new ScrollBar({\n        value: 0,\n        viewSize: 5,\n        className: 'filterScroll'\n    });\n\n    rightInfoPanelScroll = new ScrollBar({className: 'rightInfoPanelScroll'});\n\n    page.textArea = new ScrollArea({propagate: true, scroll: rightInfoPanelScroll, step: 1});\n\n    buttonCreate = new Button({\n        value: gettext('create'),\n        className: 'buttonCreateRename bottom'\n    });\n\n    buttonRename = new Button({\n        value: gettext('Rename'),\n        className: 'buttonCreateRename bottom'\n    });\n\n    buttonSmbShareAuthorize = new Button({\n        value: gettext('authorize'),\n        className: 'buttonAuthorize bottom'\n    });\n\n    buttonSmbServerAuthorize = new Button({\n        value: gettext('authorize'),\n        className: 'buttonAuthorize bottom'\n    });\n\n    modals.authorizeSMBServer = new ModalMessage({\n        title: gettext('authorization'),\n        events: {\n            show: function () {\n                app.runtime.isModalShown = true;\n                page.footer.hide();\n                modals.authorizeSMBServer.focus();\n            },\n            hide: function () {\n                authorizeSmbServerList.loginAttempt = authorizeSmbServerList.passwordAttempt = false;\n                closeModalWindow();\n            }\n        },\n        children: [\n            authorizeSmbServerList = new LayoutList({\n                className: 'padded',\n                cycle: true,\n                size: 2,\n                focusIndex: 0,\n                data: [\n                    {\n                        items: [\n                            $inputSMBServerLogin = tag(\n                                'div',\n                                {className: 'inputSMBShareLoginField theme-item-editable disabled'},\n                                gettext('Login')\n                            )\n                        ],\n                        click: function () {\n                            keyboard.open({\n                                title: gettext('ENTER LOGIN'),\n                                value: authorizeSmbServerList.loginAttempt ? $inputSMBServerLogin.innerText : ''\n                            }, function ( event ) {\n                                $inputSMBServerLogin.innerText = event.value || gettext('Login');\n                                authorizeSmbServerList.loginAttempt = !!event.value;\n                            });\n                        }\n                    },\n                    {\n                        items: [\n                            $inputSMBServerPassword = tag('div', {className: 'inputSMBSharePasswdField'}, gettext('Password')),\n                            {\n                                className: 'theme-item-editable disabled'\n                            }\n                        ],\n                        click: function () {\n                            keyboard.open({\n                                title: gettext('ENTER PASSWORD'),\n                                value: authorizeSmbServerList.passwordAttempt ? $inputSMBServerPassword.innerText : '',\n                                type: 'password'\n                            }, function ( event ) {\n                                event.value = event.value.trim();\n                                authorizeSmbServerList.passwordAttempt = !!event.value;\n\n                                if ( event.value ) {\n                                    $inputSMBServerPassword.password = event.value;\n                                    $inputSMBServerPassword.innerText = event.value;\n                                    $inputSMBServerPassword.classList.add('theme-text-password');\n                                } else {\n                                    $inputSMBServerPassword.classList.remove('theme-text-password');\n                                    $inputSMBServerPassword.innerText = gettext('Password');\n                                }\n                            });\n                        }\n                    }\n                ],\n                events: {\n                    overflow: function ( event ) {\n                        if ( event.direction === keys.down || event.direction === keys.up ) {\n                            this.blurItem(this.$focusItem);\n                            buttonSmbServerAuthorize.focus();\n                        }\n                    }\n                }\n            }),\n            buttonSmbServerAuthorize\n        ]\n    });\n\n    modals.sambaAuthorize = new ModalMessage({\n        title: gettext('authorization'),\n        events: {\n            show: function () {\n                app.runtime.isModalShown = true;\n                page.footer.hide();\n                modals.sambaAuthorize.focus();\n            },\n            hide: function () {\n                smbAuthorizeModalList.loginAttempt = smbAuthorizeModalList.passwordAttempt = false;\n                closeModalWindow();\n            }\n        },\n        children: [\n            smbAuthorizeModalList = new LayoutList({\n                className: 'padded',\n                cycle: true,\n                size: 2,\n                focusIndex: 0,\n                data: [\n                    {\n                        items: [\n                            $inputSMBShareLogin = tag(\n                                'div',\n                                {className: 'inputSMBShareLoginField theme-item-editable disabled'},\n                                gettext('Login')\n                            )\n                        ],\n                        click: function () {\n                            keyboard.open({\n                                title: gettext('ENTER LOGIN'),\n                                value: smbAuthorizeModalList.loginAttempt ? $inputSMBShareLogin.innerText : ''\n                            }, function ( event ) {\n                                $inputSMBShareLogin.innerText = event.value || gettext('Login');\n                                smbAuthorizeModalList.loginAttempt = !!event.value;\n                            });\n                        }\n                    },\n                    {\n                        items: [\n                            $inputSMBSharePassword = tag('div', {className: 'inputSMBSharePasswdField'}, gettext('Password')),\n                            {\n                                className: 'theme-item-editable disabled'\n                            }\n                        ],\n                        click: function () {\n                            keyboard.open({\n                                title: gettext('ENTER PASSWORD'),\n                                value: smbAuthorizeModalList.passwordAttempt ? $inputSMBSharePassword.innerText : '',\n                                type: 'password'\n                            }, function ( event ) {\n                                event.value = event.value.trim();\n                                smbAuthorizeModalList.passwordAttempt = !!event.value;\n\n                                if ( event.value ) {\n                                    $inputSMBSharePassword.password = event.value;\n                                    $inputSMBSharePassword.innerText = event.value;\n                                    $inputSMBSharePassword.classList.add('theme-text-password');\n                                } else {\n                                    $inputSMBSharePassword.classList.remove('theme-text-password');\n                                    $inputSMBSharePassword.innerText = gettext('Password');\n                                }\n                            });\n                        }\n                    }\n                ],\n                events: {\n                    overflow: function ( event ) {\n                        if ( event.direction === keys.down || event.direction === keys.up ) {\n                            this.blurItem(this.$focusItem);\n                            buttonSmbShareAuthorize.focus();\n                        }\n                    }\n                }\n            }),\n            buttonSmbShareAuthorize\n        ]\n    });\n\n    modals.sort = new ModalMessage({\n        title: gettext('sorting'),\n        events: {\n            show: function () {\n                modals.sort.focus();\n                app.runtime.isModalShown = true;\n            }\n        },\n        children: [\n            new RadioList({\n                cycle: true,\n                focusIndex: 0,\n                size: 4,\n                events: {\n                    'click:item': function ( event ) {\n                        var value = event.$item.value;\n\n                        modals.sort.hide();\n\n                        if ( value === 1 ) {\n                            actualSorting = 'NAME';\n                        } else if ( value === 2 ) {\n                            actualSorting = 'DATE';\n                        } else if ( value === 3 ) {\n                            actualSorting = 'TYPE';\n                        } else {\n                            actualSorting = 'SIZE';\n                        }\n\n                        renderList(contentSort(actualSorting), listScroll, {focusIndex: 0});\n                        menuSortingItem.innerText = event.$item.data.title;\n                        panelSet.focus();\n                        leftPanelMenu.focus();\n                    }\n                },\n                data: [\n                    {\n                        state: true,\n                        title: gettext('By name'),\n                        value: 1\n                    },\n                    {\n                        state: false,\n                        title: gettext('By date'),\n                        value: 2\n                    },\n                    {\n                        state: false,\n                        title: gettext('By type'),\n                        value: 3\n                    },\n                    {\n                        state: false,\n                        title: gettext('By size'),\n                        value: 4\n                    }\n                ]\n            })\n        ]\n    });\n\n    modals.filter = new ModalMessage({\n        title: gettext('filtering'),\n        events: {\n            show: function () {\n                modals.filter.focus();\n                app.runtime.isModalShown = true;\n                page.footer.hide();\n            }\n        },\n        children: [\n            filterMenuList = new CheckList({\n                cycle: true,\n                focusIndex: 0,\n                data: filterItems,\n                scroll: filterScroll\n            })\n        ]\n    });\n\n    modals.actions = new ModalMessage({\n        title: gettext('actions'),\n        events: {\n            show: function () {\n                app.runtime.isModalShown = true;\n                modals.actions.focus();\n            },\n            hide: closeModalWindow,\n            keydown: function ( event ) {\n                if ( event.code === keys.ok ) {\n                    this.hide();\n                }\n            }\n        },\n        children: [\n            contextMenuList = new LayoutList({\n                cycle: true,\n                focusIndex: 0,\n                data: []\n            })\n        ]\n    });\n\n    contextMenuList.render = function ( items ) {\n        this.init({\n            data: items,\n            size: items.length,\n            focusIndex: 0\n        });\n    };\n\n    modalMessageActionsShow = modals.actions.show;\n\n    modals.actions.show = function () {\n        setTimeout(function () {\n            modalMessageActionsShow.call(modals.actions);\n            panelSet.blur();\n        }, 40);\n    };\n\n    modals.createFolder = new ModalMessage({\n        title: gettext('Create folder'),\n        events: {\n            show: function () {\n                app.runtime.isModalShown = true;\n                page.footer.hide();\n            },\n            hide: function () {\n                createDirList.createAttempt = false;\n                closeModalWindow();\n            }\n        },\n        children: [\n            createDirList = new LayoutList({\n                className: 'padded',\n                size: 1,\n                focusIndex: 0,\n                data: [\n                    {\n                        items: [\n                            $inputFolderName = tag(\n                                'div',\n                                {className: 'inputFolderName theme-item-editable theme-text-disabled'},\n                                gettext('New folder')\n                            )\n                        ],\n                        click: function () {\n                            keyboard.open({\n                                title: gettext('ENTER FOLDER NAME'),\n                                value: createDirList.createAttempt ? $inputFolderName.innerText : ''\n                            }, function ( event ) {\n                                $inputFolderName.innerText  = event.value || gettext('New folder');\n                                createDirList.createAttempt = !!event.value;\n                            });\n                        }\n                    }\n                ],\n                events: {\n                    overflow: function ( event ) {\n                        if ( event.direction === keys.down || event.direction === keys.up ) {\n                            this.blurItem(this.$focusItem);\n                            buttonCreate.focus();\n                        }\n                    }\n                }\n            }),\n            buttonCreate\n        ]\n    });\n\n    modals.renameShare = new ModalMessage({\n        title: gettext('Rename'),\n        events: {\n            show: function () {\n                app.runtime.isModalShown = true;\n                page.footer.hide();\n            },\n            hide: function () {\n                renameShareList.renameAttempt = false;\n                closeModalWindow();\n            }\n        },\n        children: [\n            renameShareList = new LayoutList({\n                className: 'padded',\n                size: 1,\n                focusIndex: 0,\n                data: [\n                    {\n                        items: [\n                            $inputShareName = tag(\n                                'div',\n                                {className: 'inputShareName theme-item-editable disabled'},\n                                gettext('New name')\n                            )\n                        ],\n                        click: function () {\n                            keyboard.open({\n                                title: gettext('ENTER FOLDER NAME'),\n                                value: renameShareList.renameAttempt ? $inputShareName.innerText : ''\n                            }, function ( event ) {\n                                $inputShareName.innerText     = event.value || gettext('New name');\n                                renameShareList.renameAttempt = !!event.value;\n                            });\n                        }\n                    }\n                ],\n                events: {\n                    overflow: function ( event ) {\n                        if ( event.direction === keys.down || event.direction === keys.up) {\n                            this.blurItem(this.$focusItem);\n                            buttonRename.focus();\n                        }\n                    }\n                }\n            }),\n            buttonRename\n        ]\n    });\n\n    page.clock = new Flicker({\n        parent: page,\n        className: 'clock',\n        interval: 1000,\n        render: function ( $item ) {\n            var time  = new Date(),\n                hours = time.getHours(),\n                mins  = time.getMinutes();\n\n            $item.innerText = (hours > 9 ? hours : '0' + hours) + ':' + (mins > 9 ? mins : '0' + mins);\n        }\n    });\n\n    page.clock.start();\n    Object.keys(modals).forEach(modal => page.add(modals[modal]));\n\n    page.add(\n        panelSet = new PanelSet({\n            panels: [\n                new Panel({\n                    size: 1,\n                    title: [\n                        {\n                            value: gettext('menu'),\n                            className: 'name'\n                        }\n                    ],\n                    children: [\n                        leftPanelMenu = new LayoutList({\n                            cycle: true,\n                            size: 5,\n                            focusIndex: 0,\n                            data: [\n                                {\n                                    items: [\n                                        $inputSearchIcon = tag('div', {className: 'theme-icon theme-icon-search'}),\n                                        $inputSearch = tag('div', {className: 'inputSearchField'}, gettext('Search'))\n                                    ],\n                                    click: hotKeyActions[actions.search]\n                                },\n                                {\n                                    items: [\n                                        {\n                                            className: 'theme-icon theme-icon-sort-az'\n                                        },\n                                        {\n                                            value: gettext('By name'),\n                                            className: 'theme-item-more'\n                                        }\n                                    ],\n                                    click: function () {\n                                        // do nothing if there are no items for searching\n                                        if ( !breadcrumbs.config.type || (breadcrumbs.config.type === mediaTypes.network.id && breadcrumbs.head.type < mediaTypes.smbShare) ) {\n                                            return;\n                                        }\n\n                                        panelSet.blur();\n                                        modals.sort.show();\n                                        modals.sort.focus();\n                                    }\n                                },\n                                {\n                                    items: [\n                                        {\n                                            className: 'theme-icon theme-icon-filter'\n                                        },\n                                        {\n                                            value: gettext('All'),\n                                            className: 'theme-item-more'\n                                        }\n                                    ],\n                                    click: function () {\n                                        var availableTypes, currentTypes;\n\n                                        if (\n                                            !breadcrumbs.config.type\n                                            || breadcrumbs.config.stageType === mediaTypes.upnpServer\n                                            || breadcrumbs.config.stageType === mediaTypes.upnpHost\n                                        ) {\n                                            return;\n                                        }\n\n                                        groupFilesByType(listFile.map(file => file.value.item));\n\n                                        // show only available types in filter menu\n                                        availableTypes = Object.keys(filesByType);\n\n                                        currentTypes = filterItems.filter(function ( item ) {\n                                            return availableTypes.indexOf(String(item.value)) !== -1;\n                                        });\n\n                                        if ( listFolder.length ) {\n                                            currentTypes.unshift(filterItems[0]);\n                                        }\n\n                                        // block filters invocation in empty folders\n                                        if ( !currentTypes.length ) {\n                                            return;\n                                        }\n\n                                        filterMenuList.init({\n                                            data:       currentTypes,\n                                            size:       currentTypes.length < 6 ? currentTypes.length : 5,\n                                            scroll:     currentTypes.length < 6 ? null : filterScroll,\n                                            focusIndex: 0\n                                        });\n                                        panelSet.blur();\n                                        modals.filter.show();\n                                        modals.filter.focus();\n                                    }\n                                },\n                                {\n                                    items: [\n                                        {\n                                            className: 'theme-icon theme-icon-network'\n                                        },\n                                        {\n                                            value: gettext('Mount share'),\n                                            className: 'theme-item-more'\n                                        }\n                                    ],\n                                    click: function () {\n                                        app.route(app.pages.connect);\n                                    }\n                                },\n                                {\n                                    items: [\n                                        {\n                                            className: 'theme-icon theme-icon-exit'\n                                        },\n                                        {\n                                            value: gettext('Exit')\n                                        }\n                                    ],\n                                    click: function () {\n                                        appExit.goExit(panelSet);\n                                    }\n                                }\n                            ]\n                        })\n                    ],\n                    events: {\n                        focus: function ( event ) {\n                            Panel.prototype.defaultEvents.focus.call(this, event);\n                            initFooter([\n                                [\n                                    keys.menu, function () {\n                                        contextMenuList.render([contextMenuItems.resetFilters]);\n                                        modals.actions.show();\n                                        page.footer.hide();\n                                    }\n                                ],\n                                [[keys.f1, gettext('Reset filters'), hotKeyActions[actions.resetFilters]]]\n                            ]).show();\n                        }\n                    }\n                }),\n                mainPanel = new Panel({\n                    size: 1,\n                    title: [\n                        {\n                            value: gettext('files'),\n                            className: 'name'\n                        },\n                        tag('div', {className: 'amountContainer'}, headerAmount = tag('div', {className: 'amount'}, 0))\n                    ],\n                    main: true,\n                    children: !page.loaded && [\n                        mainPanelList = new LayoutList({\n                            cycle:      true,\n                            focusIndex: 0,\n                            size:       defaultListSize,\n                            data:       renderFilesListInitial(),\n                            scroll:     listScroll,\n                            noData:     ''\n                        })\n                    ]\n                }),\n                rightPanel = new Panel({\n                    size: 1,\n                    title: [\n                        {\n                            value: gettext('details'),\n                            className: 'name'\n                        }\n                    ],\n                    children: []\n                })\n            ]\n        })\n    );\n\n    diagram.init(rightPanel, [mainPanelList.$body.children[0], mainPanel.$node, mainPanel.$node]);\n    renderDetailsList('0000000', [null, null, null, null, null, null, null]);\n    rightPanel.add(page.textArea, rightInfoPanelScroll);\n    menuSortingItem = leftPanelMenu.$body.children[1].children[0].children[1];\n    menuFilteringItem = leftPanelMenu.$body.children[2].children[0].children[1];\n    mainPanel.$body.appendChild(listScroll.$node);\n    modals.filter.$body.appendChild(filterScroll.$node);\n\n    if ( renderFilesListInitial.itemsLength <= defaultListSize ) {\n        listScroll.$node.style.display = 'none';\n    }\n\n    headerAmount.innerHTML = breadcrumbs.config.type ? data.length - 1 : renderFilesListInitial.itemsLength;\n    mainPanelTitle = mainPanel.title.$body.children[0];\n    filterMenuList.title = filterMenuList.title || [];\n    filterMenuList.types = filterMenuList.types || [];\n    mainPanel.focus();\n    constructFavoritesInfo();\n\n    rightPanel.addListener('focus', function () {\n        page.footer.hide();\n    });\n\n    mainPanel.addListener('focus', function () {\n        var target = mainPanelList.$focusItem;\n\n        if ( breadcrumbs.config.type || (!breadcrumbs.config.type && target && target.data && target.data.value && (target.data.value.deviceType === 5 || target.data.value.type === 1)) ) {\n            mainPanelList.emit('focus:item');\n        } else {\n            page.footer.hide();\n        }\n    });\n\n    filterMenuList.addListener('keydown', function ( event ) {\n        var titleLength;\n\n        if ( event.code === keys.back ) {\n            Array.prototype.forEach.call(filterMenuList.$body.children, function ( item ) {\n                if ( item.state ) {\n                    if ( filterMenuList.types.indexOf(item.data.value) === -1 ) {\n                        filterMenuList.types.push(item.data.value);\n                    }\n\n                    if ( filterMenuList.title.indexOf(item.data.title) === -1 ) {\n                        filterMenuList.title.push(item.data.title);\n                    }\n                } else if ( item.data ) {\n                    if ( filterMenuList.types.indexOf(item.data.value) !== -1 ) {\n                        filterMenuList.types.splice(filterMenuList.types.indexOf(item.data.value), 1);\n                    }\n\n                    if ( filterMenuList.title.indexOf(item.data.title) !== -1 ) {\n                        filterMenuList.title.splice(filterMenuList.title.indexOf(item.data.title), 1);\n                    }\n                }\n            });\n\n            // update filtering items to current state\n            filterItems = filterItems.map(function ( item ) {\n                item.state = filterMenuList.types.indexOf(item.value) !== -1;\n\n                return item;\n            });\n\n            filterAtCurrentOutput(filterMenuList.types);\n            titleLength = filterMenuList.title.length;\n\n            if ( titleLength > 2 ) {\n                menuFilteringItem.innerText = filterMenuList.title.slice(0, 2).join(', ') + ', ...';\n            } else if ( titleLength && titleLength < 3 ) {\n                menuFilteringItem.innerText = filterMenuList.title.slice(0, 2).join(', ');\n            } else {\n                menuFilteringItem.innerText = resetFilter();\n            }\n        }\n    });\n\n    mainPanelList.addListener('keydown', function ( event ) {\n        var targetNode = mainPanelList.$focusItem;\n\n        if ( breadcrumbs.config.type ) {\n            if ( breadcrumbs.config.type === 1 ) {\n                if ( breadcrumbs.config.currentDeviceType !== 5 ) {\n                    if ( event.code === keys.del ) {\n                        if (\n                            breadcrumbs.config.isDisplayFavorites ||\n                            !targetNode.data.value ||\n                            breadcrumbs.config.isDisplaySmbShares ||\n                            breadcrumbs.config.isDeviceReadOnly\n                        ) {\n                            return;\n                        }\n\n                        echo({\n                            title: gettext('Are you sure you want to delete this item?'),\n                            icon: 'info',\n                            type: '',\n                            buttons: [\n                                {\n                                    value: gettext('Cancel')\n                                },\n                                {\n                                    value: gettext('Ok'),\n                                    click: removeFileSystemObject\n                                }\n                            ]\n\n                        });\n                    }\n                }\n            }\n        } else if ( event.code === keys.del ) {\n            echo({\n                title: gettext('Are you sure you want to delete this item?'),\n                icon: 'info',\n                type: '',\n                buttons: [\n                    {\n                        value: gettext('Cancel')\n                    },\n                    {\n                        value: gettext('Ok'),\n                        click: removePermanentShare\n                    }\n                ]\n            });\n        }\n    });\n\n    (function () {\n        var delay = core.environment.onFocusDebounceTimeout || 400,\n            footerButtons = [],\n            timerId;\n\n        mainPanelList.addListener('focus:item', function () { // eslint-disable-line\n            var target = mainPanelList.$focusItem,\n                fileSystemObject;\n\n            if ( folderListView ) {\n                clearTimeout(timerId);\n                fileSystemObject = folderListView[target.index];\n                if ( fileSystemObject && fileSystemObject.value ) {\n                    timerId = setTimeout(function () {\n                        if ( fileSystemObject.value.type === 9 || fileSystemObject.value.type === 10 ) {\n                            switch ( fileSystemObject.value.item.subtype ) {\n                                case FILE_SUBTYPE.playlistFile:\n                                    renderDetailsList(\n                                        '01000001',\n                                        [null, fileSystemObject.value.name, null, null, null, null, null, fileSystemObject.value.item.uri]\n                                    );\n                                    footerButtons = [];\n\n                                    if ( !breadcrumbs.config.isDisplaySmbShares ) {\n                                        footerButtons = [[],  [[keys.f3, gettext('Favorites'), hotKeyActions[actions.setFavoritesState]]]];\n                                    }\n                                    break;\n                                case FILE_SUBTYPE.playlistStream:\n                                    renderDetailsList(\n                                        '01000001',\n                                        [null, fileSystemObject.value.name, null, null, null, null, null, fileSystemObject.value.item.path],\n                                        fileSystemObject.value.item.additionalData ? {nodes: fileSystemObject.value.item.additionalData} : null\n                                    );\n\n                                    footerButtons = [\n                                        [\n                                            keys.menu, function () {\n                                                contextMenuList.render([contextMenuItems.setFavoritesState]);\n                                                modals.actions.show();\n                                                page.footer.hide();\n                                            }\n                                        ], [[keys.f3, gettext('Favorites'), hotKeyActions[actions.setFavoritesState]]]\n                                    ];\n\n                                    break;\n                                default:\n                                    if ( fileSystemObject.value.item.type === mediaTypes.fileCUE.id ) {\n                                        constructCueInfo(fileSystemObject.value.item);\n                                    } else if ( fileSystemObject.value.item.type === mediaTypes.fileImage.id ) {\n                                        previewImage(\n                                            page.textArea,\n                                            'file://' + breadcrumbs.path + fileSystemObject.value.name,\n                                            fileSystemObject.value\n                                        );\n                                    } else {\n                                        renderDetailsList(\n                                            '0111000',\n                                            [\n                                                null,\n                                                fileSystemObject.value.name,\n                                                new Date(fileSystemObject.value.item.lastModified).toLocaleDateString(),\n                                                evalSpace(fileSystemObject.value.item.size),\n                                                null,\n                                                null,\n                                                null\n                                            ]\n                                        );\n                                    }\n\n                                    footerButtons = [[], [[keys.f3, gettext('Favorites'), hotKeyActions[actions.setFavoritesState]]]];\n\n                                    if ( breadcrumbs.config.isDisplayFavorites || breadcrumbs.config.isDeviceReadOnly ) {\n                                        footerButtons[0] = [\n                                            keys.menu, function () {\n                                                contextMenuList.render([contextMenuItems.setFavoritesState]);\n                                                modals.actions.show();\n                                                page.footer.hide();\n                                            }\n                                        ];\n                                    } else {\n                                        footerButtons[0] = [\n                                            keys.menu, function () {\n                                                contextMenuList.render([\n                                                    contextMenuItems.deleteFile,\n                                                    contextMenuItems.createFolder,\n                                                    contextMenuItems.setFavoritesState\n                                                ]);\n                                                modals.actions.show();\n                                                page.footer.hide();\n                                            }\n                                        ];\n                                        footerButtons[1].unshift(\n                                            [keys.f1, gettext('Delete'), hotKeyActions[actions.deleteFile]],\n                                            [keys.f2, gettext('Create folder'), hotKeyActions[actions.createFolder]]\n                                        );\n                                    }\n                            }\n\n                            if ( breadcrumbs.config.type !== 1 && (fileSystemObject.value.item.type === '14' || breadcrumbs.config.isDisplayPlaylist) ) {\n                                if ( MODE === 'portal' && (fileSystemObject.value.item.type === '14' || breadcrumbs.config.isDisplayPlaylist ) ) { // eslint-disable-line\n                                    footerButtons = [[keys.menu], [[keys.f4, gettext('Search'), hotKeyActions[actions.search]]]];\n                                    initFooter(footerButtons);\n                                } else {\n                                    footerButtons = [[], [[keys.f4, gettext('Search'), hotKeyActions[actions.search]]]];\n                                    initFooter(footerButtons);\n                                }\n                            }\n\n                            breadcrumbs.config.type === 1 && breadcrumbs.config.currentDeviceType !== 5 && initFooter(footerButtons);\n                        } else {\n                            renderDetailsList('0100000', [null, fileSystemObject.value.name, null, null, null, null, null]);\n\n                            if ( breadcrumbs.config.type === 1 && breadcrumbs.config.currentDeviceType !== 5 ) {\n                                if ( breadcrumbs.config.isDeviceReadOnly ) {\n                                    footerButtons = [\n                                        [\n                                            keys.menu, function () {\n                                                contextMenuList.render([contextMenuItems.setFavoritesState]);\n                                                modals.actions.show();\n                                                page.footer.hide();\n                                            }\n                                        ], [[keys.f3, gettext('Favorites'), hotKeyActions[actions.setFavoritesState]]]\n                                    ];\n\n                                    initFooter(footerButtons).show();\n                                } else {\n                                    initFooter([\n                                        [\n                                            keys.menu, function () {\n                                                contextMenuList.render([\n                                                    contextMenuItems.deleteFile,\n                                                    contextMenuItems.createFolder,\n                                                    contextMenuItems.setFavoritesState\n                                                ]);\n                                                modals.actions.show();\n                                                page.footer.hide();\n                                            }\n                                        ], [\n                                            [keys.f1, gettext('Delete'), hotKeyActions[actions.deleteFile]],\n                                            [keys.f2, gettext('Create folder'), hotKeyActions[actions.createFolder]],\n                                            [keys.f3, gettext('Favorites'), hotKeyActions[actions.setFavoritesState]]\n                                        ]\n                                    ]).show();\n                                }\n                            }\n\n                            if ( breadcrumbs.config.currentDeviceType === 5 ) {\n                                footerButtons = [[], [[keys.f4, gettext('Search'), hotKeyActions[actions.search]]]];\n                                initFooter(footerButtons);\n                            }\n                        }\n                    }, delay);\n                } else {\n                    if ( breadcrumbs.config.currentDeviceType === 5 ) {\n                        footerButtons = [[], [[keys.f4, gettext('Search'), hotKeyActions[actions.search]]]];\n                        initFooter(footerButtons);\n                    }\n\n                    renderDetailsList('1000000', [breadcrumbs.config.currentDirFilesCount + '', null, null, null, null, null, null]);\n\n                    if ( breadcrumbs.config.currentDeviceType !== 5 && !breadcrumbs.config.isDisplayFavorites && !breadcrumbs.head.isDisplayPlaylist && !breadcrumbs.config.isDeviceReadOnly ) {\n                        initFooter([\n                            [\n                                keys.menu, function () {\n                                    contextMenuList.render([contextMenuItems.createFolder]);\n                                    modals.actions.show();\n                                    page.footer.hide();\n                                }\n                            ], [[keys.f2, gettext('Create folder'), hotKeyActions[actions.createFolder]]]\n                        ]).show();\n                    }\n\n                    if ( breadcrumbs.config.isDisplayFavorites ) {\n                        initFooter([\n                            [\n                                keys.menu, function () {\n                                    contextMenuList.render([contextMenuItems.setFavoritesState]);\n                                    modals.actions.show();\n                                    page.footer.hide();\n                                }\n                            ],\n                            [[keys.f3, gettext('Favorites'), hotKeyActions[actions.setFavoritesState]]]\n                        ]).show();\n                    }\n\n                    if ( breadcrumbs.config.type === 1 && breadcrumbs.config.isDeviceReadOnly ) {\n                        page.footer.hide();\n                    }\n                }\n            }\n\n            if ( breadcrumbs.config.type === mediaTypes.network.id ) {\n                initFooter([\n                    [\n                        keys.menu, function () {\n                            contextMenuList.render([\n                                contextMenuItems.clearSmbCache,\n                                contextMenuItems.search\n                            ]);\n                            modals.actions.show();\n                            page.footer.hide();\n                        }\n                    ],\n                    [\n                        [keys.f1, gettext('Clear cache'), hotKeyActions[actions.clearSmbCache]],\n                        [keys.f4, gettext('Search'), hotKeyActions[actions.search]]\n                    ]\n                ]).show();\n\n                if ( breadcrumbs.config.type === mediaTypes.nfsServer || breadcrumbs.config.type === mediaTypes.nfsShare ) {\n                    initFooter([\n                        [\n                            keys.menu, function () {\n                                contextMenuList.render([\n                                    contextMenuItems.clearNfsCache,\n                                    contextMenuItems.search\n                                ]);\n                                modals.actions.show();\n                                page.footer.hide();\n                            }\n                        ],\n                        [\n                            [keys.f1, gettext('Clear cache'), hotKeyActions[actions.clearNfsCache]],\n                            [keys.f4, gettext('Search'), hotKeyActions[actions.search]]\n                        ]\n                    ]).show();\n                }\n\n                if (\n                    (breadcrumbs.head && breadcrumbs.head.type === mediaTypes.smbServer) && target.index\n                    || (breadcrumbs.length === 5 && !target.index)\n                    || (MODE === 'portal' && breadcrumbs.config.isDisplayPlaylist)\n                ) {\n                    initFooter([\n                        [\n                            keys.menu, function () {\n                                contextMenuList.render([contextMenuItems.pinShare]);\n                                modals.actions.show();\n                                page.footer.hide();\n                            }\n                        ]\n                    ]).show();\n                }\n            }\n\n            if ( breadcrumbs.config.type === mediaTypes.upnp.id ) {\n                initFooter([\n                    [\n                        keys.menu, function () {\n                            contextMenuList.render([contextMenuItems.search]);\n                            modals.actions.show();\n                            page.footer.hide();\n                        }\n                    ],\n                    [[keys.f4, gettext('Search'), hotKeyActions[actions.search]]]\n                ]).show();\n\n                if ( breadcrumbs.config.stageType === mediaTypes.upnpHost || breadcrumbs.config.stageType === mediaTypes.upnpDir ) {\n                    clearTimeout(timerId);\n                    timerId = setTimeout(function () {\n                        if ( target.index ) {\n                            if ( breadcrumbs.config.stageType === mediaTypes.upnpDir ) {\n                                // files\n                                if ( target.value.type === 10 ) {\n                                    // images\n                                    if ( target.value.item.type === mediaTypes.fileImage.id ) {\n                                        previewImage(page.textArea, target.value.item.path, {name: target.value.item.name, item: target.value.item});\n                                    }\n                                }\n                            }\n\n                            renderDetailsList(\n                                '010' + +(target.value.type === 10) + '000' + +(target.value.type === 10),\n                                [\n                                    null,\n                                    target.value.name,\n                                    null,\n                                    target.value.type === 10 ? evalSpace(target.value.item.size) : null,\n                                    null,\n                                    null,\n                                    null,\n                                    target.value.type === 10 ? target.value.item.path : null\n                                ]\n                            );\n                        } else {\n                            renderDetailsList('0000000', [null, null, null, null, null, null, null]);\n                        }\n                    }, delay);\n                }\n            }\n\n            if ( !breadcrumbs.config.type ) {\n                if ( target.data && target.data.value && target.data.value.deviceType === 8 ) {\n                    page.footer.hide();\n\n                    renderDetailsList(\n                        '0000110',\n                        [\n                            null,\n                            null,\n                            null,\n                            null,\n                            target.data.value.sizeOverview,\n                            target.data.value.fsType + (target.data.value.isReadOnly ? ' (' + gettext('read-only') + ')' : ''),\n                            null\n                        ]\n                    );\n\n                    diagram.draw({size: target.data.value.fullSize, free: target.data.value.freeSize});\n                } else if ( target.data && target.data.value && (target.data.value.deviceType === 5 || target.data.value.deviceType === mediaTypes.nfsPermanentShare) ) {\n                    constructShareInfo(target.data.value);\n\n                    initFooter([\n                        [\n                            keys.menu, function () {\n                                contextMenuList.render([\n                                    contextMenuItems.unpinShare,\n                                    contextMenuItems.renamePinnedShare\n                                ]);\n                                modals.actions.show();\n                                page.footer.hide();\n                            }\n                        ], [\n                            [\n                                keys.f1, gettext('Delete'), function () {\n                                    echo({\n                                        title: gettext('Are you sure you want to delete this shared folder?'),\n                                        icon: 'info',\n                                        type: '',\n                                        buttons: [\n                                            {\n                                                value: gettext('Cancel')\n                                            },\n                                            {\n                                                value: gettext('Ok'),\n                                                click: removePermanentShare\n                                            }\n                                        ]\n                                    });\n                                }\n                            ], [keys.f4, gettext('Rename'), hotKeyActions[actions.renamePinnedShare]]\n                        ]\n                    ]).show();\n                } else if ( target.data && target.data.value && target.data.value.type === 1 ) {\n                    if ( app.storage.favoritesStorage.length ) {\n                        initFooter([\n                            [\n                                keys.menu, function () {\n                                    contextMenuList.render([contextMenuItems.clearFavorites]);\n                                    modals.actions.show();\n                                    page.footer.hide();\n                                }\n                            ],\n                            [[keys.f1, gettext('Clear'), hotKeyActions[actions.clearFavorites]]]\n                        ]).show();\n                    } else {\n                        page.footer.hide();\n                    }\n\n                    constructFavoritesInfo();\n                } else {\n                    page.footer.hide();\n                    renderDetailsList('0000000', [null, null, null, null, null, null, null]);\n                }\n            }\n\n            /*if ( MODE === 'portal' && breadcrumbs.config.isDisplayPlaylist ) {\n                initFooter([[keys.menu], [[keys.f4, gettext('Search'), hotKeyActions[actions.search]]]]);\n            }*/\n        });\n    })();\n\n    mainPanelList.addListener('move:view', function () {\n        mainPanelList && mainPanelList.$focusItem && mainPanelList.emit('focus:item');\n    });\n\n    buttonCreate.addListener('click', function () {\n        var nameToSet = $inputFolderName.innerText.slice(0, 255),\n            path;\n\n        fs.isFolderExist(\n            path = breadcrumbs.path + nameToSet,\n            function ( error, isExist ) {\n                if ( isExist ) {\n                    echo({\n                        title: gettext('Folder with this name already exists'),\n                        icon: 'info'\n                    });\n                } else {\n                    console.log(error);\n                    fs.createDir(path, function ( error, dirCreated ) {\n                        if ( !error && dirCreated ) {\n                            renderList(\n                                (folderListView.splice(\n                                    mainPanelList.$focusItem.index + 1,\n                                    0,\n                                    {\n                                        items: [\n                                            {\n                                                className: 'theme-icon theme-icon-folder'\n                                            },\n                                            {\n                                                value: nameToSet,\n                                                className: 'listDirNameField'\n                                            },\n                                            {\n                                                className: 'theme-icon'\n                                            }\n                                        ],\n                                        value: {\n                                            name: nameToSet,\n                                            type: 9,\n                                            item: {\n                                                name: nameToSet,\n                                                type: 9\n                                            }\n                                        },\n                                        click: function () {\n                                            breadcrumbs.push({\n                                                index: mainPanelList.$focusItem.index,\n                                                path: nameToSet\n                                            });\n                                            fs.readDir(breadcrumbs.path, function ( error, result ) {\n                                                if ( !error ) {\n                                                    breadcrumbs.config.currentDirFilesCount = result.dirs.length + result.files.length;\n                                                    renderList(constructDataOut(result, 1), null, {focusIndex: 0});\n                                                    renderDetailsList('1000000', [breadcrumbs.config.currentDirFilesCount + '', null, null, null, null, null, null]);\n                                                }\n                                            });\n                                        }\n                                    }\n                                ), folderListView),\n                                listScroll,\n                                {focusIndex: mainPanelList.$focusItem.index + 1}\n                            );\n\n                            closeModalWindow();\n                            $inputFolderName.innerText = gettext('New folder');\n                        } else {\n                            echo({\n                                title: gettext('Can not set folder name to') + ' \"' + nameToSet + '\". ' + gettext('Unsupported symbols'),\n                                icon: 'info'\n                            });\n                        }\n                    });\n                }\n            }\n        );\n    });\n\n    buttonCreate.addListener('keydown', function ( event ) {\n        if ( event.code === keys.up || event.code === keys.down ) {\n            createDirList.focus();\n            createDirList.focusIndex(0);\n        }\n    });\n\n    buttonRename.addListeners({\n        click: function () {\n            renamePinnedShare($inputShareName.innerText);\n            closeModalWindow();\n        },\n        keydown: function ( event ) {\n            if ( event.code === keys.up || event.code === keys.down ) {\n                renameShareList.focus();\n                renameShareList.focusIndex(0);\n            }\n        }\n    });\n\n    buttonSmbShareAuthorize.addListeners({\n        click: function () {\n            var login      = $inputSMBShareLogin.innerText,\n                password   = $inputSMBSharePassword.password,\n                targetItem = mainPanelList.$focusItem.data,\n                itemData   = targetItem.value.details || targetItem.value.item,\n                path       = {\n                    addresses: itemData.addresses,\n                    folder:    itemData.name,\n                    login:     login,\n                    password:  password,\n                    mountPath: app.config.mountPathSMB\n                };\n\n            itemData.login    = login;\n            itemData.password = password;\n\n            if ( app.runtime.stillWaitNetworkResponse ) {\n                return;\n            }\n\n            app.runtime.stillWaitNetworkResponse = true;\n            closeModalWindow();\n            smbTraverse('openShare', path, {});\n        },\n        keydown: function ( event ) {\n            if ( event.code === keys.up ) {\n                smbAuthorizeModalList.focus();\n                smbAuthorizeModalList.focusIndex(1);\n            } else if ( event.code === keys.down ) {\n                smbAuthorizeModalList.focus();\n                smbAuthorizeModalList.focusIndex(0);\n            }\n        }\n    });\n\n    buttonSmbServerAuthorize.addListeners({\n        click: function () {\n            var login      = $inputSMBServerLogin.innerText,\n                password   = $inputSMBServerPassword.password,\n                targetItem = mainPanelList.$focusItem.data,\n                itemData   = targetItem.value.item,\n                path       = {server: itemData.name, login: login || '', password: password || ''};\n\n            itemData.login    = login;\n            itemData.password = password;\n\n            if ( app.runtime.stillWaitNetworkResponse ) {\n                return;\n            }\n\n            app.runtime.stillWaitNetworkResponse = true;\n            closeModalWindow();\n            smbTraverse('getShares', path, smbTraverse.cache.getShares.config, smbTraverse.cache.getShares.callback);\n        },\n        keydown: function ( event ) {\n            if ( event.code === keys.up ) {\n                authorizeSmbServerList.focus();\n                authorizeSmbServerList.focusIndex(1);\n            } else if ( event.code === keys.down ) {\n                authorizeSmbServerList.focus();\n                authorizeSmbServerList.focusIndex(0);\n            }\n        }\n    });\n\n    fs.onMount = function ( state ) {\n        var deviceViewIndex;\n\n        if ( state ) {\n            if ( !breadcrumbs.config.type ) {\n                renderList(renderFilesListInitial(), listScroll, mainPanelList.$focusItem ? {focusIndex: mainPanelList.$focusItem.index} : null);\n            }\n\n        } else if ( !breadcrumbs.config.type ) {\n            deviceViewIndex = mainPanelList.$focusItem.index;\n            renderList(renderFilesListInitial(), listScroll, {focusIndex: deviceViewIndex - (renderFilesListInitial.itemsLength === deviceViewIndex)});\n        } else if ( breadcrumbs.config.stageType === 8 ) {\n            // eslint-disable-next-line\n            fs.isFolderExist(breadcrumbs.config.currentDevice.mountPath, function ( error, result ) {\n                var index, items;\n\n                if ( !result ) {\n                    items = renderFilesListInitial();\n                    index = breadcrumbs.config.entryPointIndex;\n                    breadcrumbs.emit('reset');\n                    page.footer.hide();\n                    renderList(items, listScroll, {focusIndex: renderFilesListInitial.itemsLength === index ? index - 1 : index});\n                }\n            });\n        }\n    };\n}\n\n\n/** Handler for \"Back\" button. */\n// eslint-disable-next-line complexity, max-statements\nfunction goBack () {\n    var renderRoot = function () {\n            mainPanel.$node.classList.remove('networkView');\n            breadcrumbs.config.type = 0;\n            folderListView = null;\n            breadcrumbs.config.currentDeviceType = null;\n            breadcrumbs.config.isDisplayNfsShare = null;\n            renderList(renderFilesListInitial(), null, {focusIndex: breadcrumbs.config.entryPointIndex});\n            page.footer.hide();\n            mainPanelTitle.innerText = gettext('files');\n            app.runtime.stillWaitNetworkResponse = false;\n        },\n        breadcrumbsLength, focusIndex, favorites;\n\n    if ( !breadcrumbs.length && breadcrumbs.config.isDisplayFavorites ) {\n        renderList(renderFilesListInitial.currentStdout, listScroll, {focusIndex: breadcrumbs.config.entryPointIndex});\n        breadcrumbs.emit('reset');\n        renderDetailsList('0000000', [null, null, null, null, null, null, null]);\n        mainPanelList.emit('focus:item');\n        mainPanelTitle.innerText = gettext('files');\n        constructFavoritesInfo();\n\n        return;\n    }\n\n    if ( breadcrumbs.config.type !== mediaTypes.upnp.id ) {\n        searchAtCurrentOutput.focusToIndex = focusIndex = breadcrumbs.head ? breadcrumbs.head.index : 0;\n        breadcrumbs.pop();\n        breadcrumbsLength = breadcrumbs.length;\n    }\n\n    if ( breadcrumbs.config.isDisplayPlaylist ) {\n        breadcrumbs.config.isDisplayPlaylist = false;\n    }\n\n    if ( breadcrumbs.config.isDisplayFavorites && !breadcrumbs.length ) {\n        favorites = app.storage.favoritesStorage;\n        breadcrumbs.config.currentDirFilesCount = favorites.length;\n        renderList(\n            constructDataOut({\n                dirs: favorites.filter(function ( item ) { return item.type === 9; }),\n                files: favorites.filter(function ( item ) { return item.type > 9; })\n            }, 1),\n            listScroll,\n            {focusIndex: focusIndex}\n        );\n        mainPanelTitle.innerText = gettext('Favorites');\n    } else if ( breadcrumbs.config.currentDeviceType === mediaTypes.nfsPermanentShare ) {\n        if ( breadcrumbs.length ) {\n            mainPanelTitle.innerText = breadcrumbs.head.folder || breadcrumbs.head.path;\n\n            fs.readDir(breadcrumbs.path, function ( error, result ) {\n                if ( !error ) {\n                    breadcrumbs.config.currentDirFilesCount = result.dirs.length + result.files.length;\n                    renderList(constructDataOut(result, 1), listScroll, {focusIndex: focusIndex});\n                    renderDetailsList('1000000', [breadcrumbs.config.currentDirFilesCount + '', null, null, null, null, null, null]);\n                }\n            });\n\n            // display information about actual filters\n            menuFilteringItem.innerText = filterMenuList.title.length ? filterMenuList.title.join(', ') : resetFilter();\n            filterAtCurrentOutput(filterMenuList.types, 'back');\n        } else {\n            renderRoot();\n        }\n    } else if ( breadcrumbs.config.isDisplayNfsShare ) {\n        if ( breadcrumbs.length === 3 ) {\n            if ( app.runtime.stillWaitNetworkResponse ) {\n                return;\n            }\n\n            app.runtime.stillWaitNetworkResponse = true;\n            nfsTraverse('getShares', {server: app.runtime.currentServer.path}, {icon: 'theme-icon-shared-folder', index: focusIndex}, function () {\n                breadcrumbs.config.isDisplayNfsShare = false;\n                breadcrumbs.pop();\n                mainPanelTitle.innerText = 'NFS';\n                app.runtime.stillWaitNetworkResponse = false;\n            });\n        } else {\n            mainPanelTitle.innerText = breadcrumbs.head.folder || breadcrumbs.head.path;\n            fs.readDir(breadcrumbs.path.split('/').slice(3).join('/'), function ( error, result ) {\n                if ( !error ) {\n                    breadcrumbs.config.currentDirFilesCount = result.dirs.length + result.files.length;\n                    renderList(constructDataOut(result, 1), listScroll, {focusIndex: focusIndex});\n                    renderDetailsList('1000000', [breadcrumbs.config.currentDirFilesCount + '', null, null, null, null, null, null]);\n                }\n            });\n            // display information about actual filters\n            menuFilteringItem.innerText = filterMenuList.title.length ? filterMenuList.title.join(', ') : resetFilter();\n            filterAtCurrentOutput(filterMenuList.types, 'back');\n        }\n    } else if ( breadcrumbs.config.type === mediaTypes.network.id && breadcrumbsLength === 4 ) {\n        if ( app.runtime.stillWaitNetworkResponse ) {\n            return;\n        }\n\n        app.runtime.stillWaitNetworkResponse = true;\n        folderListView = null;\n        smbTraverse('getShares', {server: app.runtime.currentServer.path}, {icon: 'theme-icon-shared-folder', index: focusIndex}, function () {\n            renderDetailsList('0000000', [null, null, null, null, null, null, null]);\n            breadcrumbs.pop();\n            mainPanelList.emit('focus:item');\n            mainPanelTitle.innerText = 'SAMBA';\n            app.runtime.stillWaitNetworkResponse = false;\n        });\n    } else if ( breadcrumbs.config.type === mediaTypes.network.id && breadcrumbsLength > 4 ) {\n        if ( breadcrumbs.length === 5 ) {\n            mainPanelTitle.innerText = breadcrumbs.head.path.folder;\n        }\n\n        mainPanelTitle.innerText = breadcrumbs.head.folder || breadcrumbs.head.path;\n        fs.readDir(breadcrumbs.path, function ( error, result ) {\n            if ( !error ) {\n                breadcrumbs.config.currentDirFilesCount = result.dirs.length + result.files.length;\n                renderList(constructDataOut(result, 1), listScroll, {focusIndex: focusIndex});\n                renderDetailsList('1000000', [breadcrumbs.config.currentDirFilesCount + '', null, null, null, null, null, null]);\n            }\n        });\n\n        // display information about actual filters\n        menuFilteringItem.innerText = filterMenuList.title.length ? filterMenuList.title.join(', ') : resetFilter();\n        filterAtCurrentOutput(filterMenuList.types, 'back');\n    } else if ( breadcrumbs.config.type === 1 || breadcrumbs.config.type === mediaTypes.folder.id ) {\n        if ( breadcrumbs.config.isDisplayFavorites && breadcrumbs.length === 1 ) {\n            fs.readDir(breadcrumbs.path, function ( error, result ) {\n                if ( !error ) {\n                    breadcrumbs.config.currentDirFilesCount = result.dirs.length + result.files.length;\n                    renderList(constructDataOut(result, 1), listScroll, {focusIndex: focusIndex});\n                    renderDetailsList('1000000', [breadcrumbs.config.currentDirFilesCount + '', null, null, null, null, null, null]);\n                    mainPanelTitle.innerText = breadcrumbs.head.path.replace(/^.*\\//, '');\n                }\n            });\n        } else if ( breadcrumbsLength ) {\n            fs.readDir(breadcrumbs.path, function ( error, result ) {\n                var currentDevice = breadcrumbs.config.currentDevice;\n\n                if ( !error ) {\n                    breadcrumbs.config.currentDirFilesCount = result.dirs.length + result.files.length;\n\n                    if ( breadcrumbs.length === 1 ) {\n                        if ( currentDevice ) {\n                            mainPanelTitle.innerText = breadcrumbs.config.isDisplaySmbShares ? currentDevice.name : currentDevice.label || currentDevice.vendor || currentDevice.model;\n                        }\n                    } else {\n                        mainPanelTitle.innerText = breadcrumbs.head.path;\n                    }\n\n                    // display information about actual filters\n                    menuFilteringItem.innerText = filterMenuList.title.length ? filterMenuList.title.join(', ') : resetFilter();\n                    renderList(constructDataOut(result, 1), listScroll, {focusIndex: focusIndex});\n                    filterAtCurrentOutput(filterMenuList.types, 'back');\n                }\n            });\n        } else {\n            focusIndex = breadcrumbs.config.entryPointIndex;\n            breadcrumbs.emit('reset');\n            mainPanelTitle.innerText = gettext('files');\n            page.footer.hide();\n            renderList(renderFilesListInitial(), listScroll, {focusIndex: focusIndex});\n        }\n    } else if ( breadcrumbs.config.type === mediaTypes.network.id && breadcrumbsLength < 4 ) {\n        page.footer.hide();\n\n        if ( app.runtime.stillWaitNetworkResponse ) {\n            return;\n        }\n\n        app.runtime.stillWaitNetworkResponse = true;\n\n        if ( breadcrumbs.length === 3 ) {\n            smbTraverse('getShares', {server: breadcrumbs.head.path}, {icon: 'theme-icon-shared-folder', index: focusIndex}, function () {\n                breadcrumbs.config.isDisplaySmbShares = false;\n                mainPanelTitle.innerText = 'SAMBA';\n                app.runtime.stillWaitNetworkResponse = false;\n            });\n        } else if ( breadcrumbs.length === 2 ) {\n            folderListView = null;\n\n            smbTraverse('getServers', breadcrumbs.head.path, {icon: 'theme-icon-server', index: focusIndex}, function () {\n                mainPanelTitle.innerText = gettext('servers');\n                app.runtime.stillWaitNetworkResponse = false;\n            });\n        } else if ( breadcrumbs.length === 1 ) {\n            smbTraverse('getGroups', null, {icon: 'theme-icon-workgroup', index: focusIndex}, function () {\n                mainPanelTitle.innerText = gettext('work groups');\n                app.runtime.stillWaitNetworkResponse = false;\n            });\n        } else {\n            renderRoot();\n        }\n    } else if ( breadcrumbs.config.type === mediaTypes.upnp.id ) {\n        if ( breadcrumbs.config.stageType === mediaTypes.upnpServer ) {\n            renderList(renderFilesListInitial(), listScroll, {focusIndex: breadcrumbs.config.entryPointIndex});\n            breadcrumbs.emit('reset');\n            mainPanelTitle.innerText = gettext('files');\n        } else if ( breadcrumbs.config.stageType === mediaTypes.upnpHost ) {\n            focusIndex = breadcrumbs.head.index;\n\n            upnp.openRoot( null, null, function ( error, result ) {\n                if ( error ) {\n                    echo({\n                        title: gettext(error.message),\n                        icon: 'alert',\n                        type: 'warning'\n                    });\n                } else {\n                    breadcrumbs.config.stageType = mediaTypes.upnpServer;\n\n                    if ( result.length < focusIndex ) {\n                        focusIndex = 0;\n                    }\n\n                    renderList(constructDataOut(result, mediaTypes.upnp.id), listScroll, {focusIndex: focusIndex});\n                    breadcrumbs.pop();\n                }\n            });\n        } else if ( breadcrumbs.config.stageType === mediaTypes.upnpDir ) {\n            focusIndex = breadcrumbs.head.index;\n\n            if ( breadcrumbs.length === 2 ) {\n                upnp.openServer(breadcrumbs.tail.url, function ( error, result ) {\n                    if ( !error ) {\n                        breadcrumbs.config.stageType = mediaTypes.upnpHost;\n\n                        if ( result.length < focusIndex ) {\n                            focusIndex = 0;\n                        }\n\n                        renderList(constructDataOut(result, mediaTypes.upnp.id), listScroll, {focusIndex: focusIndex});\n                    }\n                });\n            } else {\n                upnp.openContext(breadcrumbs.head.parentID, function ( error, result ) {\n                    if ( !error ) {\n                        if ( result.length < focusIndex ) {\n                            focusIndex = 0;\n                        }\n\n                        renderList(constructDataOut(result, mediaTypes.upnp.id), listScroll, {focusIndex: focusIndex});\n                    }\n                });\n            }\n\n            breadcrumbs.pop();\n        }\n    } else if ( breadcrumbs.config.type === mediaTypes.nfsServer ) {\n        renderRoot();\n    } else if ( breadcrumbs.config.type === mediaTypes.nfsShare ) {\n        if ( app.runtime.stillWaitNetworkResponse ) {\n            return;\n        }\n\n        app.runtime.stillWaitNetworkResponse = true;\n        folderListView = null;\n        nfsTraverse('getServers', breadcrumbs.head.path, {icon: 'theme-icon-server', index: focusIndex});\n    }\n\n    if ( breadcrumbs.length || breadcrumbs.config.type ) {\n        searchAtCurrentOutput();\n    }\n}\n\n\n/**\n * Connect network share with given parameters.\n *\n * @param {number} shareType - type of share to connect\n * @param {Object} mountInputs - parameters for connect\n * @param {Function} callback - method to invoke with a result of operation\n */\nfunction manualNetShareConnect ( shareType, mountInputs, callback ) {\n    var address, name, displayName, itemToAdd, server, config, index, sharesCount;\n\n\n    function isSame () {\n        app.runtime.stillWaitNetworkResponse = false;\n        echo({\n            title: gettext('The folder is already connected'),\n            icon: 'alert',\n            type: 'warning'\n        });\n    }\n\n\n    if ( shareType === mediaTypes.nfsPermanentShare ) {\n        if ( !mountInputs.address || !mountInputs.name ) {\n            echo({\n                title: gettext('Wrong connection parameters'),\n                icon: 'alert',\n                type: 'warning'\n            });\n            app.runtime.stillWaitNetworkResponse = false;\n\n            return;\n        }\n\n        itemToAdd = {\n            name: mountInputs.name,\n            path: mountInputs.address + ':' + mountInputs.name\n        };\n\n        if ( mountInputs.displayName !== mountInputs.name ) {\n            itemToAdd.displayName = mountInputs.displayName;\n        }\n\n        // prevent multiple additions of identical shares\n        for ( index = 0, sharesCount = app.storage.network.nfs.length; index < sharesCount; index += 1 ) {\n            if ( app.storage.network.nfs[index].path === itemToAdd.path ) {\n                isSame();\n\n                return;\n            }\n        }\n\n        nfsTraverse('openShare', {path: itemToAdd.path}, {}, function ( error ) {\n            if ( error ) {\n                callback({message: gettext('Unable to connect to the resource with these parameters')});\n            } else {\n                callback(null);\n                app.storage.network.nfs.push(itemToAdd);\n                breadcrumbs.emit('reset');\n                breadcrumbs.config.type = mediaTypes.folder.id;\n                breadcrumbs.config.currentDevice = itemToAdd;\n                breadcrumbs.config.currentDeviceType = mediaTypes.nfsPermanentShare;\n                breadcrumbs.config.entryPointIndex = renderFilesListInitial.itemsLength;\n                mainPanelTitle.innerText = itemToAdd.displayName || itemToAdd.name;\n                mainPanel.focus();\n            }\n        });\n    } else {\n        if ( !mountInputs.address || !mountInputs.name ) {\n            echo({\n                title: gettext('Wrong connection parameters'),\n                icon: 'alert',\n                type: 'warning'\n            });\n            app.runtime.stillWaitNetworkResponse = false;\n\n            return;\n        }\n\n        name = mountInputs.name;\n        displayName = mountInputs.displayName;\n        address = (mountInputs.address + '/' + name).split('/').filter(Boolean);\n        server = address[0];\n        name = address[1];\n        config = {\n            addresses: [server],\n            folder: name,\n            mountPath: app.config.mountPathSMB\n        };\n        itemToAdd = {\n            name: config.folder,\n            addresses: config.addresses\n        };\n\n        if ( mountInputs.login ) {\n            itemToAdd.login = config.login = mountInputs.login;\n            itemToAdd.password = config.password = mountInputs.password;\n        }\n\n        if ( displayName !== name ) {\n            itemToAdd.displayName = displayName;\n        }\n\n        // prevent multiple additions of identical shares\n        for ( index = 0, sharesCount = app.storage.network.smb.length; index < sharesCount; index += 1 ) {\n            if ( JSON.stringify(app.storage.network.smb[index].addresses) === JSON.stringify(itemToAdd.addresses) && app.storage.network.smb[index].name === itemToAdd.name ) {\n                isSame();\n\n                return;\n            }\n        }\n\n        breadcrumbs.config.currentDeviceType = 5;\n        smbTraverse('openShare', config, {}, function ( error ) {\n            if ( error ) {\n                breadcrumbs.config.currentDeviceType = undefined;\n                callback({message: gettext('Unable to connect to the resource with these parameters')});\n            } else {\n                callback(null);\n                app.storage.network.smb.push(itemToAdd);\n                breadcrumbs.config.isDisplaySmbShares = true;\n                breadcrumbs.config.type = 1;\n                breadcrumbs.config.currentDevice = itemToAdd;\n                breadcrumbs.config.entryPointIndex = renderFilesListInitial.itemsLength;\n                mainPanelTitle.innerText = itemToAdd.displayName || itemToAdd.name;\n                mainPanel.focus();\n            }\n        });\n    }\n}\n\n\n['connectSMB', 'connectNFS'].forEach(function ( event ) {\n    app.addListener(event, function ( data ) {\n        manualNetShareConnect(data.shareType, data.info, data.callback);\n    });\n});\n\npage.addListeners({\n    show: function () {\n        if ( !page.loaded ) {\n            ufsJson.load(function ( state, data ) {\n                if ( data ) {\n                    if ( Array.isArray(data.favoritesStorage) ) {\n                        app.storage.favoritesStorage = data.favoritesStorage;\n                    }\n\n                    if ( Array.isArray(data.sharesStorage) ) {\n                        app.storage.network.smb = data.sharesStorage;\n                    } else if ( data.network ) {\n                        if ( Array.isArray(data.network.smb) ) {\n                            app.storage.network.smb = data.network.smb;\n                        }\n\n                        if ( Array.isArray(data.network.nfs) ) {\n                            app.storage.network.nfs = data.network.nfs;\n                        }\n                    }\n\n                    if ( app.storage.network.smb.length ) {\n                        app.storage.network.smb.forEach(function ( share ) {\n                            serversFavShares.push(share.server);\n                        });\n                    }\n                }\n            });\n\n            renderPage([]);\n            page.loaded = true;\n        }\n    },\n    keydown: function ( event ) {\n        if ( event.code === keys.back ) {\n            if (\n                mainPanel.$node.classList.contains('active') &&\n                (breadcrumbs.length || breadcrumbs.config.isDisplayFavorites || breadcrumbs.config.type === mediaTypes.upnp.id)\n            ) {\n                goBack();\n            } else if ( app.runtime.isModalShown ) {\n                closeModalWindow();\n            } else {\n                ufsJson.saveSync(app.storage);\n                appExit.goBack();\n            }\n        }\n    }\n});\n\ncore.addListeners({\n    intent: function ( intent, callback ) {\n        if ( intent.action === 'explorer:openResource' ) {\n            if ( intent.data.resource ) {\n                mediaTypes[\n                    Object.keys(mediaTypes).filter(function ( key ) {\n                        return mediaTypes[key].id === intent.data.resource;\n                    })\n                ].opener();\n            } else if ( intent.data.serialNumber ) {\n                storages[intent.data.serialNumber].opener();\n            }\n        }\n\n        callback();\n    },\n    show: function () {\n        if ( page.loaded ) {\n            if ( UPnPMode !== app.environment.UPnPMode ) {\n                UPnPMode = app.environment.UPnPMode;\n                echo({\n                    title: gettext('UPnP service status changed to') + ': ' + (UPnPMode === 'off' ? gettext('OFF') : UPnPMode.toUpperCase()),\n                    icon: 'info'\n                });\n            }\n\n            if ( breadcrumbs.config.currentDeviceType === mediaTypes.upnp.id && UPnPMode === 'off' ) {\n                breadcrumbs.config.stageType = mediaTypes.upnpServer;\n                breadcrumbs.config.entryPointIndex -= 1;\n                goBack();\n            } else if ( !breadcrumbs.config.type && ((UPnPMode === 'off') !== (app.environment.UPnPMode === 'off')) ) {\n                renderList(\n                    renderFilesListInitial(),\n                    listScroll,\n                    {focusIndex: mainPanelList.data[mainPanelList.$focusItem.index + 1] ? mainPanelList.$focusItem.index : mainPanelList.$focusItem.index - 1}\n                );\n            }\n        }\n    },\n    exit: function () {\n        ufsJson.saveSync(app.storage);\n    }\n});\n\n\nmodule.exports = page;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n// public\nmodule.exports = require('spa-component-modal');\n\n// correct component name\nmodule.exports.prototype.name = 'stb-component-modal';\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('spa-component');\n\n\n/**\n * Base modal window implementation.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n */\nfunction Modal ( config ) {\n    // sanitize\n    config = config || {};\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        if ( config.$body ) {\n            throw new Error(__filename + ': config.$body should not be provided manually');\n        }\n    }\n\n    // create centered div\n    config.$body = document.createElement('div');\n    config.$body.className = 'body';\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // add table-cell wrapper\n    this.$node.appendChild(document.createElement('div').appendChild(this.$body).parentNode);\n}\n\n\n// inheritance\nModal.prototype = Object.create(Component.prototype);\nModal.prototype.constructor = Modal;\n\n// set component name\nModal.prototype.name = 'spa-component-modal';\n\n\n// public\nmodule.exports = Modal;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar List = require('mag-component-list'),\n    CheckBox = require('spa-component-checkbox'),\n    counter = 0;\n\n\n/**\n * Base radio list implementation\n *\n * @constructor\n * @extends List\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n */\nfunction RadioList ( config ) {\n    var self = this;\n\n    /**\n     * Checkbox group name\n     *\n     * @type {string}\n     */\n    this.group = 'group ' +  counter++;\n\n    /**\n     * Link to checked item\n     *\n     * @type {Element}\n     */\n    this.$checkedData = null;\n\n    //config.className = 'radioList ' + (config.className || '');\n\n    List.call(this, config);\n\n    this.addListener('click:item', function ( event ) {\n        var item = event.$item;\n\n        item.checkBox.set(true);\n        item.state = item.checkBox.value;\n        item.data.state = item.checkBox.value;\n\n        if ( self.$checkedData !== item.data ) {\n            /**\n             * Select element from list.\n             *\n             * @event\n             *\n             * @type {Object}\n             * @property {Element} previous selected element\n             * @property {Element} current selected element\n             */\n            self.emit('select', {\n                $last: self.$checkedData,\n                $curr: item\n            });\n            if ( self.$checkedData ) { self.$checkedData.state = false; }\n            self.$checkedData = item.data;\n        }\n    });\n}\n\n\nRadioList.prototype = Object.create(List.prototype);\nRadioList.prototype.constructor = RadioList;\n\n// set component name\nRadioList.prototype.name = 'mag-component-radio-list';\n\nRadioList.prototype.group = 0;\n\n\n/**\n * Default render function\n *\n * @param {Element} $item in list\n * @param {Array} data to render layout element\n * @param {string} [data.title] title of checkbox\n * @param {boolean} [data.state] state of checkbox: checked or not\n * @param {string} [data.value] special value of item\n */\nRadioList.prototype.renderItemDefault = function ( $item, data ) {\n    var table = document.createElement('table'),\n        tr = document.createElement('tr'),\n        td = document.createElement('td'),\n        check = new CheckBox({\n            group: this.group\n        });\n\n    $item.innerHTML = '';\n\n    // set state with set function to prevent multiple true values\n    if ( data.state ) {\n        check.set(true);\n        // set link to checked item\n        this.$checkedData = data;\n    }\n\n    table.appendChild(tr);\n\n    td.appendChild(check.$node);\n    td.className = 'checkBoxWrapper';\n    tr.appendChild(td);\n\n    td = document.createElement('td');\n    td.className = 'title';\n    td.innerText = data.title || '';\n    tr.appendChild(td);\n\n    $item.checkBox = check;\n\n    $item.state = check.value;\n    $item.value = data.value;\n\n\n    $item.appendChild(table);\n};\n\n// RadioList.prototype.setData = function ( config ) {\n//     var i;\n//\n//     List.prototype.setData.call(this, config);\n//\n//     for ( i = 0; i < this.data.length; i++ ) {\n//         if ( this.data[i].state ) {\n//             this.$checkedData = this.data[i];\n//             break;\n//         }\n//     }\n//\n// };\n\nRadioList.prototype.renderItem = RadioList.prototype.renderItemDefault;\n\n\nmodule.exports = RadioList;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('spa-component'),\n    keys      = require('spa-keys'),\n    // set of groups with linked components;\n    groups    = {};\n\n\n/**\n * Base check box implementation.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n * @param {boolean} [config.value=false] initial state\n * @param {string} [config.group] group name to work synchronously with other checkboxes\n *\n * @example\n * var CheckBox = require('stb/ui/check.box'),\n *     checkBox = new CheckBox({\n *         value: true,\n *         group: 'lang'\n *     });\n */\nfunction CheckBox ( config ) {\n    // sanitize\n    config = config || {};\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        if ( config.group && typeof config.group !== 'string' ) {\n            throw new Error(__filename + ': wrong or empty config.group');\n        }\n    }\n\n    // set default className if classList property empty or undefined\n    //config.className = 'checkBox ' + (config.className || '');\n\n    // state\n    this.value = !!config.value;\n\n    // correct init styles\n    if ( this.value ) {\n        config.className += ' checked';\n    }\n\n    // group name to work synchronously with other checkboxes\n    this.group = null;\n\n    // apply hierarchy\n    if ( config.group ) {\n        // correct init styles\n        config.className += ' grouped';\n\n        // save\n        this.group = config.group;\n\n        // fill groups data\n        if ( groups[config.group] === undefined ) {\n            groups[config.group] = [this];\n        } else {\n            groups[config.group].push(this);\n        }\n    }\n\n    // parent constructor call\n    Component.call(this, config);\n}\n\n\n// inheritance\nCheckBox.prototype = Object.create(Component.prototype);\nCheckBox.prototype.constructor = CheckBox;\n\n// set component name\nCheckBox.prototype.name = 'spa-component-checkbox';\n\n\n/**\n * List of all default event callbacks.\n *\n * @type {Object.<string, function>}\n */\nCheckBox.prototype.defaultEvents = {\n    /**\n     * Default method to handle mouse click events.\n     */\n    click: function () {\n        // invert state\n        this.set(!this.value);\n    },\n\n    /**\n     * Default method to handle keyboard keydown events.\n     *\n     * @param {Object} event generated event\n     */\n    keydown: function ( event ) {\n        // emulate click\n        if ( event.code === keys.enter ) {\n            this.set(!this.value);\n        }\n    }\n};\n\n\n/**\n * Set the given state.\n * Does nothing in case the value is already as necessary.\n *\n * @param {boolean} value new value to set\n * @return {boolean} operation status\n *\n * @fires module:\"stb/ui/check.box~CheckBox#change\"\n */\nCheckBox.prototype.set = function ( value ) {\n    var index, length;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n    }\n\n    if ( this.value !== value ) {\n        // going to be turned on and assigned to some group\n        if ( !this.value && this.group !== null ) {\n            // unset all checkboxes in this group\n            for ( index = 0, length = groups[this.group].length; index < length; index++ ) {\n                groups[this.group][index].set(false);\n            }\n        }\n\n        // set new value\n        this.value = !this.value;\n\n        // set visible changes\n        this.$node.classList.toggle('checked');\n\n        // there are some listeners\n        if ( this.events['change'] ) {\n            /**\n             * Update progress value.\n             *\n             * @event module:stb/ui/check.box~CheckBox#change\n             *\n             * @type {Object}\n             * @property {boolean} value current check state\n             */\n            this.emit('change', {value: this.value});\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n// public\nmodule.exports = CheckBox;\n","/**\n * @license The MIT License (MIT)\n * @copyright Boris Aleynikov <aleynikov.boris@gmail.com>\n */\n\n'use strict';\n\nvar List            = require('mag-component-list'),\n    keys            = require('stb-keys'),\n    classChecked    = 'checked',\n    classIcon       = 'theme-icon theme-icon-checkbox',\n    classIconActive = 'theme-icon theme-icon-checkbox-active';\n\n\n/**\n * Base check list implementation\n *\n * @constructor\n * @extends List\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n * @param {string} [config.classIcon] icon default state class name\n * @param {string} [config.classIconActive] icon active state class name\n * @param {string} [config.classChecked] checked item class\n */\nfunction CheckList ( config ) {\n    /**\n     * Checked data array\n     */\n    this.checkedData = [];\n\n    if ( config.classIcon ) {\n        classIcon = config.classIcon;\n    }\n    if ( config.classIconActive ) {\n        classIconActive = config.classIconActive;\n    }\n    if ( config.classChecked ) {\n        classIcon = config.classChecked;\n    }\n\n    List.call(this, config);\n}\n\n\nCheckList.prototype = Object.create(List.prototype);\nCheckList.prototype.constructor = CheckList;\n\n// set component name\nCheckList.prototype.name = 'mag-component-check-list';\n\n\n/**\n * Set data and render inner structures and HTML.\n *\n * @param {Object} config init parameters (subset of constructor config params)\n */\nCheckList.prototype.setData = function ( config ) {\n    var index = 0;\n\n    List.prototype.setData.call(this, config);\n    this.checkedData = [];\n\n    for ( index; index < this.data.length; index++ ) {\n        this.data[index].defaultState = this.data[index].state;\n        if ( this.data[index].state ) {\n            this.checkedData.push(this.data[index]);\n        }\n    }\n\n    if ( this.$focusItem ) {\n        this.defaultFocusIndex = this.$focusItem.index;\n    } else {\n        this.defaultFocusIndex = 0;\n    }\n};\n\n\n/**\n * Reset data to default state and render inner structures and HTML.\n */\nCheckList.prototype.resetData = function () {\n    var index = 0;\n\n    for ( index; index < this.data.length; index++ ) {\n        this.data[index].state = this.data[index].defaultState;\n    }\n\n    this.setData({data: this.data, focusIndex: this.defaultFocusIndex});\n};\n\n\n/**\n * Set all states to false and render inner structures and HTML.\n *\n * @param {number} [focusIndex] focus index\n */\nCheckList.prototype.clearChecked = function ( focusIndex ) {\n    var index = 0;\n\n    for ( index; index < this.data.length; index++ ) {\n        this.data[index].state = false;\n    }\n\n    // no focusIndex, focusIndex may be 0\n    if ( !focusIndex && focusIndex !== 0 ) {\n        focusIndex = this.$focusItem ? this.$focusItem.index : 0;\n    }\n\n    this.setData({data: this.data, focusIndex: focusIndex});\n};\n\n\n/**\n * CheckList of all default event callbacks.\n *\n * @type {Object.<string, function>}\n */\nCheckList.prototype.defaultEvents = {\n    /**\n     * Default method to handle mouse wheel events.\n     *\n     * @param {Event} event generated event\n     */\n    mousewheel: List.prototype.defaultEvents.mousewheel,\n\n    /**\n     * Default method to handle keyboard keydown events.\n     *\n     * @param {Object} event generated event\n     */\n    keydown: function ( event ) {\n        switch ( event.code ) {\n            case keys.up:\n            case keys.down:\n            case keys.right:\n            case keys.left:\n            case keys.pageUp:\n            case keys.pageDown:\n            case keys.home:\n            case keys.end:\n                event.stop = true;\n                // cursor move only on arrow keys\n                this.move(event.code);\n                break;\n            case keys.enter:\n                this.changeState(this.$focusItem);\n                // there are some listeners\n                if ( this.events['click:item'] && this.$focusItem ) {\n                    // notify listeners\n                    this.emit('click:item', {$item: this.$focusItem, event: event});\n                }\n                break;\n        }\n    }\n};\n\n\nCheckList.prototype.changeState = function ( $item ) {\n    var state = !$item.state,\n        data = this.data[$item.index],\n        index = -1;\n\n    $item.state = state;\n    data.state = state;\n    if ( state ) {\n        $item.classList.add(classChecked);\n        $item.checkBox.className = classIconActive;\n    } else {\n        $item.classList.remove(classChecked);\n        $item.checkBox.className = classIcon;\n    }\n\n    if ( state ) {\n        this.checkedData.push(data);\n    } else {\n        index = this.checkedData.indexOf(data);\n        if ( index !== -1 ) {\n            this.checkedData.splice(index, 1);\n        }\n    }\n\n    if ( this.events['change:item'] ) {\n        // notify listeners\n        this.emit('change:item', {$item: $item, state: state});\n    }\n};\n\n\n/**\n * Default render function\n *\n * @param {Element} $item in list\n * @param {Array} data to render layout element\n * @param {string} [data.title] title of checkbox\n * @param {boolean} [data.state] state of checkbox: checked or not\n * @param {string} [data.value] special value of item\n */\nCheckList.prototype.renderItemDefault = function ( $item, data ) {\n    var table, tr, td,\n        check;\n\n    if ( data.className ) {\n        $item.className = 'item ' + data.className;\n        if ( $item === this.$focusItem ) {\n            $item.className += ' focus';\n        }\n    }\n\n    if ( $item.ready ) {\n        $item.$title.innerText = data.title || '';\n        if ( data.state ) {\n            $item.classList.add(classChecked);\n            $item.checkBox.className = classIconActive;\n        } else {\n            $item.classList.remove(classChecked);\n            $item.checkBox.className = classIcon;\n        }\n\n        $item.state = data.state;\n        $item.value = data.value;\n    } else {\n        $item.innerHTML = '';\n        table = document.createElement('table');\n        tr = document.createElement('tr');\n        td = document.createElement('td');\n        check = document.createElement('div');\n        if ( data.state ) {\n            $item.classList.add(classChecked);\n            check.className = classIconActive;\n        } else {\n            $item.classList.remove(classChecked);\n            check.className = classIcon;\n        }\n\n        table.appendChild(tr);\n        td.appendChild(check);\n\n        td.className = 'checkBoxWrapper';\n        tr.appendChild(td);\n\n        td = document.createElement('td');\n        td.className = 'title';\n        td.innerText = data.title || '';\n        tr.appendChild(td);\n\n        $item.checkBox = check;\n        $item.state = data.state;\n        $item.value = data.value;\n        $item.$title = td;\n\n        $item.appendChild(table);\n\n        $item.ready = true;\n    }\n};\n\n\nCheckList.prototype.renderItem = CheckList.prototype.renderItemDefault;\n\n\n// public\nmodule.exports = CheckList;\n","/**\n * @license The MIT License (MIT)\n * @copyright Boris Aleynikov <aleynikov.boris@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('spa-component'),\n    keys      = require('stb-keys');\n\n\n/**\n * Scroll area implementation\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} config object\n * @param {number} [config.step] step in % of screen height to scroll area\n */\nfunction ScrollArea ( config ) {\n\n    config = config || {};\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n    }\n\n    config.$body = document.createElement('div');\n    config.$body.className = 'body';\n\n    /**\n     * Step to scroll area in % of screen height\n     *\n     * @type {number}\n     */\n    this.step = 5;\n\n    /**\n     * Real height of scroll area\n     *\n     * @type {number}\n     */\n    this.realHeight = 0;\n\n    /**\n     * Visible height of area\n     *\n     * @type {number}\n     */\n    this.viewHeight = 0;\n\n    /**\n     * Top position of scroll container\n     *\n     * @type {number}\n     */\n    this.topPosition = 0;\n\n    /**\n     * Associated ScrollBar component link.\n     *\n     * @type {ScrollBar}\n     */\n    this.scroll = null;\n\n    Component.call(this, config);\n\n    this.$node.appendChild(this.$body);\n\n    // component setup\n    this.init(config);\n}\n\n\nScrollArea.prototype = Object.create(Component.prototype);\nScrollArea.prototype.constructor = ScrollArea;\n\n// set component name\nScrollArea.prototype.name = 'mag-component-scroll-area';\n\n\n/**\n * List of all default event callbacks.\n *\n * @type {Object.<string, function>}\n */\nScrollArea.prototype.defaultEvents = {\n    /**\n     * Default method to handle keyboard keydown events.\n     *\n     * @param {Object} event generated event\n     */\n    keydown: function ( event ) {\n        switch ( event.code ) {\n            case keys.up:\n            case keys.down:\n                this.move(event.code);\n                break;\n        }\n    },\n    mousewheel: function ( event ) {\n        // scrolling by Y axis\n        this.move(event.wheelDeltaY > 0 ? keys.up : keys.down);\n    }\n};\n\n\n/**\n * Attempt to go beyond the edge of the list.\n *\n * @event\n *\n * @type {Object}\n * @property {number} direction key code initiator of movement\n */\n\n\n/**\n * Move ScrollArea content\n *\n * @param {number} direction to move\n */\nScrollArea.prototype.move = function ( direction ) {\n    var height = screen.height,\n        delta  = this.viewHeight - this.realHeight;\n\n    // run logic only if it's reasonable to navigate\n    if ( delta < 0 ) {\n        switch ( direction ) {\n            case keys.down:\n                if ( this.topPosition - this.step * height / 100 < delta ) {\n                    this.scroll.scrollTo(-delta);\n                    this.$body.style.top = delta + 'px';\n                    this.emit('overflow', {direction: direction});\n\n                    return;\n                }\n\n                this.topPosition -= Math.ceil(this.step * height / 100);\n\n                if ( this.scroll ) {\n                    this.scroll.scrollTo(-this.topPosition);\n                }\n                this.$body.style.top = this.topPosition + 'px';\n                break;\n            case keys.up:\n                if ( this.topPosition + this.step * height / 100 > 0 ) {\n                    this.scroll.scrollTo(0);\n                    this.$body.style.top = '0px';\n                    this.emit('overflow', {direction: direction});\n\n                    return;\n                }\n                this.topPosition += Math.ceil(this.step * height / 100);\n\n                if ( this.scroll ) {\n                    this.scroll.scrollTo(-this.topPosition);\n                }\n                this.$body.style.top = this.topPosition + 'px';\n                break;\n        }\n    } else {\n        this.emit('overflow', {direction: direction});\n    }\n};\n\n\n/**\n * Init or re-init of the component inner structures and HTML.\n *\n * @param {Object} config init parameters (subset of constructor config params)\n */\nScrollArea.prototype.init = function ( config ) {\n\n    config = config || {};\n\n    this.realHeight = this.$body.offsetHeight;\n    this.viewHeight = this.$node.offsetHeight;\n    this.topPosition = 0;\n    this.$body.style.top = this.topPosition + 'px';\n\n    if ( config.scroll ) {\n        this.scroll = config.scroll;\n    }\n\n    if ( config.step ) {\n        this.step = config.step;\n    }\n\n    if ( this.scroll ) {\n        this.scroll.init({\n            realSize: this.realHeight,\n            viewSize: this.viewHeight,\n            value: this.topPosition\n        });\n    }\n};\n\nmodule.exports = ScrollArea;\n","/**\n * @license The MIT License (MIT)\n * @copyright Dmitry Fedotov <bas.jsdev@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('stb-component'),\n    keys      = require('stb-keys'),\n    classes   = {};\n\n\n// initialize classes\nclasses[keys.f1] = 'theme-icon-rc-f1';\nclasses[keys.f2] = 'theme-icon-rc-f2';\nclasses[keys.f3] = 'theme-icon-rc-f3';\nclasses[keys.f4] = 'theme-icon-rc-f4';\nclasses[keys.menu] = 'theme-icon-rc-menu';\nclasses[keys.ok] = 'theme-icon-rc-ok';\nclasses[keys.info] = 'theme-icon-rc-info';\nclasses[keys.playPause] = 'theme-icon-rc-play-pause';\nclasses[keys.back] = 'theme-icon-rc-back';\nclasses[keys.exit] = 'theme-icon-rc-home';\nclasses[keys.keyboard] = 'theme-icon-rc-vk';\nclasses[keys.refresh] = 'theme-icon-rc-refresh';\nclasses[keys.frame] = 'theme-icon-rc-aspect';\n\n/**\n * Footer.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object}  config={} init parameters\n * @param {Object}  config.parent parent page\n * @param {boolean} [config.visible] visibility flag\n * @param {Object}  [config.data] footer buttons config\n * @param {Object}  [config.data.left] left button config\n * @param {Object}  [config.data.middle] middle buttons config\n * @param {Object}  [config.data.right] right button config\n * @param {number}  [config.data.middle.code] button key code\n * @param {Object}  [config.data.middle.title] button title\n * @param {Object}  [config.data.middle.action] button press (click) action\n *\n * @example\n * page.footer = new Footer({\n *     parent: page,\n *     data: {\n *         left: {\n *             code: keys.menu, action: function () {}\n *         },\n *         middle: [\n *             {code: 55, action: function () {}},\n *             {code: keys.f1, title: 'stop', action: function () {}},\n *             {code: 9000, className: 'customIcon', title: 'start', action: function () {}},\n *             {code: keys.f4, title: 'end', action: function () {}}\n *         ],\n *         right: {\n *             code: 65, action: function () {}\n *         }\n *     }\n * });\n */\n\n/* eslint max-statements: 0 */\nfunction Footer ( config ) {\n    var currentTab = 0,\n        self = this;\n\n    // sanitize\n    config = config || {};\n    // can't accept focus\n    config.focusable = false;\n    // hide by default\n    config.visible = config.visible || false;\n    // create centered div\n    config.$body = document.createElement('div');\n    config.$body.className = 'body';\n\n    // parent constructor call\n    Component.call(this, config);\n\n    this.tabs = [\n        {codes: {}},\n        {codes: {}},\n        {codes: {}},\n        {codes: {}}\n    ];\n\n    this.tab = 0;\n\n    this.$table = this.$node.appendChild(document.createElement('table'));\n\n    this.$table.insertRow();\n    this.$table.rows[0].insertCell(-1);\n    this.$left = this.$table.rows[0].cells[0].appendChild(document.createElement('div'));\n    this.$left.className = 'theme-icon';\n\n    this.$table.rows[0].insertCell(-1);\n    this.$table.rows[0].cells[1].className = 'central';\n\n\n    this.tabs[currentTab].$body = this.$table.rows[0].cells[1].appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.className = 'wrapper hidden';\n    this.tabs[currentTab].$body.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.className = 'button';\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.lastChild.className = 'title';\n\n    ++currentTab;\n    this.tabs[currentTab].$body = this.$table.rows[0].cells[1].appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.className = 'wrapper hidden';\n    this.tabs[currentTab].$body.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.className = 'button';\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.lastChild.className = 'title';\n    this.tabs[currentTab].$body.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.className = 'button';\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.lastChild.className = 'title';\n\n    ++currentTab;\n    this.tabs[currentTab].$body = this.$table.rows[0].cells[1].appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.className = 'wrapper hidden';\n    this.tabs[currentTab].$body.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.className = 'button';\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.lastChild.className = 'title';\n    this.tabs[currentTab].$body.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.className = 'button';\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.lastChild.className = 'title';\n    this.tabs[currentTab].$body.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.className = 'button';\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.lastChild.className = 'title';\n\n    ++currentTab;\n    this.tabs[currentTab].$body = this.$table.rows[0].cells[1].appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.className = 'wrapper hidden';\n    this.tabs[currentTab].$body.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.className = 'button';\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.lastChild.className = 'title';\n    this.tabs[currentTab].$body.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.className = 'button';\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.lastChild.className = 'title';\n    this.tabs[currentTab].$body.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.className = 'button';\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.lastChild.className = 'title';\n    this.tabs[currentTab].$body.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.className = 'button';\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.appendChild(document.createElement('div'));\n    this.tabs[currentTab].$body.lastChild.lastChild.className = 'title';\n\n    this.$table.rows[0].insertCell(-1);\n    this.$right = this.$table.rows[0].cells[2].appendChild(document.createElement('div'));\n    this.$right.className = 'theme-icon';\n\n    this.init(config.data);\n\n    this.parent.addListener('keydown', function ( event ) {\n        var currTab = self.tabs[self.tab];\n\n        if ( self.visible ) {\n            if ( currTab.codes[event.code] && typeof currTab.codes[event.code].action === 'function' ) {\n                currTab.codes[event.code].action();\n            }\n        }\n    });\n}\n\n\n// inheritance\nFooter.prototype = Object.create(Component.prototype);\nFooter.prototype.constructor = Footer;\n\n// set component name\nFooter.prototype.name = 'mag-component-footer';\n\n\n/**\n * Redefine buttons\n *\n * @param {Object} [config] footer buttons config\n * @param {Object} [config.left] left button config\n * @param {number} [config.left.code] left button key code\n * @param {boolean} [config.left.disabled] left button is disabled\n * @param {Object} [config.left.action] left button press (click) action\n * @param {Object} [config.middle] middle buttons config\n * @param {Object} [config.right] right button config\n * @param {number} [config.right.code] right button key code\n * @param {boolean} [config.right.disabled] right button is disabled\n * @param {Object} [config.right.action] right button press (click) action\n * @param {number} [config.middle.code] button key code\n * @param {Object} [config.middle.title] button title\n * @param {boolean} [config.middle.disabled] button is disabled\n * @param {Object} [config.middle.action] button press (click) action\n *\n * page.Footer.init({\n *     left: {\n *         code: keys.menu, action: function () {}\n *     },\n *     middle: [\n *         {code: 55, action: function () {}},\n *         {code: keys.f1, title: 'stop', action: function () {}},\n *         {code: 9000, className: 'customIcon', title: 'start', action: function () {}},\n *         {code: keys.f4, title: 'end', disabled: true}\n *     ],\n *     right: {\n *         code: 65, action: function () {}\n *     }\n * });\n *\n */\nFooter.prototype.init = function ( config ) {\n    var index, $tab, $tabChildren;\n\n    config = config || {};\n\n    if ( DEVELOP ) {\n        if ( config.middle && config.middle.length > 4 ) {\n            throw new Error(__filename + ': only 4 buttons allowed in footer');\n        }\n        if ( config.middle && Array.isArray(config.middle) ) {\n            for ( index = 0; index < config.middle.length; index++ ) {\n                if ( typeof config.middle[index].action !== 'function' && !config.middle[index].disabled ) {\n                    throw new Error(__filename + ': action must be a function');\n                }\n                ++index;\n            }\n        }\n        if ( config.left && typeof config.left.action !== 'function' && !config.left.disabled ) {\n            throw new Error(__filename + ': action must be a function');\n        }\n        if ( config.right && typeof config.right.action !== 'function' && !config.right.disabled ) {\n            throw new Error(__filename + ': action must be a function');\n        }\n    }\n\n    // hide old tab\n    this.tabs[this.tab].$body.classList.add('hidden');\n    this.tab = config.middle && config.middle.length ? config.middle.length - 1 : 0;\n    // current tab shortcut\n    $tab = this.tabs[this.tab];\n    // reset all actions\n    $tab.codes = {};\n\n    // left button\n    if ( config.left ) {\n        this.$left.className = config.left.className || ('theme-icon ' + (classes[config.left.code] || 'theme-icon-warning'));\n        if ( config.left.disabled ) {\n            this.$left.classList.add('disabled');\n        } else {\n            $tab.codes[config.left.code] = {action: config.left.action};\n            this.$left.style.visibility = 'inherit';\n            this.$left.onclick = function () {\n                if ( typeof config.left.action === 'function' ) {\n                    config.left.action();\n                }\n            };\n        }\n    } else if ( this.$left.style.visibility !== 'hidden' ) {\n        this.$left.style.visibility = 'hidden';\n    }\n\n    // right button\n    if ( config.right ) {\n        this.$right.className = config.right.className || ('theme-icon ' + (classes[config.right.code] || 'theme-icon-warning'));\n        if ( config.right.disabled ) {\n            this.$right.classList.add('disabled');\n        } else {\n            $tab.codes[config.right.code] = {action: config.right.action};\n            this.$right.style.visibility = 'inherit';\n            this.$right.onclick = function () {\n                if ( typeof config.right.action === 'function' ) {\n                    config.right.action();\n                }\n            };\n        }\n    } else if ( this.$right.style.visibility !== 'hidden' ) {\n        this.$right.style.visibility = 'hidden';\n    }\n\n    function addClick ( ind ) {\n        return function () {\n            if ( typeof config.middle[ind].action === 'function' ) {\n                config.middle[ind].action();\n            }\n        };\n    }\n\n    // middle buttons\n    if ( config.middle && config.middle.length ) {\n        for ( index = 0; index < config.middle.length; index++ ) {\n            $tab.codes[config.middle[index].code] = {action: config.middle[index].action};\n            if ( config.middle[index].disabled ) {\n                $tab.$body.children[index].classList.add('disabled');\n            } else {\n                $tab.$body.children[index].classList.remove('disabled');\n                $tab.$body.children[index].onclick = addClick(index);\n            }\n            // shortcut\n            $tabChildren = $tab.$body.children[index].children;\n            $tabChildren[0].className = 'iconImg ' +\n                (config.middle[index].className || ('theme-icon ' + (classes[config.middle[index].code] || 'theme-icon-warning')));\n\n            $tabChildren[1].innerText = config.middle[index].title || '';\n        }\n        $tab.$body.classList.remove('hidden');\n    }\n};\n\n\n// public\nmodule.exports = Footer;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('spa-component'),\n    keys      = require('spa-keys');\n\n\n/**\n * Base button implementation.\n *\n * Has global options:\n *     Button.prototype.clickDuration - time to apply \"click\" class, does not apply if 0\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n * @param {string} [config.value] button caption text (generated if not set)\n * @param {string} [config.icon] button icon name\n *\n * @example\n * var Button = require('stb/ui/button'),\n *     btnSimple, btnIcon, btnDetached;\n *\n * btnSimple = new Button({\n *     $node: document.getElementById('btnSimple'),\n *     value: 'Simple button'\n * });\n *\n * btnIcon = new Button({\n *     $node: document.getElementById('btnIcon'),\n *     icon: 'menu'\n *     value: 'Button with icon'\n * });\n *\n * btnDetached = new Button({\n *     value: 'Button not added to the page',\n *     className: 'wide'\n * });\n */\nfunction Button ( config ) {\n    // current execution context\n    //var self = this;\n\n    // sanitize\n    config = config || {};\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        if ( config.icon && typeof config.icon !== 'string' ) {\n            throw new Error(__filename + ': wrong or empty config.icon');\n        }\n        if ( config.value && typeof config.value !== 'string' ) {\n            throw new Error(__filename + ': wrong or empty config.value');\n        }\n    }\n\n    //config.name = 'spa-component-button' + (config.className || '');\n\n    // set default className if classList property empty or undefined\n    //config.className = this.name + ' ' + (config.className || '');\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // optional dom\n    if ( config.icon ) {\n        // insert icon\n        this.$icon = this.$body.appendChild(document.createElement('div'));\n        this.$icon.className = 'icon ' + config.icon;\n    }\n\n    // insert caption placeholder\n    this.$text = this.$body.appendChild(document.createElement('div'));\n    this.$text.classList.add('text');\n\n    if ( config.value ) {\n        // fill it\n        this.$text.innerText = config.value;\n    }\n}\n\n\n// inheritance\nButton.prototype = Object.create(Component.prototype);\nButton.prototype.constructor = Button;\n\n// set component name\nButton.prototype.name = 'spa-component-button';\n\n\n// time to apply \"click\" class, does not apply if 0\nButton.prototype.clickDuration = 200;\n\n\n/**\n * List of all default event callbacks.\n *\n * @type {Object.<string, function>}\n */\nButton.prototype.defaultEvents = {\n    /**\n     * Default method to handle mouse click events.\n     */\n    click: function () {\n        // current execution context\n        var self = this;\n\n        this.$node.classList.add('click');\n\n        setTimeout(function () {\n            self.$node.classList.remove('click');\n        }, this.clickDuration);\n    },\n\n    /**\n     * Default method to handle keyboard keydown events.\n     *\n     * @param {Object} event generated event\n     */\n    keydown: function ( event ) {\n        if ( event.code === keys.enter ) {\n            // emulate click\n            // there are some listeners\n            if ( this.events['click'] ) {\n                /**\n                 * Mouse click event emulation.\n                 *\n                 * @event module:stb/ui/button~Button#click\n                 *\n                 * @type {Object}\n                 * @property {Event} event click event data\n                 */\n                this.emit('click', {event: event});\n            }\n        }\n    }\n};\n\n\n// public\nmodule.exports = Button;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n// public\nmodule.exports = require('spa-component-scrollbar');\n\n// correct component name\nmodule.exports.prototype.name = 'stb-component-scrollbar';\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('spa-component');\n\n\n/**\n * Base scroll bar implementation.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n * @param {number} [config.value=0] initial thumb position\n * @param {number} [config.realSize=100] actual scroll size\n * @param {number} [config.viewSize=10] visible area size\n * @param {number} [config.type] direction\n *\n * @example\n * var ScrollBar = require('stb/ui/scroll.bar'),\n *     scrollBar = new ScrollBar({\n *         viewSize: 5,\n *         realSize: 25,\n *         events: {\n *             done: function () {\n *                 debug.log('ScrollBar: done');\n *             },\n *             change: function ( data ) {\n *                 debug.log('ScrollBar: change to ' + data.curr + ' from ' + data.prev);\n *             }\n *         }\n *     });\n */\nfunction ScrollBar ( config ) {\n    // sanitize\n    config = config || {};\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        if ( config.type && Number(config.type) !== config.type ) {\n            throw new Error(__filename + ': config.type must be a number');\n        }\n    }\n\n    /**\n     * Visible area size.\n     *\n     * @type {number}\n     */\n    this.viewSize = 10;\n\n    /**\n     * Scroll area actual height or width (if scroll is horizontal).\n     *\n     * @type {number}\n     */\n    this.realSize = 100;\n\n    /**\n     * Scroll thumb position.\n     *\n     * @type {number}\n     */\n    this.value = 0;\n\n    /**\n     * Component orientation.\n     *\n     * @type {number}\n     */\n    this.type = this.TYPE_VERTICAL;\n\n    /**\n     * Geometry of the scroll thumb element.\n     *\n     * @type {ClientRect}\n     */\n    this.thumbRect = null;\n\n    /**\n     * Geometry of the scroll track element.\n     *\n     * @type {ClientRect}\n     */\n    this.trackRect = null;\n\n    // can't accept focus\n    config.focusable = config.focusable || false;\n\n    // set default className if classList property empty or undefined\n    //config.className = 'scrollBar ' + (config.className || '');\n\n    // horizontal or vertical\n    if ( config.type ) {\n        // apply\n        this.type = config.type;\n    }\n\n    if ( this.type === this.TYPE_HORIZONTAL ) {\n        config.className += ' horizontal';\n    }\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // insert thumb line\n    this.$thumb = this.$body.appendChild(document.createElement('div'));\n\n    // correct CSS class name\n    this.$thumb.className = 'thumb';\n\n    // component setup\n    this.init(config);\n}\n\n\n// inheritance\nScrollBar.prototype = Object.create(Component.prototype);\nScrollBar.prototype.constructor = ScrollBar;\n\n// set component name\nScrollBar.prototype.name = 'spa-component-scrollbar';\n\nScrollBar.prototype.TYPE_VERTICAL   = 1;\nScrollBar.prototype.TYPE_HORIZONTAL = 2;\n\n\n/**\n * Init or re-init realSize/viewSize/value parameters.\n *\n * @param {Object} config init parameters (subset of constructor config params)\n */\nScrollBar.prototype.init = function ( config ) {\n    config = config || {};\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n    }\n\n    // set actual scroll size\n    if ( config.realSize !== undefined ) {\n        if ( DEVELOP ) {\n            if ( Number(config.realSize) !== config.realSize ) {\n                throw new Error(__filename + ': config.realSize value must be a number');\n            }\n        }\n\n        // apply\n        this.realSize = config.realSize;\n    }\n\n    // set visible area size\n    if ( config.viewSize !== undefined ) {\n        if ( DEVELOP ) {\n            if ( Number(config.viewSize) !== config.viewSize ) {\n                throw new Error(__filename + ': config.viewSize value must be a number');\n            }\n            if ( config.viewSize < 0 ) {\n                throw new Error(__filename + ': config.viewSize value must be greater than 0');\n            }\n        }\n\n        // apply\n        this.viewSize = config.viewSize;\n    }\n\n    // show or hide thumb\n    if ( this.viewSize >= this.realSize ) {\n        this.$thumb.classList.add('hidden');\n    } else {\n        this.$thumb.classList.remove('hidden');\n    }\n\n    // set thumb position\n    if ( config.value !== undefined ) {\n        // apply\n        this.scrollTo(config.value);\n    }\n\n    // set thumb size\n    if ( this.type === this.TYPE_VERTICAL ) {\n        this.$thumb.style.height = (this.viewSize / this.realSize * 100) + '%';\n    } else {\n        this.$thumb.style.width = (this.viewSize / this.realSize * 100) + '%';\n    }\n\n    // geometry\n    this.thumbRect = this.$thumb.getBoundingClientRect();\n    this.trackRect = this.$node.getBoundingClientRect();\n};\n\n\n/**\n * Set position of the given value.\n * Does nothing in case when scroll is in the end and passed value is more than scroll bar length.\n *\n * @param {number} value new value to set\n * @return {boolean} operation result\n *\n * @fires module:stb/ui/scroll.bar~ScrollBar#done\n * @fires module:stb/ui/scroll.bar~ScrollBar#change\n */\nScrollBar.prototype.scrollTo = function ( value ) {\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( Number(value) !== value ) {\n            throw new Error(__filename + ': value must be a number');\n        }\n        if ( this.realSize > this.viewSize && value > this.realSize - this.viewSize ) {\n            throw new Error(__filename + ': value is greater than this.realSize-this.viewSize');\n        }\n        if ( value < 0 ) {\n            throw new Error(__filename + ': value is less then 0');\n        }\n    }\n\n    // value has changed\n    if ( this.value !== value ) {\n        // track and thumb geometry was not set\n        if ( this.thumbRect.height === 0 || this.thumbRect.width === 0 ) {\n            // apply\n            this.trackRect = this.$node.getBoundingClientRect();\n            this.thumbRect = this.$thumb.getBoundingClientRect();\n        }\n\n        // set scroll bar width\n        if ( this.type === this.TYPE_VERTICAL ) {\n            this.$thumb.style.marginTop = ((this.trackRect.height - this.thumbRect.height) * value / (this.realSize - this.viewSize)) + 'px';\n        } else {\n            this.$thumb.style.marginLeft = ((this.trackRect.width - this.thumbRect.width) * value / (this.realSize - this.viewSize)) + 'px';\n        }\n\n        // there are some listeners\n        if ( this.events['change'] ) {\n            /**\n             * Update scroll value.\n             *\n             * @event module:stb/ui/scroll.bar~ScrollBar#change\n             *\n             * @type {Object}\n             * @property {number} prev old/previous scroll value\n             * @property {number} curr new/current scroll value\n             */\n            this.emit('change', {curr: value, prev: this.value});\n        }\n\n        // is it the end?\n        if ( value >= this.realSize ) {\n            value = this.realSize;\n\n            // there are some listeners\n            if ( this.events['done'] ) {\n                /**\n                 * Set scroll to its maximum value.\n                 *\n                 * @event module:stb/ui/scroll.bar~ScrollBar#done\n                 */\n                this.emit('done');\n            }\n        }\n\n        // set new value\n        this.value = value;\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n// public\nmodule.exports = ScrollBar;\n","/**\n * @license The MIT License (MIT)\n * @author Yaroslav Surilov <y.surilov@infomir.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('stb-component');\n\n\n/**\n * Base flicker implementation.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n * @param {function} [config.render] custom render function\n * @param {number} [config.interval=1000] interval for flicking\n * @param {string} [config.value] value to set in flickering container\n */\nfunction Flicker ( config ) {\n    var interval;\n\n    // sanitize\n    config = config || {};\n\n    this.timerId = 0;\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        if ( !config.value && !config.render ) {\n            throw new Error(__filename + ': nothing to render (absent value and render method)');\n        }\n        if ( config.render && typeof config.render !== 'function' ) {\n            throw new Error(__filename + ': wrong config.render type');\n        }\n    }\n\n    if ( config.render ) {\n        this.render = config.render;\n    }\n\n    config.focusable = false;\n\n    config.visible = config.visible || true;\n\n    this.value = config.value;\n\n    // initial state\n    this.active = false;\n\n    // set default className if classList property empty or undefined\n    //config.className = 'flicker ' + (config.className || '');\n\n    Object.defineProperty(this, 'interval', {\n        set: function ( value ) {\n            if ( DEVELOP ) {\n                // interval must be 0 or positive integer\n                if ( !(typeof value === 'number' && isFinite(value) && !(value % 1) && value >= 0) ) {\n                    throw new Error(__filename + ': wrong interval value');\n                }\n            }\n\n            interval = value;\n        },\n        get: function () {\n            return interval;\n        }\n    });\n\n    this.interval = config.interval || 1000;\n\n    // parent constructor call\n    Component.call(this, config);\n}\n\n\n// inheritance\nFlicker.prototype = Object.create(Component.prototype);\nFlicker.prototype.constructor = Flicker;\n\n// set component name\nFlicker.prototype.name = 'spa-component-flicker';\n\n\n/**\n * Start flickering.\n */\nFlicker.prototype.start = function () {\n    var self = this;\n\n    if ( !this.active ) {\n        this.active = true;\n        // starts immediately\n        (function run () {\n            self.render(self.$node, self.value);\n            self.timerId = setTimeout(run, self.interval);\n        })();\n    }\n};\n\n\n/**\n * Stop flickering.\n */\nFlicker.prototype.stop = function () {\n    if ( this.active ) {\n        this.active = false;\n        clearTimeout(this.timerId);\n    }\n};\n\n\n/**\n * Fill the given item with data.\n *\n * @param {Element} $item item DOM link\n * @param {string} value associated with this item data\n */\nFlicker.prototype.defaultRender = function ( $item, value ) {\n    $item.innerText = value;\n};\n\n\n/**\n * Can be redefined to provide custom rendering.\n *\n * @type {function}\n */\nFlicker.prototype.render = Flicker.prototype.defaultRender;\n\n\n// public\nmodule.exports = Flicker;\n","/**\n * Exit from an app in three ways.\n *\n * @module app.exit\n */\n\n'use strict';\n\nvar app = require('mag-app');\n\n\n/** Go back to Launcher from an app. */\nexports.goBack = function () {\n    core.call('stop');\n};\n\n\n/**\n * Exit from an app by pressing \"Exit/Home\" button.\n * Potentially save app state.\n */\nexports.goHome = function () { /* action */ };\n\n\n/**\n * Exit from an app.\n * Destroy all application instances.\n * If callback function provided, and callback returns boolean 'true', application will stay alive.\n *\n * @param {PanelSet} panelSet - panel set to return focus\n * @param {Function} [callback] - provide callback if u want to handle exit result, or cancel it\n */\nexports.goExit = function ( panelSet, callback ) {\n    var ModalMessage  = require('mag-component-modal'),\n        LayoutList    = require('mag-component-layout-list'),\n        keys          = require('stb-keys'),\n        previousFocus = app.activePage.activeComponent,\n        exitModal;\n\n    app.activePage.add(exitModal = new ModalMessage({\n        title: gettext('Exit'),\n        events: {\n            show: function () {\n                panelSet.blur();\n                this.children[0].focus();\n            },\n            hide: function () {\n                previousFocus.focus();\n            }\n        },\n        children: [\n            new LayoutList({\n                className: 'padded',\n                size: 2,\n                focusIndex: 0,\n                data: [\n                    {\n                        items: [\n                            {\n                                value: gettext('Yes')\n                            }\n                        ],\n                        click: function () {\n                            if ( typeof callback === 'function' ) {\n                                if ( callback(true) ) {\n                                    exitModal.hide();\n                                    exitModal.remove();\n\n                                    return;\n                                }\n                            }\n\n                            exitModal.hide();\n                            exitModal.remove();\n                            core.call('exit');\n                        }\n                    },\n                    {\n                        items: [\n                            {\n                                value: gettext('No')\n                            }\n                        ],\n                        click: function () {\n                            if ( typeof callback === 'function' ) {\n                                callback(false);\n                            }\n                            exitModal.hide();\n                            exitModal.remove();\n                            panelSet.focus();\n                        }\n                    }\n                ],\n                events: {\n                    keydown: function ( event ) {\n                        LayoutList.prototype.defaultEvents.keydown.call(this, event);\n                        if ( event.code === keys.back ) {\n                            event.stop = true;\n                            if ( typeof callback === 'function' ) {\n                                callback(false);\n                            }\n                            exitModal.hide();\n                            exitModal.remove();\n                            panelSet.focus();\n                        }\n                    }\n                }\n            })\n        ]\n    }));\n\n    exitModal.show();\n    exitModal.focus();\n};\n","/**\n * Available UI actions.\n *\n * @module actions\n */\n\n'use strict';\n\nmodule.exports = {\n    resetFilters:      0,\n    search:            1,\n    createFolder:      2,\n    deleteFile:        3,\n    pinShare:          4,\n    renamePinnedShare: 5,\n    unpinShare:        6,\n    setFavoritesState: 7,\n    clearFavorites:    8,\n    clearSmbCache:     9,\n    clearNfsCache:     10\n};\n","/**\n * Construct and render image previews.\n *\n * @module preview.image\n */\n\n'use strict';\n\nvar dom = require('spa-dom'),\n    tag = dom.tag;\n\n\n/**\n * Render image/photo preview with given properties.\n *\n * @param {ScrollArea} textArea - place to show preview\n * @param {string} uri - resource uri\n * @param {Object} item - particular image data\n */\nmodule.exports = function ( textArea, uri, item ) {\n    var $image = new Image();\n\n    $image.onload = function () {\n        textArea.$body.innerHTML = '';\n        textArea.$body.appendChild(dom.fragment.apply(\n            null,\n            [\n                tag('div', {className: 'imagePreviewContainer'}, this),\n                tag('div', {className: 'title'}, gettext('Name') + ':'),\n                tag('div', {}, item.name),\n                // eslint-disable-next-line\n                item.item.Creator ? tag('div', {className: 'title'}, gettext('Creator') + ':') : tag('div', {className: 'title'}, gettext('Date') + ':'),\n                item.item.Creator ? tag('div', {}, item.item.Creator) : tag('div', {}, new Date(item.item.last_modified).toLocaleDateString()),\n                tag('div', {className: 'title'}, gettext('Resolution') + ':'),\n                tag('div', {}, this.width + 'x' + this.height),\n                tag('div', {className: 'title'}, gettext('Size') + ':'),\n                tag('div', {}, require('./utils/eval.space')(item.item.size).singleObject)\n            ]\n        ));\n\n        textArea.show();\n        textArea.init();\n    };\n\n    $image.onerror = function ( event ) {\n        console.log('error when loading image for preview');\n        console.log(event);\n    };\n\n    $image.src = uri;\n};\n","/**\n * Parsers for different data structures.\n *\n * @module parser\n *\n * @author Stanislav Kalashnik <sk@infomir.eu>\n * @author Yaroslav Surilov <y.surilov@infomir.com>\n */\n\n'use strict';\n\n\n/**\n * Extract name and extension from file name.\n *\n * @param {string} name - file name for parse\n *\n * @return {Object} parsed file name\n */\nexports.getFileNameComponents = function ( name ) {\n    var matched = name.match(/^([\\S\\s]+)\\.([^.]+)$/);\n\n    return {\n        name:      matched ? matched[1] : '',\n        extension: matched ? matched[2] : ''\n    };\n};\n\n\n/**\n * Parses the given CUE data.\n *\n * @param {string} text - data to parse\n *\n * @return {Object} parsed data\n */\nexports.parseCue = function ( text ) {\n    var currentFile  = null,\n        currentTrack = null,\n        data         = {files: []};\n\n    text.split('\\n').forEach(function ( line ) {\n        var lineParts, lineCommand, value, parts, field, time;\n\n        line        = line.trim();\n        lineParts   = line.split(' ');\n        lineCommand = lineParts.shift().toLowerCase();\n\n        // strip command name\n        value = line.slice(lineCommand.length).trim();\n\n        // check all\n        switch ( lineCommand ) {\n            case 'title':\n            case 'performer':\n            case 'songwriter':\n                // strip trailing quotes\n                if ( value.charAt(0) === '\"' && value.charAt(value.length - 1) === '\"' ) {\n                    value = value.slice(1, value.length - 1);\n                }\n\n                if ( currentTrack ) {\n                    currentTrack[lineCommand] = value;\n                } else {\n                    data[lineCommand] = value;\n                }\n\n                break;\n            case 'file':\n                currentFile = {tracks: []};\n                parts = value.split(' ');\n                // has additional info\n                if ( parts.length > 1 && value.charAt(value.length - 1) !== '\"' ) {\n                    currentFile.type = parts.pop();\n                    // strip type part\n                    value = value.slice(0, -currentFile.type.length).trim();\n                }\n                // strip trailing quotes\n                if ( value.charAt(0) === '\"' && value.charAt(value.length - 1) === '\"' ) {\n                    value = value.slice(1, value.length - 1);\n                }\n                currentFile.name = value;\n                data.files.push(currentFile);\n                break;\n            case 'track':\n                currentTrack = {\n                    number: lineParts[0],\n                    type: lineParts[1],\n                    index: []\n                };\n                currentFile.tracks.push(currentTrack);\n                break;\n            case 'rem':\n                if ( ['GENRE', 'DATE', 'COMMENT', 'PLACE'].indexOf(lineParts[0]) !== -1 ) {\n                    value = value.slice(lineParts[0].length).trim();\n                    field = lineParts[0].toLowerCase();\n\n                    // strip trailing quotes\n                    if ( value.charAt(0) === '\"' && value.charAt(value.length - 1) === '\"' ) {\n                        value = value.slice(1, value.length - 1);\n                    }\n\n                    if ( currentTrack === null ) {\n                        data[field] = value;\n                    } else {\n                        currentTrack[field] = value;\n                    }\n                }\n                break;\n            case 'index':\n                if ( currentTrack !== null ) {\n                    time = (lineParts[1] || '00:00:00').split(':');\n\n                    currentTrack.index.push((parseInt(time[0], 10) * 60) + parseInt(time[1], 10));\n                }\n                break;\n        }\n    });\n\n    return data;\n};\n\n\n/**\n * Parse the given m3u data.\n *\n * @param {string} text - data to parse\n * @param {Function} breadcrumbs - breadcrumbs instance\n *\n * @return {Object} parsed data\n */\nexports.parseM3u = function ( text, breadcrumbs ) {\n    var lines       = text.trim().split('\\n'),\n        currentItem = {},\n        data        = {\n            strict: false,\n            config: {},\n            items:  []\n        },\n        additionalData;\n\n    // remove whitespaces from both sides of each string\n    lines = lines.map(Function.prototype.call, String.prototype.trim);\n    // remove all empty strings\n    lines = lines.filter(Boolean);\n\n    // not empty file\n    if ( lines.length > 0 ) {\n        // validate header\n        if ( lines[0] === '#EXTM3U' ) {\n            // correct\n            data.strict = true;\n            // so remove from further parsing\n            lines.shift();\n        }\n\n        // main parsing\n        lines.forEach(function ( line ) {\n            var comment, pivot, optionKey, optionValue;\n\n            // data or comment/option\n            if ( line.charAt(0) === '#' ) {\n                // comment/option\n                // try to extract directive name\n                switch ( line.substr(1, 6).toUpperCase() ) {\n                    case 'EXTCFG':\n                        // raw line: \"OPTION = VALUE\" or \"OPTION.PARAM = VALUE\"\n                        comment = line.substr(7).trim();\n                        // position of the divider\n                        pivot = comment.indexOf('=');\n                        if ( pivot > 0 ) {\n                            // extract and set option with value\n                            optionKey = comment.substr(0, pivot).trim();\n                            optionValue = comment.substr(pivot + 1).trim();\n                            // both parts are present\n                            if ( optionKey && optionValue ) {\n                                // find sub-options\n                                optionKey = optionKey.split('.');\n                                // plain or multilevel\n                                if ( optionKey.length === 1 ) {\n                                    // simple\n                                    data.config[optionKey[0]] = optionValue;\n                                } else {\n                                    // nested\n                                    // init the structure\n                                    if ( typeof data.config[optionKey[0]] !== 'object' ) { data.config[optionKey[0]] = {}; }\n                                    // fill it\n                                    data.config[optionKey[0]][optionKey[1]] = optionValue;\n                                }\n                            }\n                        }\n                        break;\n                    case 'EXTINF':\n                        // raw line: \"419,Alice In Chains - Rotten Apple\"\n                        comment = line.substr(8).trim();\n\n                        // here parse additional metadata\n\n                        // position of the divider\n                        pivot = comment.indexOf(',');\n\n                        if ( pivot > 0 ) {\n                            currentItem.time = comment.match(/^-?\\d+/)[0];\n                            currentItem.name = comment.substr(pivot + 1).trim();\n\n                            additionalData = comment.substr(0, pivot).trim();\n                            additionalData = additionalData.replace(/^-?\\d+/, '').trim();\n\n                            if ( additionalData ) {\n                                additionalData = additionalData.split(' ').map(function ( value ) {\n                                    value    = value.split('=');\n                                    value[1] = value[1].slice(1, -1);\n\n                                    return value;\n                                });\n\n                                currentItem.additionalData = additionalData;\n                            }\n                        }\n                        break;\n                }\n            } else {\n                currentItem.uri = line;\n\n                if ( line.indexOf('://') === -1 ) {\n                    // static file\n                    // replace window slashes to unix slashes\n                    line = line.replace(/\\\\/g, '/');\n                    // set file extension\n                    currentItem.extension = line.split('.').pop().toLowerCase();\n                    // set path of the file\n                    currentItem.path = breadcrumbs.path + line;\n                } else {\n                    // remote link\n                    // set path\n                    currentItem.path = line;\n                }\n                // extend already collected data with uri\n                // name always should be filled with either name or uri\n                currentItem.name = currentItem.name || currentItem.uri;\n                // append to already found\n                data.items.push(currentItem);\n                // reset\n                currentItem = {};\n            }\n        });\n\n        if ( data.config ) {\n            // correct config value types\n            ['VM_IPTV_ENABLED', 'VM_OTT_ENABLED', 'VM_OTT_LOG_ENABLED'].forEach(function ( name ) {\n                if ( data.config[name] ) {\n                    data.config[name] = ['true', 'yes', '1'].indexOf(data.config[name].toLowerCase()) !== -1;\n                }\n            });\n        }\n    }\n\n    return data;\n};\n","/**\n * Search in content by given criteria.\n *\n * @module searcher\n */\n\n'use strict';\n\nvar MODE_SUB_STRING   = 1,\n    MODE_FUZZY_STRING = 2,\n    MODE_WILD_CARD    = 3,\n    settings = {\n        // default\n        mode: MODE_SUB_STRING,\n        matchCase: false\n    },\n    stringToRegExp = (function () {\n        var cache = {};\n\n        /**\n         * Construct regular expression from given string.\n         *\n         * @param {string} string - source string to convert\n         *\n         * @return {RegExp} constructed regular expression\n         */\n        return function ( string ) {\n            if ( !cache[string] ) {\n                cache[string] = new RegExp(string, settings.matchCase ? '' : 'i');\n            }\n\n            return cache[string];\n        };\n    })(),\n    matchers = {},\n    rawSearchRequest;\n\n\n/**\n * Interpret given wildcard and translate it to a regular expression for searching.\n *\n * @param {string} wildcard - wildcard for interpreting\n *\n * @return {RegExp} constructed regular expression\n */\n// function interpretWildcard ( wildcard ) {}\n\n\n/**\n * Search in the given string.\n *\n * @param {string} string - string to search on\n *\n * @return {boolean} test result -- matched or not\n */\nfunction searchSubstring ( string ) {\n    return stringToRegExp(rawSearchRequest).test(string);\n}\n\n\n/**\n * Fuzzy searching based on Levenshtein distance calculation.\n *\n * @param {Object[]} data - raw data for searching\n *\n * @return {Object[]} filtered data\n */\n// function searchFuzzy ( data ) {}\n\n\n/**\n * Search by given wildcard.\n */\n// function searchWildcard () {}\n\n\nmatchers[MODE_SUB_STRING]   = searchSubstring;\n// matchers[MODE_FUZZY_STRING] = searchFuzzy;\n// matchers[MODE_WILD_CARD]    = searchWildcard;\n\n\n/**\n * Setup search mode including case sensitivity.\n *\n * @param {Object} config - search config to use\n * @param {number} config.mode - constant type of search mode\n * @param {boolean} config.matchCase - should search be case sensitive\n */\nfunction setup ( config ) {\n    settings.mode = config.mode || MODE_SUB_STRING;\n    settings.matchCase = config.matchCase || false;\n}\n\n\n/**\n * Search by given data.\n *\n * @param {(string[]|Object[])} data - data for search\n * @param {Function} getPointer - function that emits element for search matches\n * @param {Function} [callback] - handle operation result, asynchronous scenario\n */\n// eslint-disable-next-line\nfunction search ( data, getPointer, callback ) {\n    var matcher = matchers[settings.mode],\n        filtered = data.filter(function ( item ) {\n            return matcher(getPointer(item));\n        });\n\n    if ( callback ) {\n        callback(filtered);\n    } else {\n        return filtered;\n    }\n}\n\n\nmodule.exports = {\n    get searchRequest () {\n        return rawSearchRequest;\n    },\n    set searchRequest ( request ) {\n        rawSearchRequest = request;\n    },\n    modeSubString: MODE_SUB_STRING,\n    modeFuzzy:     MODE_FUZZY_STRING,\n    modeWildCard:  MODE_WILD_CARD,\n    setup:         setup,\n    search:        search\n};\n","/**\n * Operate with navigation/breadcrumbs.\n *\n * @module breadcrumbs\n */\n\n'use strict';\n\nvar Emitter     = require('cjs-emitter'),\n    mediaTypes  = require('./types').media,\n    breadcrumbs = new Emitter(),\n    data        = [];\n\n\nbreadcrumbs.pop = function () {\n    return data.pop();\n};\n\n\nbreadcrumbs.push = function () {\n    return data.push.apply(data, arguments);\n};\n\n\nbreadcrumbs.reset = function () {\n    data.length = 0;\n\n    this.config = {\n        type: mediaTypes.init.id\n    };\n};\n\n\nObject.defineProperties(breadcrumbs, {\n    path: {\n        get: function () {\n            var dataSpecial;\n\n            if ( this.config.type === mediaTypes.network.id ) {\n                dataSpecial = data.slice(4);\n            }\n\n            return (dataSpecial || data).reduce(function ( path, item ) {\n                return path + item.path + '/';\n            }, '');\n        }\n    },\n    head: {\n        get: function () {\n            return data[data.length - 1];\n        }\n    },\n    tail: {\n        get: function () {\n            return data[0];\n        }\n    },\n    length: {\n        get: function () {\n            return data.length;\n        }\n    }\n});\n\n\nbreadcrumbs.reset();\n\n\nmodule.exports = breadcrumbs;\n","/**\n * Draw circle/pie diagrams.\n *\n * @module diagram\n *\n * @author Stanislav Kalashnik <sk@infomir.eu>\n * @author Yaroslav Surilov <y.surilov@infomir.com>\n */\n\n'use strict';\n\nvar diagramCache  = {},\n    hasIndicators = false,\n    parentContainer,\n    colorSet,\n    indicators,\n    diagram;\n\n\n/**\n * Prepare colors from color sources.\n *\n * @param {Array} colors - raw colors or sample elements for extracting colors\n *\n * @return {Object} prepared color set\n */\nfunction prepareColors ( colors ) {\n    var inUseColor = typeof colors[0] === 'string' ? colors[0] : getComputedStyle(colors[0]).backgroundColor,\n        freeColor  = typeof colors[1] === 'string' ? colors[1] : getComputedStyle(colors[1]).backgroundColor,\n        text       = typeof colors[2] === 'string' ? colors[2] : getComputedStyle(colors[2]).color;\n\n    freeColor = freeColor.replace(/(?:0\\.)?\\d+/g, function ( matched ) { return Math.floor(matched * 1.2); });\n\n    return {\n        inUseSpace: inUseColor,\n        freeSpace:  freeColor,\n        text:       text\n    };\n}\n\n\nmodule.exports = {\n    /**\n     * Instantiate new circle (pie) diagram.\n     *\n     * @param {Panel} parent - parent container\n     * @param {Array} colors - colors for diagram\n     */\n    init: function ( parent, colors ) {\n        parentContainer = parent;\n        colorSet        = prepareColors(colors);\n    },\n\n    /**\n     * Draw diagram for free/allocated space on disk, set computed styles.\n     *\n     * @param {Object} data - data to display\n     */\n    draw: function ( data ) {\n        var $canvasBlock, $canvas, $percentBlock, $indicatorsBlock,\n            $allocatedSpaceTitle, $freeSpaceTitle, $freeSpaceMark, $allocatedSpaceMark,\n            context, driveSpaceValues, radius, totalSize, index;\n\n        if ( data.size === diagramCache.fullSize && data.free === diagramCache.freeSize ) {\n            return;\n        }\n\n        $canvasBlock     = document.createElement('div');\n        $canvas          = document.createElement('canvas');\n        $percentBlock    = $canvasBlock.cloneNode(false);\n        context          = $canvas.getContext('2d');\n        driveSpaceValues = [data.size - data.free, data.free];\n        radius           = 0;\n        totalSize        = 0;\n\n        diagramCache.fullSize = data.size;\n        diagramCache.freeSize = data.free;\n\n        if ( !hasIndicators ) {\n            $freeSpaceMark      = $canvasBlock.cloneNode(false);\n            $allocatedSpaceMark = $canvasBlock.cloneNode(false);\n            $indicatorsBlock    = $canvasBlock.cloneNode(false);\n\n            $allocatedSpaceTitle = document.createTextNode(gettext('In use'));\n            $freeSpaceTitle  = document.createTextNode(gettext('Free'));\n\n            $indicatorsBlock.className    = 'indicatorsBlock';\n            $allocatedSpaceMark.className = 'allocatedSpaceMark';\n            $freeSpaceMark.className      = 'freeSpaceMark';\n\n            $allocatedSpaceMark.style.backgroundColor = colorSet.inUseSpace;\n            $freeSpaceMark.style.backgroundColor      = colorSet.freeSpace;\n\n            $indicatorsBlock.appendChild($allocatedSpaceMark);\n            $indicatorsBlock.appendChild($allocatedSpaceTitle);\n            $indicatorsBlock.appendChild($freeSpaceMark);\n            $indicatorsBlock.appendChild($freeSpaceTitle);\n\n            parentContainer.$body.children[0].appendChild($indicatorsBlock);\n\n            hasIndicators = true;\n        }\n\n        if ( diagram ) {\n            $canvasBlock.parentNode.removeChild(diagram);\n            diagram = null;\n        }\n\n        $canvasBlock.className = 'infoStorageDiagram';\n\n        $percentBlock.innerText   = Math.floor((data.size - data.free) * 100 / data.size) + '%';\n        $percentBlock.style.color = colorSet.text;\n\n        $canvasBlock.appendChild($canvas);\n        $canvasBlock.appendChild($percentBlock);\n        parentContainer.$body.children[0].appendChild($canvasBlock);\n\n        for ( index = 0; index < driveSpaceValues.length; index += 1 ) {\n            totalSize += driveSpaceValues[index];\n        }\n\n        $canvas.width = $canvas.height = parentContainer.$node.offsetHeight / 2.55;\n\n        for ( index = 0; index < driveSpaceValues.length; index += 1 ) {\n            context.fillStyle = [colorSet.inUseSpace, colorSet.freeSpace][index];\n            context.beginPath();\n            context.moveTo($canvas.width / 2, $canvas.height / 2);\n            context.arc(\n                $canvas.width / 2,\n                $canvas.height / 2,\n                $canvas.height / 2,\n                radius,\n                radius + (Math.PI * 2 * (driveSpaceValues[index] / totalSize)),\n                false\n            );\n            context.lineTo($canvas.width / 2, $canvas.height / 2);\n            context.fill();\n            radius += Math.PI * 2 * (driveSpaceValues[index] / totalSize);\n        }\n\n        diagram    = $canvasBlock;\n        indicators = $indicatorsBlock;\n    },\n\n    show: function () {\n        if ( hasIndicators ) {\n            diagram.classList.remove('hidden');\n            indicators.classList.remove('hidden');\n        }\n    },\n\n    hide: function () {\n        if ( hasIndicators ) {\n            diagram.classList.add('hidden');\n            indicators.classList.add('hidden');\n        }\n    }\n};\n","/**\n * Context menu items.\n *\n * @module context.menu.items\n */\n\n'use strict';\n\n\nmodule.exports = {\n    resetFilters: {\n        items: [\n            {\n                className: 'theme-icon theme-icon-rc-f1'\n            },\n            gettext('Reset filters')\n        ]\n    },\n    search: {\n        items: [\n            {\n                className: 'theme-icon theme-icon-rc-f4'\n            },\n            gettext('Search')\n        ]\n    },\n    createFolder: {\n        items: [\n            {\n                className: 'theme-icon theme-icon-rc-f2'\n            },\n            gettext('Create folder')\n        ]\n    },\n    deleteFile: {\n        items: [\n            {\n                className: 'theme-icon theme-icon-rc-f1'\n            },\n            gettext('Delete')\n        ]\n    },\n    pinShare: {\n        items: [\n            {\n                className: 'theme-icon theme-icon-shortcut'\n            },\n            gettext('Create shortcut')\n        ]\n    },\n    renamePinnedShare: {\n        items: [\n            {\n                className: 'theme-icon theme-icon-rc-f4'\n            },\n            gettext('Rename')\n        ]\n    },\n    unpinShare: {\n        items: [\n            {\n                className: 'theme-icon theme-icon-rc-f1'\n            },\n            gettext('Delete')\n        ]\n    },\n    setFavoritesState: {\n        items: [\n            {\n                className: 'theme-icon theme-icon-rc-f3'\n            },\n            gettext('Favorites')\n        ]\n    },\n    clearFavorites: {\n        items: [\n            {\n                className: 'theme-icon theme-icon-rc-f1'\n            },\n            gettext('Clear')\n        ]\n    },\n    clearSmbCache: {\n        items: [\n            {\n                className: 'theme-icon theme-icon-rc-f1'\n            },\n            gettext('Clear cache')\n        ]\n    },\n    clearNfsCache: {\n        items: [\n            {\n                className: 'theme-icon theme-icon-rc-f1'\n            },\n            gettext('Clear cache')\n        ]\n    }\n    /*,\n        importPlaylist:     {\n            items: [\n                {\n                    className: 'theme-icon theme-icon-shortcut'\n                },\n                gettext('Import playlist ')\n            ]\n            click: function () {\n                var item = mainPanelList.$focusItem.value.item,\n                    playlistData;\n\n                if ( breadcrumbs.config.isDisplayPlaylist ) {\n                    playlistData = playlist.items.map(function ( playlistItem ) {\n                        return {\n                            name: playlistItem.name,\n                            uri:  playlistItem.uri\n                        };\n                    });\n\n                    importPlaylist(playlistData, breadcrumbs.config.opened);\n                    page.modals.actions.hide();\n                } else {\n                    fs.readFile(\n                        item.path || breadcrumbs.path + item.name,\n                        function ( error, result ) {\n                            playlist = parser.parseM3u(result, breadcrumbs);\n\n                            playlist.items = playlist.items.filter(function ( playlistItem ) {\n                                var key;\n\n                                for ( key in mediaTypes ) {\n                                    if ( mediaTypes[key].extensions && mediaTypes[key].extensions.indexOf(playlistItem.extension || '') !== -1 ) {\n                                        playlistItem.type = key.id;\n                                        // if playlistItem has extension - it is a m3u-file; otherwise - m3u-stream\n                                        playlistItem.subtype = playlistItem.extension ? FILE_SUBTYPE.playlistFile : FILE_SUBTYPE.playlistStream;\n\n                                        return true;\n                                    }\n                                }\n\n                                return false;\n                            });\n\n                            playlistData = playlist.items.map(function ( playlistItem ) {\n                                return {\n                                    name: playlistItem.name,\n                                    uri:  playlistItem.uri\n                                };\n                            });\n                            importPlaylist(playlistData, item.name);\n                            page.modals.actions.hide();\n                        }\n                    );\n                }\n            }\n        },\n        import:     {\n            items: [\n                {\n                    className: 'theme-icon theme-icon-shortcut'\n                },\n                gettext('Import')\n            ]\n            click: function () {\n                var item = mainPanelList.$focusItem.value.item;\n\n                importPlaylist([\n                    {\n                        name: item.name,\n                        uri:  item.uri\n                    }\n                ], breadcrumbs.config.opened);\n                page.modals.actions.hide();\n            }\n        }*/\n};\n","'use strict';\n\nmodule.exports = function ( min, max ) {\n    return Math.floor((Math.random() * (max - min + 1))) + min;\n};\n","/**\n * Make tunable network requests.\n *\n * @module request\n *\n * @author Stanislav Kalashnik <sk@infomir.eu>\n * @author Yaroslav Surilov <y.surilov@infomir.com>\n */\n\n'use strict';\n\nvar request  = {},\n    defaults = {\n        // HTTP method to use, such as \"GET\", \"POST\", \"PUT\", \"DELETE\", etc.\n        method: 'GET',\n        // whether or not to perform the operation asynchronously\n        async: true,\n        // list of HTTP request headers\n        headers: {},\n        // \"\", \"arraybuffer\", \"blob\", \"document\", \"json\", \"text\"\n        type: 'text',\n        // data to send (plain object)\n        data: null,\n        // amount of milliseconds a request can take before being terminated\n        timeout: 30000,\n        // callback when the request has successfully completed\n        onload: null,\n        // callback when the request has failed\n        onerror: null,\n        // callback when the author specified timeout has passed before the request could complete\n        ontimeout: null\n    },\n    defaultsKeys = Object.keys(defaults);\n\n\n/**\n * Main method to send ajax requests.\n *\n * @param {string} url - URL address\n * @param {Object} options - configuration parameters\n *\n * @return {XMLHttpRequest|boolean} false in case of wrong params\n */\nrequest.ajax = function ( url, options ) {\n    var index, headersKeys, client;\n\n    // init\n    options = options || {};\n    // valid non-empty string\n    if ( url && (typeof url === 'string' || url instanceof String) && url.length > 0 ) {\n        // plain object is given as param\n        if ( options && typeof options === 'object') {\n            // extend with default options\n            for ( index = 0; index < defaultsKeys.length; index++ ) {\n                // in case not redefined\n                if ( options[defaultsKeys[index]] === undefined ) {\n                    options[defaultsKeys[index]] = defaults[defaultsKeys[index]];\n                }\n            }\n        }\n\n        client = new XMLHttpRequest();\n        // init a request\n        client.open(options.method, url, options.async);\n\n        // apply the given headers\n        if ( options.headers && typeof options.headers === 'object') {\n            headersKeys = Object.keys(options.headers);\n            for ( index = 0; index < headersKeys.length; index++ ) {\n                client.setRequestHeader(headersKeys[index], options.headers[headersKeys[index]]);\n            }\n        }\n\n        // set response type and timeout\n        client.responseType = options.type;\n        client.timeout      = options.timeout;\n\n        // callbacks\n        if ( options.onload && typeof options.onload === 'function' ) {\n            client.onload = function onload () {\n                options.onload.call(this, this.status, this.response || this.responseText);\n            };\n        }\n        client.onerror   = options.onerror;\n        client.ontimeout = options.ontimeout;\n\n        // actual request\n        //client.send(this.encode(options.data));\n        client.send(options.data ? JSON.stringify(options.data) : null);\n\n        return client;\n    }\n\n    return false;\n};\n\n\nmodule.exports = request;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('spa-component');\n\n\n/**\n * Base page implementation.\n *\n * A full-screen top-level layer that can operate as an independent separate entity.\n * It is added to the document body on creation if not already linked.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n *\n * @example\n * var Page = require('stb/ui/page'),\n *     page = new Page({\n *         $node: document.getElementById(id)\n *     });\n *\n * page.addListener('show', function show () {\n *     // page is visible now\n * });\n */\nfunction Page ( config ) {\n    // sanitize\n    config = config || {};\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n    }\n\n    /**\n     * Page visibility/active state flag.\n     *\n     * @readonly\n     * @type {boolean}\n     */\n    this.active = false;\n\n    /**\n     * Link to the currently active component with focus.\n     *\n     * @readonly\n     * @type {Component}\n     */\n    this.activeComponent = null;\n\n    // set default className if classList property empty or undefined\n    //config.className = 'page ' + (config.className || '');\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // state flag\n    this.active = this.$node.classList.contains('active');\n\n    // correct DOM parent/child connection if necessary\n    if ( this.$node.parentNode === null ) {\n        document.body.appendChild(this.$node);\n    }\n\n    // always itself\n    this.page = this;\n}\n\n\n// inheritance\nPage.prototype = Object.create(Component.prototype);\nPage.prototype.constructor = Page;\n\n// set component name\nPage.prototype.name = 'spa-component-page';\n\n\n// public\nmodule.exports = Page;\n","/**\n * Connect network folder (SAMBA/NFS resource).\n */\n\n'use strict';\n\nvar app                = require('mag-app'),\n    keys               = require('stb-keys'),\n    Page               = require('stb-component-page'),\n    Panel              = require('mag-component-panel'),\n    PanelSet           = require('mag-component-panel-set'),\n    LayoutList         = require('mag-component-layout-list'),\n    ModalMessage       = require('mag-component-modal'),\n    Button             = require('stb-component-button'),\n    div                = require('../modules/div'),\n    mediaTypes         = require('../modules/types').media,\n    openKeyboard       = require('../modules/keyboard').open,\n    page               = new Page({$node: document.getElementById('pageConnect')}),\n    activeMountType    = mediaTypes.smb.id,\n    dataSmb            = {\n        server:       '',\n        folderServer: '',\n        folderLocal:  '',\n        login:        '',\n        password:     ''\n    },\n    dataNfs            = {\n        server:       '',\n        folderServer: '',\n        folderLocal:  ''\n    },\n    selectMountTypeModal,\n    panelSet;\n\n\n/** Construct components and render page. */\n// eslint-disable-next-line max-lines-per-function\nfunction renderPage () {\n    var $serverNFS, $folderServerNFS, $folderLocalNFS,\n        $serverSMB, $folderServerSMB, $folderLocalSMB,\n        $login, $password,\n        mountSMBInputs, mountNFSInputs, panelList, buttonConnect;\n\n    buttonConnect = new Button({\n        value:     gettext('Connect'),\n        className: 'bottom theme-footer',\n        events: {\n            click: function () {\n                if ( activeMountType === mediaTypes.smb.id ) {\n                    app.emit('connectSMB', {\n                        shareType: mediaTypes.smbPermanentShare.id,\n                        info: {\n                            address:     dataSmb.server,\n                            name:        dataSmb.folderServer,\n                            displayName: dataSmb.folderLocal,\n                            login:       dataSmb.login,\n                            password:    dataSmb.password\n                        },\n                        callback: function ( error ) {\n                            if ( error ) {\n                                core.notify({\n                                    title: gettext(error.message),\n                                    icon: 'alert',\n                                    type: 'warning'\n                                });\n                            } else {\n                                app.route(app.pages.main);\n                            }\n                        }\n                    });\n                } else {\n                    app.emit('connectNFS', {\n                        shareType: mediaTypes.nfsPermanentShare.id,\n                        info: {\n                            address:     dataNfs.server,\n                            name:        dataNfs.folderServer,\n                            displayName: dataNfs.folderLocal\n                        },\n                        callback: function ( error ) {\n                            if ( error ) {\n                                core.notify({\n                                    title: gettext(error.message),\n                                    icon: 'alert',\n                                    type: 'warning'\n                                });\n                            } else {\n                                app.route(app.pages.main);\n                            }\n                        }\n                    });\n                }\n            },\n            keydown: function ( event ) {\n                if ( event.code === keys.up ) {\n                    panelList.focus();\n                    panelList.$focusItem.classList.add('focus');\n                    panelList.focusIndex(panelList.data.length - 1);\n                } else if ( event.code === keys.down ) {\n                    panelList.focus();\n                    panelList.$focusItem.classList.add('focus');\n                    panelList.focusIndex(0);\n                } else if ( event.code === keys.ok ) {\n                    buttonConnect.emit('click', {event: event});\n                }\n            }\n        }\n    });\n\n    selectMountTypeModal = new ModalMessage({\n        parent: page,\n        title: gettext('Connection type'),\n        events: {\n            hide: () => panelSet.focus()\n        },\n        children: [\n            new LayoutList({\n                className: 'padded',\n                cycle: true,\n                size: 2,\n                focusIndex: 0,\n                data: [\n                    {\n                        items: [\n                            {\n                                value: 'SMB'\n                            }\n                        ],\n                        click: function () {\n                            if ( activeMountType === mediaTypes.nfs.id ) {\n                                panelList.setData({\n                                    data: mountSMBInputs,\n                                    focusIndex: panelList.links.mountType.$parentItem.index\n                                });\n\n                                $serverSMB.innerText       = dataSmb.server;\n                                $folderServerSMB.innerText = dataSmb.folderServer;\n                                $folderLocalSMB.innerText  = dataSmb.folderLocal;\n\n                                activeMountType = mediaTypes.smb.id;\n                                this.focusIndex = 0;\n                            }\n\n                            selectMountTypeModal.hide();\n                        }\n                    },\n                    {\n                        items: [\n                            {\n                                value: 'NFS'\n                            }\n                        ],\n                        click: function () {\n                            if ( activeMountType === mediaTypes.smb.id ) {\n                                panelList.setData({\n                                    data: mountNFSInputs,\n                                    focusIndex: panelList.links.mountType.$parentItem.index\n                                });\n\n                                $serverNFS.innerText       = dataNfs.server;\n                                $folderServerNFS.innerText = dataNfs.folderServer;\n                                $folderLocalNFS.innerText  = dataNfs.folderLocal;\n\n                                activeMountType = mediaTypes.nfs.id;\n                                this.focusIndex = 1;\n                            }\n\n                            selectMountTypeModal.hide();\n                        }\n                    }\n                ]\n            })\n        ]\n    });\n\n    mountSMBInputs = [\n        {\n            items: [\n                {\n                    value: gettext('Server address') + ':',\n                    className: 'theme-subhead-color'\n                },\n                $serverSMB = div(),\n                {\n                    className: 'theme-item-editable disabled'\n                }\n            ],\n            click: function () {\n                openKeyboard({\n                    title: gettext('ENTER SERVER ADDRESS'),\n                    value: dataSmb.server\n                }, function ( event ) {\n                    $serverSMB.innerText = dataSmb.server = event.value;\n                });\n            }\n        },\n        {\n            items: [\n                {\n                    value: gettext('Server folder') + ':',\n                    className: 'theme-subhead-color'\n                },\n                $folderServerSMB = div(),\n                {\n                    className: 'theme-item-editable disabled'\n                }\n            ],\n            click: function () {\n                openKeyboard({\n                    title: gettext('ENTER SERVER FOLDER NAME'),\n                    value: dataSmb.folderServer\n                }, function ( event ) {\n                    $folderServerSMB.innerText = dataSmb.folderServer = event.value;\n\n                    if ( !dataSmb.folderLocal ) {\n                        $folderLocalSMB.innerText = dataSmb.folderLocal = event.value;\n                    }\n                });\n            }\n        },\n        {\n            items: [\n                {\n                    value: gettext('Local folder') + ':',\n                    className: 'theme-subhead-color'\n                },\n                $folderLocalSMB = div(),\n                {\n                    className: 'theme-item-editable disabled'\n                }\n            ],\n            click: function () {\n                openKeyboard({\n                    title: gettext('ENTER FOLDER NAME'),\n                    value: dataSmb.folderLocal\n                }, function ( event ) {\n                    $folderLocalSMB.innerText = dataSmb.folderLocal = event.value || dataSmb.folderServer;\n                });\n            }\n        },\n        {\n            name: 'mountType',\n            items: [\n                {\n                    value: gettext('Connection type') + ':',\n                    className: 'theme-subhead-color'\n                },\n                {\n                    value: 'SMB',\n                    className: 'mountType'\n                },\n                {\n                    className: 'theme-item-more'\n                }\n            ],\n            click: function () {\n                selectMountTypeModal.show();\n                selectMountTypeModal.focus();\n                panelSet.blur();\n            }\n        },\n        {\n            items: [\n                {\n                    value: gettext('Login') + ':',\n                    className: 'theme-subhead-color'\n                },\n                $login = div(),\n                {\n                    className: 'theme-item-editable disabled'\n                }\n            ],\n            click: function () {\n                openKeyboard({\n                    title: gettext('ENTER LOGIN'),\n                    value: dataSmb.login\n                }, function ( event ) {\n                    $login.innerText = dataSmb.login = event.value;\n                });\n            }\n        },\n        {\n            items: [\n                {\n                    value: gettext('Password') + ':',\n                    className: 'theme-subhead-color'\n                },\n                $password = div('theme-text-password'),\n                {\n                    className: 'theme-item-editable disabled'\n                }\n            ],\n            click: function () {\n                openKeyboard({\n                    title: gettext('ENTER PASSWORD'),\n                    type:  'password',\n                    value: dataSmb.password\n                }, function ( event ) {\n                    $password.innerText = dataSmb.password = event.value;\n                });\n            }\n        }\n    ];\n\n    mountNFSInputs = [\n        {\n            items: [\n                {\n                    value: gettext('Server address') + ':',\n                    className: 'theme-subhead-color'\n                },\n                $serverNFS = div(),\n                {\n                    className: 'theme-item-editable disabled'\n                }\n            ],\n            click: function () {\n                openKeyboard({\n                    title: gettext('ENTER SERVER ADDRESS'),\n                    value: dataNfs.server\n                }, function ( event ) {\n                    $serverNFS.innerText = dataNfs.server = event.value;\n                });\n            }\n        },\n        {\n            items: [\n                {\n                    value: gettext('Server folder') + ':',\n                    className: 'theme-subhead-color'\n                },\n                $folderServerNFS = div(),\n                {\n                    className: 'theme-item-editable disabled'\n                }\n\n            ],\n            click: function () {\n                openKeyboard({\n                    title: gettext('ENTER SERVER FOLDER NAME'),\n                    value: dataNfs.folderServer\n                }, function ( event ) {\n                    $folderServerNFS.innerText = dataNfs.folderServer = event.value;\n\n                    if ( !dataNfs.folderLocal ) {\n                        $folderLocalNFS.innerText = dataNfs.folderLocal = event.value;\n                    }\n                });\n            }\n        },\n        {\n            items: [\n                {\n                    value: gettext('Local folder') + ':',\n                    className: 'theme-subhead-color'\n                },\n                $folderLocalNFS = div(),\n                {\n                    className: 'theme-item-editable disabled'\n                }\n            ],\n            click: function () {\n                openKeyboard({\n                    title: gettext('ENTER FOLDER NAME'),\n                    value: dataNfs.folderLocal\n                }, function ( event ) {\n                    $folderLocalNFS.innerText = dataNfs.folderLocal = event.value || dataNfs.folderServer;\n                });\n            }\n        },\n        {\n            name: 'mountType',\n            items: [\n                {\n                    value: gettext('Connection type') + ':',\n                    className: 'theme-subhead-color'\n                },\n                {\n                    value: 'NFS',\n                    className: 'mountType'\n                },\n                {\n                    className: 'theme-item-more'\n                }\n            ],\n            click: function () {\n                selectMountTypeModal.show();\n                selectMountTypeModal.focus();\n                panelSet.blur();\n            }\n        }\n    ];\n\n    page.add(\n        panelSet = new PanelSet({\n            panels: [\n                new Panel({\n                    main: true,\n                    title: [\n                        {\n                            value: gettext('Connect network folder'),\n                            className: 'name'\n                        }\n                    ],\n                    children: [\n                        panelList = new LayoutList({\n                            className: 'mountNetworkFolderList',\n                            size: (activeMountType === mediaTypes.smb.id ? mountSMBInputs : mountNFSInputs).length,\n                            focusIndex: 0,\n                            data: activeMountType === mediaTypes.smb.id ? mountSMBInputs : mountNFSInputs,\n                            events: {\n                                overflow: function () {\n                                    panelList.$focusItem.classList.remove('focus');\n                                    buttonConnect.focus();\n                                }\n                            }\n                        }),\n                        buttonConnect\n                    ]\n                })\n            ]\n        })\n    );\n\n    panelSet.focus();\n}\n\n\npage.once('show', renderPage);\n\npage.addListener('keydown', function ( event ) {\n    if ( event.code === keys.back ) {\n        app.route(app.pages.main);\n    }\n});\n\n\nmodule.exports = page;\n","/**\n * HTML DIV elements builder.\n *\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n * @author Yaroslav Surilov <y.surilov@infomir.com>\n */\n\n'use strict';\n\n/**\n * Create a new HTML DIV element.\n *\n * @param {string|null} [className] - element class name/names\n * @param {...*} [content] - element content (primitive value/values or other nodes)\n *\n * @return {Element} HTML DIV element\n *\n * @example\n * div();\n * div('className', 'some text');\n * div('className anotherClassName', div(), div());\n */\nmodule.exports = function ( className ) {\n    var node = document.createElement('div'),\n        argument, index;\n\n    if ( className ) {\n        node.className = className;\n    }\n\n    for ( index = 1; index < arguments.length; index += 1 ) {\n        argument = arguments[index];\n\n        node.appendChild(\n            argument instanceof Element ? argument : document.createTextNode(argument)\n        );\n    }\n\n    return node;\n};\n"],"sourceRoot":""}