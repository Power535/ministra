{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/stb-keys/index.js","webpack:///./node_modules/spa-app/lib/core.js","webpack:///./node_modules/spa-component/index.js","webpack:///./node_modules/stb-component/index.js","webpack:///./node_modules/mag-component-layout-list/index.js","webpack:///./node_modules/mag-component-layout/index.js","webpack:///./node_modules/mag-app/index.js","webpack:///./node_modules/stb-component-page/index.js","webpack:///./node_modules/mag-component-footer/index.js","webpack:///./node_modules/mag-component-modal/index.js","webpack:///./node_modules/cjs-emitter/index.js","webpack:///./node_modules/spa-dom/index.js","webpack:///./node_modules/stb-component-scrollbar/index.js","webpack:///./node_modules/spa-app/lib/events.js","webpack:///./node_modules/stb-app/lib/css.js","webpack:///./node_modules/spa-keys/index.js","webpack:///./node_modules/mag-component-list/index.js","webpack:///./src/js/modules/epg-page/metrics.js","webpack:///./node_modules/mag-component-panel-set/index.js","webpack:///./node_modules/mag-component-panel/index.js","webpack:///./node_modules/mag-component-radio-list/index.js","webpack:///./src/js/main.js","webpack:///./node_modules/mag-app/lib/main.js","webpack:///./node_modules/cjs-query/index.js","webpack:///./src/js/config.js","webpack:///./node_modules/stb-shim-classlist/index.js","webpack:///./node_modules/stb-app/lib/metrics.js","webpack:///./src/js/metrics.js","webpack:///./node_modules/mag-app/lib/css.js","webpack:///./node_modules/spa-gettext/index.js","webpack:///./node_modules/cjs-gettext/index.js","webpack:///./src/js/modules/find-index-polyfill.js","webpack:///../helpers/longpress.js","webpack:///./src/js/modules/epg-page/index.js","webpack:///./node_modules/spa-component-page/index.js","webpack:///./node_modules/stb-component-modal/index.js","webpack:///./node_modules/spa-component-modal/index.js","webpack:///./node_modules/spa-component-scrollbar/index.js","webpack:///./src/js/modules/epg-page/epg.grid.js","webpack:///./src/js/pages/channels.js","webpack:///./node_modules/cjs-format/index.js","webpack:///./src/js/modules/utils.js","webpack:///./src/js/modules/modal.icons.js","webpack:///./src/js/modules/title.widget.js","webpack:///./src/js/modules/channel.list.item.render.js","webpack:///./src/js/pages/scan.options.js","webpack:///./node_modules/stb-component-button/index.js","webpack:///./node_modules/spa-component-button/index.js","webpack:///./src/js/pages/scanning.js","webpack:///./node_modules/spa-component-progress-bar/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","keys","back","backspace","channelNext","tab","channelPrev","ok","enter","exit","escape","volumeUp","volumeDown","f1","f2","f3","f4","refresh","frame","phone","set","tv","menu","app","rewind","forward","audio","standby","keyboard","usbMounted","usbUnmounted","playPause","play","pause","stop","power","record","info","mute","digit0","digit1","digit2","digit3","digit4","digit5","digit6","digit7","digit8","digit9","Emitter","parse","query","document","location","search","substring","config","activePage","route","pageTo","data","page","pageFrom","active","id","$node","classList","remove","events","emit","add","showPage","this","from","to","counter","Component","self","visible","focusable","$body","parent","children","propagate","createElement","className","hide","defaultEvents","forEach","eventName","addListener","apply","addEventListener","event","focus","stopPropagation","constructor","child","index","arguments","length","push","parentNode","appendChild","item","activeComponent","blur","splice","indexOf","removeChild","activeItem","show","callback","setTimeout","List","Layout","LayoutList","handlers","links","$noData","undefined","fixedData","$item","layout","inner","focusIndex","focusItem","renderItemDefault","layoutConfig","currentNode","currentData","ready","items","childNodes","innerText","firstChild","$parentItem","click","setData","init","$wrap","noData","innerHTML","Element","renderItem","code","right","left","$wrapper","HTMLElement","wrap","normalize","componentClickHandler","textContent","classes","Footer","currentTab","tabs","codes","$table","insertRow","rows","insertCell","$left","cells","lastChild","$right","currTab","action","$tab","$tabChildren","addClick","ind","middle","disabled","style","visibility","onclick","title","StbComponentModal","Modal","$overlay","onkeydown","keydown","$header","$text","icon","$icon","once","onceWrapper","removeListener","addListeners","callbacks","filter","fn","Array","slice","dom","tag","tagName","attrList","content","node","createTextNode","fragment","createDocumentFragment","tagDst","Node","nodes","count","clear","DOMContentLoaded","load","type","unload","error","eventLocal","keyCode","ctrlKey","altKey","shiftKey","keypress","mousewheel","link","rel","href","metrics","height","head","space","pageUp","pageDown","end","home","up","down","insert","del","$focusItem","viewIndex","TYPE_VERTICAL","size","cycle","scroll","provider","TYPE_HORIZONTAL","wheelDeltaY","move","wheelDeltaX","idx","currSize","onClick","render","blocked","realSize","maxCount","viewSize","pos","blurItem","renderView","itemData","prevIndex","currIndex","mark","scrollTo","direction","force","previousSibling","nextSibling","$prev","$curr","markItem","state","480","epgGrid","scheduleWidth","timeStep","countOfSteps","timeLineMargin","itemHeight","timeLineTop","576","720","1080","screen","PanelSet","keydownHandler","panels","main","Panel","$shadow","isArray","$title","classIcon","classIconActive","RadioList","classChecked","checkedData","checkedIndex","previousCheckedData","checkIndex","defaultCheckedIndex","defaultFocusIndex","resetData","clearChecked","table","tr","td","check","checkBox","getItemNodeByIndex","gettext","intents","osdInput","osdTv","core","plugins","tvBackend","environment","language","epg","getElementById","apiProvider","pages","intent","window","getCoreInstance","platform","body","setAttribute","contextmenu","preventDefault","split","part","decodeURIComponent","stringify","params","encodeURIComponent","join","documentElement","DOMTokenList","el","_element","_classCache","replace","token","contains","toString","toggle","screenHeight","availHeight","availTop","availBottom","availWidth","width","availLeft","availRight","linkCSS","theme","path","Gettext","loader","prepare","_","pgettext","ngettext","defaultLanguage","xhr","ext","XMLHttpRequest","onload","JSON","responseText","onerror","ontimeout","open","send","meta","msgId","context","plural","evalResult","eval","findIndex","predicate","TypeError","list","thisArg","longClick","timer","pressed","fired","LONG_CLICK_TIMEOUT","keyToChange","emitKeyCode","emitCode","emitKeydown","redefine","eventType","clearTimeout","footer","actionModal","actionList","headerLayout","contentLayout","ICONS","Page","ModalMessage","Scroll","EpgGrid","prepareChannels","channel","schedule","censored","$logo","logo","backgroundImage","backend","host","genre","number","archive","listIndex","sendRecordEpgIntent","epgLastFocused","uri","url","epgName","startTime","start","time","endTime","pvr","server","local","local_pvr","EpgPage","startCheck","stopCheck","click:item","epgItems","epgFocus","channelIndex","focus:item","label","realtime","goToRealTime","$timeBlock","$programDescription","$description","$programName","$current","$timeLine","$timeline","setChannels","updateEpg","ScrollBar","thumbRect","trackRect","$thumb","getBoundingClientRect","marginTop","marginLeft","curr","prev","fullMonthNames","fullDaysOfWeek","day","scheduleBlock","step","timers","internal","epgMode","epgFocusTime","moveEpg","pressOk","domLinks","$number","$archiveIcon","$lockIcon","$archiveLine","fillItem","subPrev","subNext","onFocus","repositionTimeLine","focusEpg","focused","onFocusDebounceTimeout","onOverflow","checkingTime","clearInterval","$epgItem","before","accessControl","Math","floor","checkCurrent","Date","now","checkData","epgItem","ceil","display","setCurrentProgram","description","newTime","getTime","epgModeChange","getStartTime","initTimeBlock","setInterval","last","first","dayName","min","hour","month","ms","dateText","getDay","getMinutes","getHours","getMonth","getDate","setTime","delta","sec","date","childrenLength","dataLength","channelList","channels","request","abort","getChannelsEpg","menuItems","mainSet","categoryModalList","programList","menuList","leftPanel","channelPanel","epgPanel","categoryList","sortList","channelActionModal","epgMenu","actionModalList","exitModal","resetModal","format","utils","scrollbars","iconList","appUIPanels","keyblock","KEYBLOCK_REVERT_TIMOUT","keyblockRevertTimeout","titleWidget","favorite","byName","lastActiveState","currentPlayIndex","current","currentIndex","epgTimeout","footerInitDelay","epgUpdateTimeout","lastChannelTimeout","channelFooterTimeout","channelListEpgTimeout","channelListEpgInterval","$channelsCount","$channelsCountWrapper","$nowDate","$noEpg","CURRENT_EPG_UPDATE_INTERVAL","antennaEnable","antennaPower","CHANNELS_UPDATE_NOTIFICATION_TIMEOUT","NEED_SILENCE","LAST_CHANNEL_TIMEOUT","closeOpenedIntents","close","titleWrap","result","currentEpg","concat","htmlInstance","realValue","local_timeshift","updateChannelList","getChannels","getEpg","renderEpgList","nextChannelCallback","skipCensored","showOsd","osd","setChannel","prevChannelCallback","sendRecordIntent","foreground","sendOsdInputIntent","startCode","osdState","compareState","startChar","done","Number","silent","initFooterOnEpgSelect","notify","timeout","sendEpgPlayIntent","epgObject","epgIndex","getLink","epgData","nextHandler","prevHandler","lastIntent","mime","solution","resource","persistent","mediaId","exitWithConfirm","next","nextChannel","prevChannel","manual","onPip","notifyError","nowTime","updateFooterLater","showEpgMenu","initFooterOnChannelSelect","initData","renderActionModal","toggleFavorite","renderData","makeItem","deleteChannelsCallback","updateRender","addChannelsCallback","fullUpdateChannelsCallback","applicationState","updateChannelsCallback","newIndex","newFocusIndex","focusId","updateChannelListEpg","update","channelArray","prog","timeIconClassName","stateClassName","systemDate","getCurrentDate","insertDays","program","favoriteActive","tvGuide","resetFilters","resetLastConfig","genreIndex","favoriteIco","categoryItem","categoryIcon","searchItem","searchIcon","delay","sendOsdTvIntent","process","forceEpg","getUrl","channelToSend","modalMenuConfig","isSame","returnToPlayer","handler","headless","modalMenu","tvChannel","viewport","viewportConfig","extra","retryOnError","stream","volumeCorrection","playIntentEventsWrapper","newContext","sendIntent","keydownHandlerForOsdInput","String","fromCharCode","onInfoPress","onNumberPress","setLast","attach","timeshift","isSortingDifferent","buttons","receiver","onExitAppHandler","stopBackgroundCheck","destroy","text","duration","source","SOURCES","INTENT","silentState","contextState","SYSTEM","select","trim","move:view","minimized","web","categories","isHome","getComputedStyle","updateChannelsList","getLastChannelId","loaded","startBackgroundCheck","getCategories","startApp","indexToPlay","findAndPlay","processAndPlay","args","match","months","setDate","$favorite","$time","doTime","ch","background","hardcodeDomValue","$epg","typeItemText","symbolRateText","modulationText","frequencyStartText","frequencyEndText","bandwidthText","frequencyItemText","listData","typesList","middleList","PanelExtended","Scrollbar","Button","modalScroll","symbolRateRange","frequencyRange","scanConfig","more","currentType","symbolRate","modulation","frequencyStart","frequencyEnd","frequency","bandwidth","network","scanType","panelSet","modalScan","typeItem","modalTypes","modalSymbolRate","modalModulation","scanTypeManual","modalFrequencyStart","manualEdit","configValue","modalFrequencyEnd","modalBand","frequencyItem","modalFrequency","networkID","parseInt","autoList","manualList","manualMoreList","editManual","$name","middlePanel","reset","typeIndex","types","selectedIndex","modalActions","overflow","button","scanning","scanOptions","clickDuration","Progress","$frequency","findCount","$count","$channel","stopScanning","stopScan","onProgress","progress","$percents","onFound","onEnd","netId","symRate","band","startManualScan","startAutoScan","ProgressBar","max","$value","prevValue","abs"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n","/**\n * Global list of non-printable control key codes.\n *\n * At the moment `keypress` and `keydown` events are emitted for the same keys (for both printable and non-printable characters).\n *\n * WARNING!!! All codes in this file (except 'volumeUp' and 'volumeDown')\n * are used in window 'keydown' handler to prevent wrong 'keypress' firings.\n * If you add new code to this file 'keypress' event with this code will never fire.\n *\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nvar keys = require('spa-keys');\n\n\n// extend with additional codes\nkeys.back         = keys.backspace;\nkeys.channelNext  = keys.tab;        // Tab\nkeys.channelPrev  = keys.tab + 's';  // Shift+Tab\nkeys.ok           = keys.enter;      // Enter\nkeys.exit         = keys.escape;     // Esc\nkeys.volumeUp     = 107;             // NUMPAD +\nkeys.volumeDown   = 109;             // NUMPAD -\nkeys.f1           = 112 + 'c';       // Ctrl+F1\nkeys.f2           = 113 + 'c';       // Ctrl+F2\nkeys.f3           = 114 + 'c';       // Ctrl+F3\nkeys.f4           = 115 + 'c';       // Ctrl+F4\nkeys.refresh      = 116 + 'c';       // Ctrl+F5\nkeys.frame        = 117 + 'c';       // Ctrl+F6\nkeys.phone        = 119 + 'c';       // Ctrl+F8\nkeys.set          = 120 + 'c';       // Ctrl+F9\nkeys.tv           = 121 + 'c';       // Ctrl+F10\nkeys.menu         = 122 + 'c';       // Ctrl+F11\nkeys.app          = 123 + 'c';       // Ctrl+F12\nkeys.rewind       = 66  + 'a';       // Alt+B\nkeys.forward      = 70  + 'a';       // Alt+F\nkeys.audio        = 71  + 'a';       // Alt+G\nkeys.standby      = 74  + 'a';       // Alt+J\nkeys.keyboard     = 76  + 'a';       // Alt+L\nkeys.usbMounted   = 80  + 'a';       // Alt+P\nkeys.usbUnmounted = 81  + 'a';       // Alt+Q\nkeys.playPause    = 82  + 'a';       // Alt+R\nkeys.play         = -1;              // should be redefined on some platforms\nkeys.pause        = -1;              // should be redefined on some platforms\nkeys.stop         = 83  + 'a';       // Alt+S\nkeys.power        = 85  + 'a';       // Alt+U\nkeys.record       = 87  + 'a';       // Alt+W\nkeys.info         = 89  + 'a';       // Alt+Y\nkeys.mute         = 192 + 'a';\nkeys.digit0       = 48;\nkeys.digit1       = 49;\nkeys.digit2       = 50;\nkeys.digit3       = 51;\nkeys.digit4       = 52;\nkeys.digit5       = 53;\nkeys.digit6       = 54;\nkeys.digit7       = 55;\nkeys.digit8       = 56;\nkeys.digit9       = 57;\n\n\n// public\nmodule.exports = keys;\n\n// public\n// module.exports = {\n//     getCode: function ( event ) {\n//         var code = event.keyCode;\n//\n//         // apply key modifiers\n//         if ( event.shiftKey ) { code += 1000; }\n//         if ( event.altKey )   { code += 2000; }\n//\n//         return code;\n//     },\n//\n//     codes: {\n//         back:         8,    // Backspace\n//         channelPrev:  1009, // Shift+Tab\n//         channelNext:  9,    // Tab\n//         ok:           13,   // Enter\n//         exit:         27,   // Esc\n//         pageUp:       33,\n//         pageDown:     34,\n//         end:          35,\n//         home:         36,\n//         left:         37,\n//         up:           38,\n//         right:        39,\n//         down:         40,\n//         'delete':     46,\n//         volumeUp:     107,  // NUMPAD +\n//         volumeDown:   109,  // NUMPAD -\n//         f1:           112,  // F1\n//         f2:           113,  // F2\n//         f3:           114,  // F3\n//         f4:           115,  // F4\n//         refresh:      116,  // F5\n//         frame:        117,  // F6\n//         phone:        119,  // F8\n//         set:          120,  // F9\n//         tv:           121,  // F10\n//         menu:         122,  // F11\n//         app:          123,  // F12\n//         rewind:       2066, // Alt+B\n//         forward:      2070, // Alt+F\n//         audio:        2071, // Alt+G\n//         standby:      2074, // Alt+J\n//         keyboard:     2076, // Alt+L\n//         usbMounted:   2080, // Alt+P\n//         usbUnmounted: 2081, // Alt+Q\n//         playPause:    2082, // Alt+R\n//         stop:         2083, // Alt+S\n//         power:        2085, // Alt+U\n//         record:       2087, // Alt+W\n//         info:         2089, // Alt+Y\n//         mute:         2192\n//     }\n// };\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Emitter = require('cjs-emitter'),\n    parse   = require('cjs-query').parse,\n    app     = new Emitter();\n\n\n/**\n * Make the given inactive/hidden page active/visible.\n * Pass some data to the page and trigger the corresponding event.\n *\n * @param {Page} page item to show\n * @param {*} [data] data to send to page\n *\n * @return {boolean} operation status\n */\nfunction showPage ( page, data ) {\n    // page available and can be hidden\n    if ( page && !page.active ) {\n        // apply visibility\n        page.$node.classList.add('active');\n        page.active = true;\n        app.activePage = page;\n\n        debug.info('show component ' + page.name + '#' + page.id, null, {\n            tags: ['show', 'component', page.name, page.id]\n        });\n        //console.log('component ' + page.name + '.' + page.id + ' show', 'green');\n\n        // there are some listeners\n        if ( page.events['show'] ) {\n            // notify listeners\n            page.emit('show', {data: data});\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n}\n\n\n/**\n * Make the given active/visible page inactive/hidden and trigger the corresponding event.\n *\n * @param {Page} page item to hide\n *\n * @return {boolean} operation status\n */\nfunction hidePage ( page ) {\n    // page available and can be hidden\n    if ( page && page.active ) {\n        // apply visibility\n        page.$node.classList.remove('active');\n        page.active  = false;\n        app.activePage = null;\n\n        debug.info('hide component ' + page.name + '#' + page.id, null, {\n            tags: ['hide', 'component', page.name, page.id]\n        });\n        //console.log('component ' + page.name + '.' + page.id + ' hide', 'grey');\n\n        // there are some listeners\n        if ( page.events['hide'] ) {\n            // notify listeners\n            page.emit('hide');\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n}\n\n\n// url request params\napp.query = parse(document.location.search.substring(1));\n\n\n// global application configuration\n// in config.js file in js root\napp.config = require('app:config');\n\n\n// the only visible page\napp.activePage = null;\n\n\n/**\n * Browse to a given page.\n * Do nothing if the link is invalid. Otherwise hide the current, show new and update the \"previous\" link.\n *\n * @param {Page} pageTo instance of the page to show\n * @param {*} [data] options to pass to the page on show\n *\n * @return {boolean} operation status\n */\napp.route = function ( pageTo, data ) {\n    var pageFrom = app.activePage;\n\n    if ( DEVELOP ) {\n        //if ( router.pages.length > 0 ) {\n        if ( !pageTo || typeof pageTo !== 'object' ) {\n            throw new Error(__filename + ': wrong pageTo type');\n        }\n        if ( !('active' in pageTo) ) {\n            throw new Error(__filename + ': missing field \"active\" in pageTo');\n        }\n        //}\n    }\n\n    // valid not already active page\n    if ( pageTo && !pageTo.active ) {\n        //debug.log('router.navigate: ' + pageTo.id, pageTo === pageFrom ? 'grey' : 'green');\n        debug.info('app route: ' + pageTo.name + '#' + pageTo.id, null, {tags: ['route', pageTo.name, pageTo.id]});\n\n        // update url\n        //location.hash = this.stringify(name, data);\n\n        // apply visibility\n        hidePage(app.activePage);\n        showPage(pageTo, data);\n\n        // there are some listeners\n        if ( this.events['route'] ) {\n            // notify listeners\n            this.emit('route', {from: pageFrom, to: pageTo});\n        }\n\n        // store\n        //this.history.push(pageTo);\n\n        return true;\n    }\n\n    //debug.warn('invalid page to route: ' + pageTo.id, null, {tags: ['route', 'page', pageTo.id]});\n    console.warn('invalid page to route: ' + pageTo.id);\n\n    // nothing was done\n    return false;\n};\n\n\n// public\nmodule.exports = app;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app     = require('spa-app/lib/core'),\n    Emitter = require('cjs-emitter'),\n    counter = 0;\n\n\n/**\n * Base component implementation.\n *\n * Visual element that can handle sub-components.\n * Each component has a DOM element container $node with a set of classes:\n * \"component\" and some specific component class names depending on the hierarchy, for example \"page\".\n * Each component has a unique ID given either from $node.id or from data.id. If not given will generate automatically.\n *\n * @constructor\n * @extends Emitter\n *\n * @param {Object} [config={}] init parameters\n * @param {Element} [config.id] component unique identifier (generated if not set)\n * @param {string} [config.className] space-separated list of classes for \"className\" property of this.$node\n * @param {Element} [config.$node] DOM element/fragment to be a component outer container\n * @param {Element} [config.$body] DOM element/fragment to be a component inner container (by default is the same as $node)\n * @param {Component} [config.parent] link to the parent component which has this component as a child\n * @param {Array.<Component>} [config.children=[]] list of components in this component\n * @param {Object.<string, function>} [config.events={}] list of event callbacks\n * @param {boolean} [config.visible=true] component initial visibility state flag\n * @param {boolean} [config.focusable=true] component can accept focus or not\n * @param {boolean} [config.propagate=false] allow to emit events to the parent component\n *\n * @fires module:stb/component~Component#click\n *\n * @example\n * var component = new Component({\n *     $node: document.getElementById(id),\n *     className: 'bootstrap responsive',\n *     events: {\n *         click: function () { ... }\n *     }\n * });\n * component.add( ... );\n * component.focus();\n */\nfunction Component ( config ) {\n    // current execution context\n    var self = this,\n        name;\n\n    // sanitize\n    config = config || {};\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( config.id && typeof config.id !== 'string' ) {\n            throw new Error(__filename + ': wrong or empty config.id');\n        }\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        if ( config.$node && !(config.$node instanceof Element) ) {\n            throw new Error(__filename + ': wrong config.$node type');\n        }\n        if ( config.$body && !(config.$body instanceof Element) ) {\n            throw new Error(__filename + ': wrong config.$body type');\n        }\n        if ( config.parent && !(config.parent instanceof Component) ) {\n            throw new Error(__filename + ': wrong config.parent type');\n        }\n        if ( config.children && !Array.isArray(config.children) ) {\n            throw new Error(__filename + ': wrong config.children type');\n        }\n    }\n\n    /**\n     * Component visibility state flag.\n     *\n     * @readonly\n     * @type {boolean}\n     */\n    this.visible = true;\n\n    /**\n     * Component can accept focus or not.\n     *\n     * @type {boolean}\n     */\n    this.focusable = true;\n\n    /**\n     * DOM outer handle.\n     *\n     * @type {Element}\n     */\n    this.$node = null;\n\n    /**\n     * DOM inner handle.\n     * In simple cases is the same as $node.\n     *\n     * @type {Element}\n     */\n    this.$body = null;\n\n    /**\n     * Link to the parent component which has this component as a child.\n     *\n     * @type {Component}\n     */\n    this.parent = null;\n\n    /**\n     * List of all children components.\n     *\n     * @type {Component[]}\n     */\n    this.children = [];\n\n    /**\n     * allow to emit events to the parent component\n     *\n     * @readonly\n     * @type {boolean}\n     */\n    this.propagate = !!config.propagate;\n\n    // parent constructor call\n    Emitter.call(this);\n\n    // outer handle - empty div in case nothing is given\n    this.$node = config.$node || document.createElement('div');\n\n    // inner handle - the same as outer handler in case nothing is given\n    this.$body = config.$body || this.$node;\n\n    // set CSS class names\n    //this.$node.className += ' component ' + (config.className || '');\n    // previous approach is not good as it mess with components hierarchy\n    this.$node.className = this.name + ' ' + (config.className || '');\n\n    // apply component id if given, generate otherwise\n    this.id = config.id || this.$node.id || 'cid' + counter++;\n\n    // apply hierarchy\n    if ( config.parent ) {\n        // add to parent component\n        config.parent.add(this);\n    }\n\n    // apply given visibility\n    if ( config.visible === false ) {\n        // default state is visible\n        this.hide();\n    }\n\n    // apply focus handling method\n    if ( config.focusable === false ) {\n        // can't accept focus\n        this.focusable = false;\n    }\n\n    // a descendant defined own events\n    if ( this.defaultEvents ) {\n        // sanitize\n        config.events = config.events || {};\n\n        if ( DEVELOP ) {\n            if ( typeof config.events !== 'object' ) {\n                throw new Error(__filename + ': wrong config.events type');\n            }\n            if ( typeof this.defaultEvents !== 'object' ) {\n                throw new Error(__filename + ': wrong this.defaultEvents type');\n            }\n        }\n\n        for ( name in this.defaultEvents ) {\n            // overwrite default events with user-defined\n            config.events[name] = config.events[name] || this.defaultEvents[name];\n        }\n    }\n\n    if ( config.events ) {\n        // apply all given events\n        Object.keys(config.events).forEach(function ( eventName ) {\n            self.addListener(eventName, config.events[eventName]);\n        });\n    }\n\n    // apply the given children components\n    if ( config.children ) {\n        // apply\n        this.add.apply(this, config.children);\n    }\n\n    // component activation by mouse\n    this.$node.addEventListener('click', function ( event ) {\n        // left mouse button\n        //if ( event.button === 0 ) {\n        // activate if possible\n        self.focus();\n\n        // there are some listeners\n        if ( self.events['click'] ) {\n            /**\n             * Mouse click event.\n             *\n             * @event module:stb/component~Component#click\n             *\n             * @type {Object}\n             * @property {Event} event click event data\n             */\n            self.emit('click', event);\n        }\n        //}\n\n        if ( DEVELOP ) {\n            // middle mouse button\n            if ( event.button === 1 ) {\n                //debug.inspect(self, 0);\n                debug.info('\"window.link\" or \"' + self.id + '.component\"', 'this component is now available in global scope');\n                window.link = self;\n                self.$node.classList.toggle('wired');\n            }\n        }\n\n        event.stopPropagation();\n    });\n\n    if ( DEVELOP ) {\n        // expose inner ID to global scope\n        window[self.id] = self.$node;\n\n        // expose a link\n        this.$node.component = this.$body.component = this;\n        this.$node.title = this.name + '#' + this.id + ' (outer)';\n        this.$body.title = this.name + '#' + this.id + ' (inner)';\n    }\n\n    debug.info('create component ' + this.name + '#' + this.id, null, {\n        tags: ['create', 'component', this.name, this.id]\n    });\n}\n\n\n// inheritance\nComponent.prototype = Object.create(Emitter.prototype);\nComponent.prototype.constructor = Component;\n\n\n/**\n * List of all default event callbacks.\n *\n * @type {Object.<string, function>}\n */\nComponent.prototype.defaultEvents = null;\n\n\n/**\n * Add a new component as a child.\n *\n * @param {...Component} [child] variable number of elements to append\n *\n * @files Component#add\n *\n * @example\n * panel.add(\n *     new Button( ... ),\n *     new Button( ... )\n * );\n */\nComponent.prototype.add = function ( child ) {\n    var index;\n\n    // walk through all the given elements\n    for ( index = 0; index < arguments.length; index++ ) {\n        child = arguments[index];\n\n        if ( DEVELOP ) {\n            if ( !(child instanceof Component) ) {\n                throw new Error(__filename + ': wrong child type');\n            }\n        }\n\n        // apply\n        this.children.push(child);\n        child.parent = this;\n\n        // correct DOM parent/child connection if necessary\n        if ( child.$node && child.$node.parentNode === null ) {\n            this.$body.appendChild(child.$node);\n        }\n\n        debug.info('add component ' + child.name + '#' + child.id + ' to ' + this.name + '#' + this.id, null, {\n            tags: ['add', 'component', this.name, this.id, child.name, child.id]\n        });\n\n        // there are some listeners\n        if ( this.events['add'] ) {\n            /**\n             * A child component is added.\n             *\n             * @event module:stb/component~Component#add\n             *\n             * @type {Object}\n             * @property {Component} item new component added\n             */\n            this.emit('add', {item: child});\n        }\n\n        //debug.log('component ' + this.name + '#' + this.id + ' new child: ' + child.name + '#' + child.id);\n    }\n};\n\n\n/* @todo: consider activation in future */\n///**\n// * Insert component into the specific position.\n// *\n// * @param {Component} child component instance to insert\n// * @param {number} index insertion position\n// */\n//Component.prototype.insert = function ( child, index ) {\n//    var prevIndex = this.children.indexOf(child);\n//\n//    if ( DEVELOP ) {\n//        if ( arguments.length !== 2 ) { throw new Error(__filename + ': wrong arguments number'); }\n//        if ( !(child instanceof Component) ) { throw new Error(__filename + ': wrong child type'); }\n//    }\n//\n//    if ( prevIndex !== -1 ) {\n//        this.children.splice(prevIndex, 1);\n//        this.$body.removeChild(child.$node);\n//    }\n//\n//    if ( index === this.children.length ) {\n//        this.$body.appendChild(child.$node);\n//    } else {\n//        this.$body.insertBefore(child.$node, this.$body.children[index]);\n//    }\n//    this.children.splice(index, 0, child);\n//\n//    if ( !child.parent ) {\n//        child.parent = this;\n//    }\n//};\n\n\n/**\n * Delete this component and clear all associated events.\n *\n * @fires module:stb/component~Component#remove\n */\nComponent.prototype.remove = function () {\n    // really inserted somewhere\n    if ( this.parent ) {\n        if ( DEVELOP ) {\n            if ( !(this.parent instanceof Component) ) {\n                throw new Error(__filename + ': wrong this.parent type');\n            }\n        }\n\n        // active at the moment\n        if ( app.activePage.activeComponent === this ) {\n            this.blur();\n            this.parent.focus();\n        }\n        this.parent.children.splice(this.parent.children.indexOf(this), 1);\n    }\n\n    // remove all children\n    this.children.forEach(function ( child ) {\n        if ( DEVELOP ) {\n            if ( !(child instanceof Component) ) {\n                throw new Error(__filename + ': wrong child type');\n            }\n        }\n\n        child.remove();\n    });\n\n    this.$node.parentNode.removeChild(this.$node);\n\n    // there are some listeners\n    if ( this.events['remove'] ) {\n        /**\n         * Delete this component.\n         *\n         * @event module:stb/component~Component#remove\n         */\n        this.emit('remove');\n    }\n\n    // remove all listeners\n    this.events = {};\n\n    //debug.log('component ' + this.name + '#' + this.id + ' remove', 'red');\n    debug.info('remove component ' + this.name + '#' + this.id, null, {\n        tags: ['remove', 'component', this.name, this.id]\n    });\n};\n\n\n/**\n * Activate the component.\n * Notify the owner-page and apply CSS class.\n *\n * @param {Object} [data] custom data which passed into handlers\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/component~Component#focus\n */\nComponent.prototype.focus = function ( data ) {\n    var activePage = app.activePage,\n        activeItem = activePage.activeComponent;\n\n    // this is a visual component on a page\n    // not already focused and can accept focus\n    if ( this.focusable && this !== activeItem ) {\n        // notify the current active component\n        if ( activeItem ) { activeItem.blur(); }\n\n        /* eslint consistent-this: 0 */\n\n        // apply\n        activePage.activeComponent = activeItem = this;\n        activeItem.$node.classList.add('focus');\n\n        //debug.log('component ' + this.name + '#' + this.id + ' focus');\n        debug.info('focus component ' + this.name + '#' + this.id, null, {\n            tags: ['focus', 'component', this.name, this.id]\n        });\n\n        // there are some listeners\n        if ( activeItem.events['focus'] ) {\n            /**\n             * Make this component focused.\n             *\n             * @event module:stb/component~Component#focus\n             */\n            activeItem.emit('focus', data);\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n/**\n * Remove focus.\n * Change page.activeComponent and notify subscribers.\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/component~Component#blur\n */\nComponent.prototype.blur = function () {\n    var activePage = app.activePage,\n        activeItem = activePage.activeComponent;\n\n    // apply visuals anyway\n    this.$node.classList.remove('focus');\n\n    // this is the active component\n    if ( this === activeItem ) {\n        activePage.activeComponent = null;\n\n        //debug.log('component ' + this.name + '#' + this.id + ' blur', 'grey');\n        debug.info('blur component ' + this.name + '#' + this.id, null, {\n            tags: ['blur', 'component', this.name, this.id]\n        });\n\n        // there are some listeners\n        if ( this.events['blur'] ) {\n            /**\n             * Remove focus from this component.\n             *\n             * @event module:stb/component~Component#blur\n             */\n            this.emit('blur');\n        }\n\n        return true;\n    }\n\n    debug.warn('component ' + this.name + '#' + this.id + ' attempt to blur without link to a page', null, {\n        tags: ['blur', 'component', this.name, this.id]\n    });\n\n    // nothing was done\n    return false;\n};\n\n\n/*function show ( self, data ) {\n    // correct style\n    self.$node.classList.remove('hidden');\n    // flag\n    self.visible = true;\n\n    debug.info('show component ' + self.name + '#' + self.id, null, {\n        tags: ['show', 'component', self.name, self.id]\n    });\n\n    // there are some listeners\n    if ( self.events['show'] ) {\n        /!**\n         * Make the component visible.\n         *\n         * @event module:stb/component~Component#show\n         *!/\n        self.emit('show', data);\n    }\n}*/\n\n/**\n * Make the component visible and notify subscribers.\n *\n * @param {Object} [data] custom data which passed into handlers\n * @param {function} [callback] user callback\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/component~Component#show\n */\nComponent.prototype.show = function ( data, callback ) {\n    //var self = this;\n\n    // is it hidden\n    if ( !this.visible ) {\n        /*if ( typeof callback === 'function' ) {\n            // async call\n            setTimeout(function () {\n                show(self, data);\n                callback();\n            });\n        } else {\n            // sync call\n            show(this, data);\n        }*/\n\n        // correct style\n        this.$node.classList.remove('hidden');\n        // flag\n        this.visible = true;\n\n        debug.info('show component ' + this.name + '#' + this.id, null, {\n            tags: ['show', 'component', this.name, this.id]\n        });\n\n        // there are some listeners\n        if ( this.events['show'] ) {\n            /**\n             * Make the component visible.\n             *\n             * @event module:stb/component~Component#show\n             */\n            this.emit('show', data);\n        }\n\n        // async call\n        if ( typeof callback === 'function' ) {\n            // async call\n            setTimeout(callback);\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n/**\n * Make the component hidden and notify subscribers.\n *\n * @param {function} [callback] user callback\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/component~Component#hide\n */\nComponent.prototype.hide = function ( callback ) {\n    // is it visible\n    if ( this.visible ) {\n        // correct style\n        this.$node.classList.add('hidden');\n        // flag\n        this.visible = false;\n\n        debug.info('hide component ' + this.name + '#' + this.id, null, {\n            tags: ['hide', 'component', this.name, this.id]\n        });\n\n        // there are some listeners\n        if ( this.events['hide'] ) {\n            /**\n             * Make the component hidden.\n             *\n             * @event module:stb/component~Component#hide\n             */\n            this.emit('hide');\n        }\n\n        // async call\n        if ( typeof callback === 'function' ) {\n            // async call\n            setTimeout(callback);\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n// public\nmodule.exports = Component;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n// public\nmodule.exports = require('spa-component');\n","/**\n * @license The MIT License (MIT)\n * @copyright Boris Aleynikov <aleynikov.boris@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar List = require('mag-component-list'),\n    Layout = require('mag-component-layout');\n\n/**\n *  Layout list contains array of layout components\n *\n * @constructor\n * @extends List\n *\n * @param {Object} config object\n * @param {Element} [config.noData=''] element or string to display if set empty data\n *\n * @example\n * var LayoutList = require('mag-component-layout-list'),\n *     list = new LayoutList({\n *         propagate: true,\n *         size: 7,\n *         focusIndex: 0,\n *         noData: 'No channels'\n *         data: [\n *                 {\n *                     items: [\n *                         {\n *                             className: 'star',\n *                             name: '$text'\n *                         },\n *                         'Some text'\n *                     ],\n *                     click: function () {\n *                         // do something\n *                     },\n *                     name: 'starItem'\n *                 },\n *                 {\n *                     items: [\n *                         'Hello world',\n *                         {\n *                             value: 'hi',\n *                             className: 'status'\n *                         }\n *                     ],\n *                     value:{\n *                         uri: 'http://55.55.55.55/some'\n *                     },\n *                     click: someHandler\n *                 },\n *                 {\n *                     items: [\n *                         {\n *                             className: 'big',\n *                             value: ' Some'\n *                         },\n *                         {\n *                             value: new Input()\n *                         }\n *                     ]\n *                 },\n *                 {\n *                     items: [\n *                         new Button({value: 'Ok'}),\n *                         new Button({value: 'Cancel'}),\n *                         new Button({value: 'Exit'})\n *                     ]\n *                 }\n *             ]\n * });\n *\n * list.links.starItem.links.$text.innerText = 'new Text';\n *\n */\nfunction LayoutList ( config ) {\n    var self = this;\n\n    config = config || {};\n\n    /**\n     * Elements handlers\n     */\n    this.handlers = {};\n\n    /**\n     * Hash map of layouts links\n     */\n    this.links = {};\n\n    /**\n     * No data placeholder\n     *\n     * @type {Element}\n     */\n    this.$noData = null;\n\n    //config.className = 'layoutList ' + (config.className || '');\n\n    config.propagate = config.propagate === undefined ? true : config.propagate;\n\n    /**\n     * Set data layout to be fixed to cache HTML elements\n     *\n     * @type {boolean|*}\n     */\n    this.fixedData = config.fixedData || false;\n\n    //config.$body = document.createElement('div');\n\n    config.$body = document.createElement('div');\n    config.$body.className = 'body';\n\n    this.$noData = document.createElement('div');\n    this.$noData.className = 'noData hidden';\n\n    List.call(this, config);\n\n    this.$node.appendChild(this.$body);\n    this.$node.appendChild(this.$noData);\n\n    // add handler to focus inner layout\n    this.addListener('click:item', function ( event ) {\n        // focus inner layout of item\n        if ( event.$item.layout.children.length && !event.inner ) {\n            event.$item.layout.children[event.$item.layout.focusIndex].focus();\n        }\n\n        // only focus item if we click mouse\n        if ( event.inner ) {\n            self.focus();\n            self.focusItem(event.$item);\n        }\n        // do click callback if it present\n        if ( self.handlers[event.$item.index] ) {\n            self.handlers[event.$item.index](event.$item);\n        }\n    });\n}\n\n\nLayoutList.prototype = Object.create(List.prototype);\nLayoutList.prototype.constructor = LayoutList;\n\n// set component name\nLayoutList.prototype.name = 'mag-component-layout-list';\n\n\n/*eslint id-length:0*/\n/**\n * Default render function\n *\n * @param {Element} $item in list\n * @param {Object} config to render layout element\n */\nLayoutList.prototype.renderItemDefault = function ( $item, config ) {\n    var layout, layoutConfig,\n        currentNode,\n        currentData,\n        i;\n\n    if ( $item.ready && this.fixedData ) {\n        for ( i = 0; i < config.items.length; i++ ) {\n            currentData = config.items[i];\n            if ( typeof currentData.value === 'string' || currentData.value === undefined ) {\n                currentNode = $item.layout.$node.childNodes[i];\n                currentNode.innerText = currentData.value || '';\n                currentNode.className = currentData.className || '';\n            }\n        }\n    } else {\n        // clear inner content\n        while ( $item.firstChild ) {\n            $item.removeChild($item.firstChild);\n        }\n\n        layoutConfig = {\n            focusable: false,\n            data: config.items\n        };\n\n        if ( config.className ) {\n            layoutConfig.className = config.className;\n        }\n\n        layout = new Layout(layoutConfig);\n\n        if ( config.name ) {\n            this.links[config.name] = layout;\n        }\n\n        $item.appendChild(layout.$node);\n        $item.layout = layout;\n        layout.parent = this;\n        layout.$parentItem = $item;\n\n        // focus layoutList if click on layout\n        layout.addListener('click', function () {\n            // add inner property to set that event comes from inner component\n            layout.parent.emit('click:item', {$item: $item, inner: true});\n        });\n\n        if ( config.click ) {\n            this.handlers[$item.index] = config.click;\n        }\n        // item is rendered\n        $item.ready = true;\n    }\n    $item.value = config.value || {};\n};\n\n\nLayoutList.prototype.setData = function ( config ) {\n    this.links = {};\n    List.prototype.setData.call(this, config);\n\n    if ( config.data && config.data.length ) {\n        this.$noData.classList.add('hidden');\n    } else {\n        this.$noData.classList.remove('hidden');\n    }\n};\n\n\nLayoutList.prototype.init = function ( config ) {\n    var $wrap;\n\n    List.prototype.init.call(this, config);\n    if ( config.noData ) {\n        if ( DEVELOP ) {\n            if ( typeof config.noData !== 'string' && !(config.noData instanceof Element) ) {\n                throw new Error(__filename + ': wrong config.$noData type');\n            }\n        }\n\n        this.$noData.innerHTML = '';\n        if ( config.noData instanceof Element ) {\n            this.$noData.appendChild(config.noData);\n        } else if ( typeof config.noData === 'string' ) {\n            $wrap = document.createElement('div');\n            $wrap.innerText = config.noData;\n            this.$noData.appendChild($wrap);\n        }\n    }\n\n    if ( config.data && config.data.length ) {\n        this.$noData.classList.add('hidden');\n    } else {\n        this.$noData.classList.remove('hidden');\n    }\n};\n\nLayoutList.prototype.renderItem = LayoutList.prototype.renderItemDefault;\n\n\nmodule.exports = LayoutList;\n","/**\n * @license The MIT License (MIT)\n * @copyright Boris Aleynikov <aleynikov.boris@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('stb-component'),\n    keys      = require('stb-keys');\n\n/**\n * Layout component implementation\n *\n * @constructor\n * @extends Component\n *\n * @param {Object}   [config={}]          init parameters (all inherited from the parent)\n * @param {Array} [config.data] array of items to add to layout\n */\nfunction Layout ( config ) {\n    var self = this;\n\n    // sanitize\n    config = config || {};\n\n    /**\n     * Index of focused child component\n     * @type {number}\n     */\n    this.focusIndex = 0;\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && config.className !== undefined && typeof config.className !== 'string' ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n    }\n\n    //config.className = 'layout ' + (config.className || '');\n\n    /**\n     * Component data\n     * @type {Array}\n     */\n    this.data = [];\n\n    /**\n     *  Hash map of item links\n     */\n    this.links = {};\n\n    Component.call(this, config);\n\n    this.init(config);\n\n    // add listener to move focus between children\n    this.addListener('keydown', function ( event ) {\n        switch ( event.code ) {\n            case keys.right:\n                if ( self.children.length && self.focusIndex < self.children.length - 1 ) {\n                    self.children[++self.focusIndex].focus();\n                }\n                break;\n            case keys.left:\n                if ( self.children.length && self.focusIndex > 0 ) {\n                    self.children[--self.focusIndex].focus();\n                }\n                break;\n            case keys.back:\n                // focus parent focused item if parent is layout list\n                if ( self.parent ) {\n                    self.parent.focus();\n                    if ( self.$parentItem ) {\n                        self.parent.focusItem(self.$parentItem);\n                    }\n                }\n                break;\n        }\n    });\n}\n\n\nLayout.prototype = Object.create(Component.prototype);\nLayout.prototype.constructor = Layout;\n\n// set component name\nLayout.prototype.name = 'mag-component-layout';\n\n\n/**\n * Make all the data items identical.\n * Wrap to objects if necessary.\n *\n * @param {Array} data incoming array\n * @return {Array} reworked incoming data\n */\nfunction normalize ( data ) {\n    var index, item;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( !Array.isArray(data) ) {\n            throw new Error(__filename + ': wrong data type');\n        }\n    }\n\n    // rows\n    for ( index = 0; index < data.length; index++ ) {\n        // cell value\n        item = data[index];\n        // plain text\n        if ( typeof item === 'object' ) {\n            // HTML element or component\n            if ( item instanceof Component || item instanceof HTMLElement ) {\n                data[index] = {\n                    value: item,\n                    wrap: false\n                };\n            } else {\n                data[index].wrap = true;\n            }\n        } else {\n            // wrap with defaults\n            data[index] = {\n                value: data[index],\n                wrap: true\n            };\n        }\n    }\n\n    return data;\n}\n\n\n/**\n * Init or re-init of the component inner structures and HTML.\n *\n * @param {Object} config init parameters (subset of constructor config params)\n */\nLayout.prototype.init = function ( config ) {\n    var self = this,\n        data = normalize(config.data),\n        item, $wrapper, index;\n\n    // clear element if reinit\n    while (this.$node.firstChild) {\n        this.$node.removeChild(this.$node.firstChild);\n    }\n\n    this.data = data;\n\n    /**\n     * @this Component\n     */\n    function componentClickHandler () {\n        self.focusIndex = this.index;\n    }\n\n    for ( index = 0; index < data.length; index++ ) {\n        item = data[index];\n        // plain text\n        if ( typeof item.value === 'string' ) {\n            $wrapper = document.createElement('div');\n            $wrapper.textContent = item.value;\n            if ( item.className ) { $wrapper.className = item.className; }\n            this.$node.appendChild($wrapper);\n            if ( item.name ) {\n                this.links[item.name] = $wrapper;\n            }\n        } else if ( item.value instanceof HTMLElement ) {\n            // HTML Element\n\n            // if with wrapper\n            if ( item.wrap ) {\n                $wrapper = document.createElement('div');\n                if ( item.className ) { $wrapper.className = item.className; }\n                $wrapper.appendChild(item.value);\n                this.$node.appendChild($wrapper);\n                if ( item.name ) {\n                    this.links[item.name] = $wrapper;\n                }\n            } else {\n                // without wrapper\n                this.$node.appendChild(item.value);\n                if ( item.name ) {\n                    this.links[item.name] = item.value;\n                }\n            }\n        } else if ( item.value instanceof Component ) {\n            // component\n            // force propagate events\n            item.value.propagate = true;\n\n            // set index to current component\n            item.value.index = this.children.length;\n\n            // change layout focus index if click component\n            item.value.addListener('click', componentClickHandler);\n\n            // append component\n            if ( item.wrap ) {\n                // with wrapper\n                $wrapper = document.createElement('div');\n                if ( item.className ) { $wrapper.className = item.className; }\n                $wrapper.appendChild(item.value.$node);\n                this.$node.appendChild($wrapper);\n                this.children.push(item.value);\n                item.value.parent = this;\n                if ( item.name ) {\n                    this.links[item.name] = $wrapper;\n                }\n            } else {\n                // without wrapper\n                this.add(item.value);\n                if ( item.name ) {\n                    this.links[item.name] = item.value;\n                }\n            }\n        } else {\n            $wrapper = document.createElement('div');\n            if ( item.className ) { $wrapper.className = item.className; }\n            this.$node.appendChild($wrapper);\n            if ( item.name ) {\n                this.links[item.name] = $wrapper;\n            }\n        }\n    }\n};\n\n\nmodule.exports = Layout;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nvar app = require('./lib/main');\n\n\nmodule.exports = app;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n// public\nmodule.exports = require('spa-component-page');\n\n// correct component name\nmodule.exports.prototype.name = 'stb-component-page';\n","/**\n * @license The MIT License (MIT)\n * @copyright Dmitry Fedotov <bas.jsdev@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('stb-component'),\n    keys      = require('stb-keys'),\n    classes   = {};\n\n\n// initialize classes\nclasses[keys.f1] = 'theme-icon-rc-f1';\nclasses[keys.f2] = 'theme-icon-rc-f2';\nclasses[keys.f3] = 'theme-icon-rc-f3';\nclasses[keys.f4] = 'theme-icon-rc-f4';\nclasses[keys.menu] = 'theme-icon-rc-menu';\nclasses[keys.ok] = 'theme-icon-rc-ok';\nclasses[keys.info] = 'theme-icon-rc-info';\nclasses[keys.playPause] = 'theme-icon-rc-play-pause';\nclasses[keys.back] = 'theme-icon-rc-back';\nclasses[keys.exit] = 'theme-icon-rc-home';\nclasses[keys.keyboard] = 'theme-icon-rc-vk';\nclasses[keys.refresh] = 'theme-icon-rc-refresh';\nclasses[keys.frame] = 'theme-icon-rc-aspect';\n\n/**\n * Footer.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object}  config={} - init parameters\n * @param {Object}  config.parent - parent page\n * @param {boolean} [config.visible] - visibility flag\n * @param {Object}  [config.data] - footer buttons config\n * @param {Object}  [config.data.left] - left button config\n * @param {Object}  [config.data.middle] - middle buttons config\n * @param {Object}  [config.data.right] - right button config\n * @param {number}  [config.data.middle.code] - button key code\n * @param {Object}  [config.data.middle.title] - button title\n * @param {Object}  [config.data.middle.action] - button press (click) action\n * @param {Object}  [config.data.label] - button config (for remote control with long press)\n * @param {number}  [config.data.label.code] - button key code\n * @param {Object}  [config.data.label.title] - button title\n * @param {Object}  [config.data.label.action] - button press (click) action\n *\n * @example\n * page.footer = new Footer({\n *     parent: page,\n *     data: {\n *         left: {\n *             code: keys.menu, action: function () {}\n *         },\n *         middle: [\n *             {code: 55, action: function () {}},\n *             {code: keys.f1, title: 'stop', action: function () {}},\n *             {code: 9000, className: 'customIcon', title: 'start', action: function () {}},\n *             {code: keys.f4, title: 'end', action: function () {}}\n *         ],\n *         right: {\n *             code: 65, action: function () {}\n *         },\n *         label: {\n *             code: keys.menu, title: 'Hold OK button to open the task options', action: function () {}\n *         }\n *     }\n * });\n */\n\n/* eslint max-statements: 0 */\nfunction Footer ( config ) {\n    var currentTab = 0,\n        self       = this,\n        $body;\n\n    // sanitize\n    config = config || {};\n    // can't accept focus\n    config.focusable = false;\n    // hide by default\n    config.visible = config.visible || false;\n    // create centered div\n    config.$body = document.createElement('div');\n    config.$body.className = 'body';\n\n    // parent constructor call\n    Component.call(this, config);\n\n    this.tabs = [\n        {codes: {}},\n        {codes: {}},\n        {codes: {}},\n        {codes: {}}\n    ];\n\n    this.tab = 0;\n\n    this.$table = this.$node.appendChild(document.createElement('table'));\n    this.$table.insertRow();\n    this.$table.rows[0].insertCell(-1);\n\n    if ( TARGET !== 'android-stb' && TARGET !== 'android-app' ) {\n        this.$table.rows[0].insertCell(-1);\n        this.$table.rows[0].insertCell(-1);\n\n        this.$left = this.$table.rows[0].cells[0].appendChild(document.createElement('div'));\n        this.$left.className = 'theme-icon';\n\n        this.$table.rows[0].cells[1].className = 'central';\n        $body = this.tabs[currentTab].$body = this.$table.rows[0].cells[1].appendChild(document.createElement('div'));\n    } else {\n        this.$table.rows[0].cells[0].className = 'central noButtons';\n        $body = this.tabs[currentTab].$body = this.$table.rows[0].cells[0].appendChild(document.createElement('div'));\n    }\n\n    $body.className = 'wrapper hidden';\n    $body.appendChild(document.createElement('div'));\n    $body.lastChild.className = 'button';\n    $body.lastChild.appendChild(document.createElement('div'));\n\n    if ( TARGET !== 'android-stb' && TARGET !== 'android-app' ) {\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.lastChild.className = 'title';\n        $body = this.tabs[++currentTab].$body = this.$table.rows[0].cells[1].appendChild(document.createElement('div'));\n        $body.className = 'wrapper hidden';\n        $body.appendChild(document.createElement('div'));\n        $body.lastChild.className = 'button';\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.lastChild.className = 'title';\n        $body.appendChild(document.createElement('div'));\n        $body.lastChild.className = 'button';\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.lastChild.className = 'title';\n\n        $body = this.tabs[++currentTab].$body = this.$table.rows[0].cells[1].appendChild(document.createElement('div'));\n        $body.className = 'wrapper hidden';\n        $body.appendChild(document.createElement('div'));\n        $body.lastChild.className = 'button';\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.lastChild.className = 'title';\n        $body.appendChild(document.createElement('div'));\n        $body.lastChild.className = 'button';\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.lastChild.className = 'title';\n        $body.appendChild(document.createElement('div'));\n        $body.lastChild.className = 'button';\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.lastChild.className = 'title';\n\n        $body = this.tabs[++currentTab].$body = this.$table.rows[0].cells[1].appendChild(document.createElement('div'));\n        $body.className = 'wrapper hidden';\n        $body.appendChild(document.createElement('div'));\n        $body.lastChild.className = 'button';\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.lastChild.className = 'title';\n        $body.appendChild(document.createElement('div'));\n        $body.lastChild.className = 'button';\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.lastChild.className = 'title';\n        $body.appendChild(document.createElement('div'));\n        $body.lastChild.className = 'button';\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.lastChild.className = 'title';\n        $body.appendChild(document.createElement('div'));\n        $body.lastChild.className = 'button';\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.appendChild(document.createElement('div'));\n        $body.lastChild.lastChild.className = 'title';\n\n\n        this.$right = this.$table.rows[0].cells[2].appendChild(document.createElement('div'));\n        this.$right.className = 'theme-icon';\n    } else {\n        $body.lastChild.lastChild.className = 'title label';\n    }\n\n    this.init(config.data);\n\n    this.parent.addListener('keydown', function ( event ) {\n        var currTab = self.tabs[self.tab];\n\n        if ( self.visible ) {\n            if ( currTab.codes[event.code] && typeof currTab.codes[event.code].action === 'function' ) {\n                currTab.codes[event.code].action();\n            }\n        }\n    });\n}\n\n\n// inheritance\nFooter.prototype = Object.create(Component.prototype);\nFooter.prototype.constructor = Footer;\n\n// set component name\nFooter.prototype.name = 'mag-component-footer';\n\n\nif ( TARGET !== 'android-stb' && TARGET !== 'android-app' ) {\n    /**\n     * Redefine buttons\n     *\n     * @param {Object} [config] - footer buttons config\n     * @param {Object} [config.left] - left button config\n     * @param {number} [config.left.code] - left button key code\n     * @param {boolean} [config.left.disabled] - left button is disabled\n     * @param {Object} [config.left.action] - left button press (click) action\n     * @param {Object} [config.middle] - middle buttons config\n     * @param {Object} [config.right] - right button config\n     * @param {number} [config.right.code] - right button key code\n     * @param {boolean} [config.right.disabled] - right button is disabled\n     * @param {Object} [config.right.action] - right button press (click) action\n     * @param {number} [config.middle.code] - button key code\n     * @param {Object} [config.middle.title] - button title\n     * @param {boolean} [config.middle.disabled] - button is disabled\n     * @param {Object} [config.middle.action] - button press (click) action\n     * @param {Object} [config.label] - button config\n     * @param {number} [config.label.code] - button key code\n     * @param {Object} [config.label.title] - button title\n     * @param {Object} [config.label.action] - button press (click) action\n     *\n     * page.Footer.init({\n     *     left: {\n     *         code: keys.menu, action: function () {}\n     *     },\n     *     middle: [\n     *         {code: 55, action: function () {}},\n     *         {code: keys.f1, title: 'stop', action: function () {}},\n     *         {code: 9000, className: 'customIcon', title: 'start', action: function () {}},\n     *         {code: keys.f4, title: 'end', disabled: true}\n     *     ],\n     *     right: {\n     *         code: 65, action: function () {}\n     *     }\n     * });\n     *\n     */\n    Footer.prototype.init = function ( config ) {\n        var index, $tab, $tabChildren;\n\n        config = config || {};\n\n        if ( DEVELOP ) {\n            if ( config.middle && config.middle.length > 4 ) {\n                throw new Error(__filename + ': only 4 buttons allowed in footer');\n            }\n            if ( config.middle && Array.isArray(config.middle) ) {\n                for ( index = 0; index < config.middle.length; index++ ) {\n                    if ( typeof config.middle[index].action !== 'function' && !config.middle[index].disabled ) {\n                        throw new Error(__filename + ': action must be a function');\n                    }\n                    ++index;\n                }\n            }\n            if ( config.left && typeof config.left.action !== 'function' && !config.left.disabled ) {\n                throw new Error(__filename + ': action must be a function');\n            }\n            if ( config.right && typeof config.right.action !== 'function' && !config.right.disabled ) {\n                throw new Error(__filename + ': action must be a function');\n            }\n        }\n\n        // hide old tab\n        this.tabs[this.tab].$body.classList.add('hidden');\n        this.tab = config.middle && config.middle.length ? config.middle.length - 1 : 0;\n        // current tab shortcut\n        $tab = this.tabs[this.tab];\n        // reset all actions\n        $tab.codes = {};\n\n        // left button\n        if ( config.left ) {\n            this.$left.className = config.left.className || ('theme-icon ' + (classes[config.left.code] || 'theme-icon-warning'));\n            if ( config.left.disabled ) {\n                this.$left.classList.add('disabled');\n            } else {\n                $tab.codes[config.left.code] = {action: config.left.action};\n                this.$left.style.visibility = 'inherit';\n                this.$left.onclick = function () {\n                    if ( typeof config.left.action === 'function' ) {\n                        config.left.action();\n                    }\n                };\n            }\n        } else if ( this.$left.style.visibility !== 'hidden' ) {\n            this.$left.style.visibility = 'hidden';\n        }\n\n        // right button\n        if ( config.right ) {\n            this.$right.className = config.right.className || ('theme-icon ' + (classes[config.right.code] || 'theme-icon-warning'));\n            if ( config.right.disabled ) {\n                this.$right.classList.add('disabled');\n            } else {\n                $tab.codes[config.right.code] = {action: config.right.action};\n                this.$right.style.visibility = 'inherit';\n                this.$right.onclick = function () {\n                    if ( typeof config.right.action === 'function' ) {\n                        config.right.action();\n                    }\n                };\n            }\n        } else if ( this.$right.style.visibility !== 'hidden' ) {\n            this.$right.style.visibility = 'hidden';\n        }\n\n        function addClick ( ind ) {\n            return function () {\n                if ( typeof config.middle[ind].action === 'function' ) {\n                    config.middle[ind].action();\n                }\n            };\n        }\n\n        // middle buttons\n        if ( config.middle && config.middle.length ) {\n            for ( index = 0; index < config.middle.length; index++ ) {\n                $tab.codes[config.middle[index].code] = {action: config.middle[index].action};\n                if ( config.middle[index].disabled ) {\n                    $tab.$body.children[index].classList.add('disabled');\n                } else {\n                    $tab.$body.children[index].classList.remove('disabled');\n                    $tab.$body.children[index].onclick = addClick(index);\n                }\n                // shortcut\n                $tabChildren = $tab.$body.children[index].children;\n                $tabChildren[0].className = 'iconImg ' +\n                    (config.middle[index].className || ('theme-icon ' + (classes[config.middle[index].code] || 'theme-icon-warning')));\n\n                $tabChildren[1].innerText = config.middle[index].title || '';\n            }\n            $tab.$body.classList.remove('hidden');\n        }\n    };\n} else {\n    /**\n     * Redefine buttons for android\n     *\n     * @param {Object} [config] - footer config\n     * @param {Object} [config.label] - button config\n     * @param {number} [config.label.code] - button key code\n     * @param {Object} [config.label.title] - button title\n     * @param {Object} [config.label.action] - button press (click) action\n     *\n     * initLongPressMode({\n     *     label: {code: keys.menu, title: 'Hold OK button to open the task options', action: function () {}}\n     * });\n     *\n     */\n    Footer.prototype.init = function ( config ) {\n        var $tab, $tabChildren;\n\n        config = config || {};\n\n        // current tab shortcut\n        $tab = this.tabs[0];\n        // reset\n        $tab.codes = {};\n        $tab.$body.classList.add('hidden');\n\n        if ( config.label && typeof config.label.action === 'function' ) {\n            // label button\n            $tab.codes[config.label.code] = {action: config.label.action};\n            $tab.$body.children[0].onclick = function () {\n                if ( typeof config.label.action === 'function' ) {\n                    config.label.action();\n                }\n            };\n            // shortcut\n            $tabChildren = $tab.$body.children[0].children;\n            // $tabChildren[0].className = '';\n            $tabChildren[0].innerText = config.label.title || '';\n\n            $tab.$body.classList.remove('hidden');\n        }\n    };\n}\n\n\n// public\nmodule.exports = Footer;\n","/**\n * @license The MIT License (MIT)\n * @copyright Dmitry Fedotov <bas.jsdev@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\n\nvar StbComponentModal = require('stb-component-modal'),\n    Component         = require('stb-component'),\n    keys              = require('stb-keys');\n\n\n/**\n * Modal window implementation.\n *\n * @constructor\n * @extends StbComponentModal\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n * @param {Object} [config.title] message title\n * @param {Object} [config.className] message classname\n * @param {Object} [config.icon] icon at header\n * @param {Object} [config.visible] visibility flag\n * @param {Object} [config.children] content (inherited from the parent)\n *\n * @example\n * var modalSort = new Modal({\n *     visible: false,\n *     title: 'sort',\n *     events: {\n *         show: function () {\n *             list.focus();\n *         },\n *         hide: function () {\n *             page.panelSet.focus();\n *         }\n *     },\n *     children: [list = new RadioList({})]\n * });\n * page.add(modalSort);\n */\nfunction Modal ( config ) {\n    var self = this,\n        $overlay, $body, onkeydown;\n\n    // sanitize\n    config = config || {};\n    config.events = config.events || {};\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( config.icon && typeof config.icon !== 'string' ) {\n            throw new Error(__filename + ': wrong or empty config.icon');\n        }\n        if ( config.title && typeof config.title !== 'string' ) {\n            throw new Error(__filename + ': wrong or empty config.title');\n        }\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        if ( config.$body ) {\n            throw new Error(__filename + ': config.$body should not be provided in Modal manually');\n        }\n    }\n\n    // usually can't accept focus\n    config.focusable = config.focusable || false;\n    // hide by default\n    config.visible = config.visible || false;\n    // add default close by click\n    config.events.click = config.events.click || function () { self.hide(); };\n    // add close window behavior, when pushed a back button or a menu button\n    onkeydown = config.events.keydown;\n    config.events.keydown = function ( event ) {\n        if ( onkeydown ) {\n            onkeydown.call(this, event);\n        }\n        if ( event.code === keys.back || event.code === keys.menu ) {\n            event.stop = true;\n            self.hide();\n        }\n    };\n\n    // parent constructor call\n    StbComponentModal.call(this, config);\n\n    // add table-cell wrappers\n    this.$node.appendChild(document.createElement('div'));\n    this.$node.firstChild.classList.add('alignBox');\n    this.$node.firstChild.appendChild(document.createElement('div'));\n\n    // add header div\n    this.$header = document.createElement('div');\n    this.$header.className = 'header';\n\n    // insert caption placeholder\n    this.$text = this.$header.appendChild(document.createElement('div'));\n    this.$text.classList.add('text');\n    this.$text.innerText = config.title || '';\n\n    // optional icon\n    if ( config.icon ) {\n        this.$icon = this.$header.appendChild(document.createElement('div'));\n        this.$icon.className = 'icon ' + config.icon;\n    }\n\n    $overlay = document.createElement('div');\n    $overlay.className = 'overlay';\n\n    // add to dom\n    // add body wrapper\n    $body = this.$body.parentNode.removeChild(this.$body);\n    this.$node.firstChild.firstChild.appendChild(this.$header);\n    this.$node.firstChild.firstChild.appendChild($body);\n    this.$node.firstChild.firstChild.appendChild($overlay);\n}\n\n\n// inheritance\nModal.prototype = Object.create(StbComponentModal.prototype);\nModal.prototype.constructor = Modal;\n\n// set component name\nModal.prototype.name = 'mag-component-modal';\n\n\n/**\n * Redefine default component focus to set additional css\n */\nModal.prototype.focus = function () {\n    this.$node.classList.add('active');\n    StbComponentModal.prototype.focus.call(this);\n    if ( this.children[0] && this.children[0] instanceof Component ) {\n        this.children[0].focus();\n    }\n};\n\n\n/**\n * Blur message\n */\nModal.prototype.blur = function () {\n    this.$node.classList.remove('active');\n    StbComponentModal.prototype.blur.call(this);\n};\n\n\n// public\nmodule.exports = Modal;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\n\n/**\n * Base Events Emitter implementation.\n *\n * @see http://nodejs.org/api/events.html\n * @constructor\n *\n * @example\n * var emitter = new Emitter();\n */\nfunction Emitter () {\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    // if ( DEVELOP ) {\n    //     if ( typeof this !== 'object' ) { throw new Error(__filename + ': must be constructed via new'); }\n    // }\n\n    /**\n     * Inner hash table for event names and linked callbacks.\n     * Manual editing should be avoided.\n     *\n     * @member {Object.<string, function[]>}\n     *\n     * @example\n     * {\n     *     click: [\n     *         function click1 () { ... },\n     *         function click2 () { ... }\n     *     ],\n     *     keydown: [\n     *         function () { ... }\n     *     ]\n     * }\n     **/\n    this.events = {};\n}\n\n\nEmitter.prototype = {\n    /**\n     * Bind an event to the given callback function.\n     * The same callback function can be added multiple times for the same event name.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to call on this event\n     *\n     * @example\n     * emitter.addListener('click', function ( data ) { ... });\n     * // one more click handler\n     * emitter.addListener('click', function ( data ) { ... });\n     */\n    addListener: function ( name, callback ) {\n        console.assert(arguments.length === 2, 'wrong arguments number');\n        console.assert(typeof name === 'string', 'wrong name type');\n        console.assert(name.length > 0, 'empty name');\n        console.assert(typeof callback === 'function', 'callback should be a function');\n\n        // if ( DEVELOP ) {\n        //     if ( arguments.length !== 2 ) { throw new Error(__filename + ': wrong arguments number'); }\n        //     if ( typeof name !== 'string' || name.length === 0 ) { throw new Error(__filename + ': wrong or empty name'); }\n        //     if ( typeof callback !== 'function' ) { throw new Error(__filename + ': wrong callback type'); }\n        // }\n\n        // initialization may be required\n        this.events[name] = this.events[name] || [];\n        // append this new event to the list\n        this.events[name].push(callback);\n    },\n\n\n    /**\n     * Add a one time listener for the event.\n     * This listener is invoked only the next time the event is fired, after which it is removed.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to call on this event\n     *\n     * @example\n     * emitter.once('click', function ( data ) { ... });\n     */\n    once: function ( name, callback ) {\n        // current execution context\n        var self = this;\n\n        if ( DEVELOP ) {\n            if ( arguments.length !== 2 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n            if ( typeof callback !== 'function' ) {\n                throw new Error(__filename + ': wrong callback type');\n            }\n        }\n\n        // initialization may be required\n        this.events[name] = this.events[name] || [];\n        // append this new event to the list\n        this.events[name].push(function onceWrapper () {\n            self.removeListener(name, onceWrapper);\n            callback.apply(self, arguments);\n        });\n    },\n\n\n    /**\n     * Apply multiple listeners at once.\n     *\n     * @param {Object} callbacks event names with callbacks\n     *\n     * @example\n     * emitter.addListeners({\n     *     click: function ( data ) {},\n     *     close: function ( data ) {}\n     * });\n     */\n    addListeners: function ( callbacks ) {\n        var name;\n\n        if ( DEVELOP ) {\n            if ( arguments.length !== 1 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof callbacks !== 'object' ) {\n                throw new Error(__filename + ': wrong callbacks type');\n            }\n            if ( Object.keys(callbacks).length === 0 ) {\n                throw new Error(__filename + ': no callbacks given');\n            }\n        }\n\n        for ( name in callbacks ) {\n            if ( callbacks.hasOwnProperty(name) ) {\n                this.addListener(name, callbacks[name]);\n            }\n        }\n    },\n\n\n    /**\n     * Remove all instances of the given callback.\n     *\n     * @param {string} name event identifier\n     * @param {function} callback function to remove\n     *\n     * @example\n     * emitter.removeListener('click', func1);\n     */\n    removeListener: function ( name, callback ) {\n        if ( DEVELOP ) {\n            if ( arguments.length !== 2 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n            if ( typeof callback !== 'function' ) {\n                throw new Error(__filename + ': wrong callback type');\n            }\n            if ( this.events[name] && !Array.isArray(this.events[name]) ) {\n                throw new Error(__filename + ': corrupted inner data');\n            }\n        }\n\n        // the event exists and should have some callbacks\n        if ( this.events[name] ) {\n            // rework the callback list to exclude the given one\n            this.events[name] = this.events[name].filter(function callbacksFilter ( fn ) { return fn !== callback; });\n            // event has no more callbacks so clean it\n            if ( this.events[name].length === 0 ) {\n                // as if there were no listeners at all\n                this.events[name] = undefined;\n            }\n        }\n    },\n\n\n    /**\n     * Remove all callbacks for the given event name.\n     * Without event name clears all events.\n     *\n     * @param {string} [name] event identifier\n     *\n     * @example\n     * emitter.removeAllListeners('click');\n     * emitter.removeAllListeners();\n     *\n     * @deprecated\n     */\n    /*removeAllListeners: function ( name ) {\n        if ( DEVELOP ) {\n            if ( arguments.length !== 0 && (typeof name !== 'string' || name.length === 0) ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n        }\n\n        // check input\n        if ( arguments.length === 0 ) {\n            // no arguments so remove everything\n            this.events = {};\n        } else if ( name ) {\n            if ( DEVELOP ) {\n                if ( this.events[name] ) { throw new Error(__filename + ': event is not removed'); }\n            }\n\n            // only name is given so remove all callbacks for the given event\n            // but object structure modification should be avoided\n            this.events[name] = undefined;\n        }\n    },*/\n\n\n    /**\n     * Execute each of the listeners in the given order with the supplied arguments.\n     *\n     * @param {string} name event identifier\n     *\n     * @example\n     * emitter.emit('init');\n     * emitter.emit('click', {src: panel1, dst: panel2});\n     * emitter.emit('load', error, data);\n     *\n     * // it's a good idea to emit event only when there are some listeners\n     * if ( this.events['click'] ) {\n     *     this.emit('click', {event: event});\n     * }\n     */\n    emit: function ( name ) {\n        var event = this.events[name],\n            index;\n\n        if ( DEVELOP ) {\n            if ( arguments.length < 1 ) {\n                throw new Error(__filename + ': wrong arguments number');\n            }\n            if ( typeof name !== 'string' || name.length === 0 ) {\n                throw new Error(__filename + ': wrong or empty name');\n            }\n        }\n\n        // the event exists and should have some callbacks\n        if ( event ) {\n            if ( DEVELOP ) {\n                if ( !Array.isArray(event) ) {\n                    throw new Error(__filename + ': wrong event type');\n                }\n            }\n\n            for ( index = 0; index < event.length; index++ ) {\n                if ( DEVELOP ) {\n                    if ( typeof event[index] !== 'function' ) {\n                        throw new Error(__filename + ': wrong event callback type');\n                    }\n                }\n\n                // invoke the callback with parameters\n                event[index].apply(this, Array.prototype.slice.call(arguments, 1));\n            }\n        }\n    }\n};\n\n\n// correct constructor name\nEmitter.prototype.constructor = Emitter;\n\n\n// public\nmodule.exports = Emitter;\n","/**\n * HTML elements low-level handling.\n *\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n/* eslint no-unused-vars: 0 */\n\n/**\n * DOM manipulation module\n */\nvar dom = {};\n\n\n/**\n * Create a new HTML element.\n *\n * @param {string} tagName mandatory tag name\n * @param {Object|null} [attrList] element attributes\n * @param {...*} [content] element content (primitive value/values or other nodes)\n * @return {Node|null} HTML element or null on failure\n *\n * @example\n * dom.tag('table');\n * dom.tag('div', {}, 'some text');\n * dom.tag('div', {className:'top'}, dom.tag('span'), dom.tag('br'));\n * dom.tag('link', {rel:'stylesheet', type:'text/css', href:'http://some.url/'});\n */\ndom.tag = function ( tagName, attrList, content ) {\n    var node = null,\n        index, name;\n\n    // minimal param is given\n    if ( tagName ) {\n        // empty element\n        node = document.createElement(tagName);\n\n        // optional attribute list is given\n        if ( attrList && typeof attrList === 'object' ) {\n            for ( name in attrList ) {\n                // extend a new node with the given attributes\n                node[name] = attrList[name];\n            }\n        }\n\n        // content (arguments except the first two)\n        for ( index = 2; index < arguments.length; index++ ) {\n            // some data is given\n            if ( arguments[index] ) {\n                // regular HTML tag or plain data\n                node.appendChild(\n                    typeof arguments[index] === 'object' ? arguments[index] : document.createTextNode(arguments[index])\n                );\n            }\n        }\n\n    }\n\n    return node;\n};\n\n\n/**\n * Create a new DocumentFragment filled with the given non-empty elements if any.\n *\n * @param {...*} [node] fragment content (primitive value/values or other nodes)\n * @return {DocumentFragment} new placeholder\n *\n * @example\n * // gives an empty fragment element\n * dom.fragment();\n * // gives a fragment element with 3 div element inside\n * dom.fragment(dom.tag('div'), div2, div3);\n * // mixed case\n * dom.fragment('some text', 123, div3);\n */\ndom.fragment = function ( node ) {\n    // prepare placeholder\n    var fragment = document.createDocumentFragment(),\n        index;\n\n    // walk through all the given elements\n    for ( index = 0; index < arguments.length; index++ ) {\n        node = arguments[index];\n        // some data is given\n        if ( node ) {\n            // regular HTML tag or plain data\n            fragment.appendChild(typeof node === 'object' ? node : document.createTextNode(node));\n        }\n    }\n\n    return fragment;\n};\n\n\n/**\n * Add the given non-empty data (HTML element/text or list) to the destination element.\n *\n * @param {Node} tagDst element to receive children\n * @param {...*} [content] element content (primitive value/values or other nodes)\n * @return {Node|null} the destination element - owner of all added data\n *\n * @example\n * // simple text value\n * add(some_div, 'Hello world');\n * // single DOM Element\n * add(some_div, some_other_div);\n * // DOM Element list\n * add(some_div, div1, div2, div3);\n * // mixed case\n * add(some_div, div1, 'hello', 'world');\n */\ndom.add = function ( tagDst, content ) {\n    var index;\n\n    // valid HTML tag as the destination\n    if ( tagDst instanceof Node ) {\n        // append all except the first one\n        for ( index = 1; index < arguments.length; index++ ) {\n            // some data is given\n            if ( arguments[index] ) {\n                // regular HTML tag or plain data\n                tagDst.appendChild(\n                    typeof arguments[index] === 'object' ? arguments[index] : document.createTextNode(arguments[index])\n                );\n            }\n        }\n\n        return tagDst;\n    }\n\n    return null;\n};\n\n\n/**\n * Remove the given elements from the DOM.\n *\n * @param {...Node} [nodes] element to be removed\n * @return {boolean} operation status (true - all given elements removed)\n *\n * @example\n * dom.remove(document.querySelector('div.test'));\n * dom.remove(div1, div2, div3);\n */\ndom.remove = function ( nodes ) {\n    // amount of successfully removed nodes\n    var count = 0,\n        index;\n\n    // walk through all the given elements\n    for ( index = 0; index < arguments.length; index++ ) {\n        // valid non-empty tag\n        if ( arguments[index] && arguments[index].parentNode ) {\n            if ( arguments[index].parentNode.removeChild(arguments[index]) === arguments[index] ) {\n                count++;\n            }\n        }\n    }\n\n    return arguments.length > 0 && count === arguments.length;\n};\n\n\ndom.clear = function ( node ) {\n    while ( node.lastChild ) {\n        node.removeChild(node.lastChild);\n    }\n};\n\n\n// public\nmodule.exports = dom;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n// public\nmodule.exports = require('spa-component-scrollbar');\n\n// correct component name\nmodule.exports.prototype.name = 'stb-component-scrollbar';\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app = require('./core');\n\n\n// public\nmodule.exports = {\n    DOMContentLoaded: function ( event ) {\n        //debug.event(event);\n        //console.log(event);\n\n        //debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type, event);\n\n        // there are some listeners\n        if ( app.events['dom'] ) {\n            // notify listeners\n            app.emit('dom', event);\n            //console.log('DOMContentLoaded');\n        }\n    },\n\n    /**\n     * The load event is fired when a resource and its dependent resources have finished loading.\n     *\n     * Control flow:\n     *   1. Global handler.\n     *   2. Each page handler.\n     *   3. Application DONE event.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/load\n     *\n     * @param {Event} event generated object with event data\n     */\n    load: function ( event ) {\n        //var path;\n\n        //debug.event(event);\n        //console.log(event);\n\n        // time mark\n        //app.data.time.load = event.timeStamp;\n\n        //debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type, event);\n\n        // global handler\n        // there are some listeners\n        if ( app.events[event.type] ) {\n            // notify listeners\n            app.emit(event.type, event);\n        }\n\n        // local handler on each page\n        /*router.pages.forEach(function forEachPages ( page ) {\n         debug.log('component ' + page.constructor.name + '.' + page.id + ' load', 'green');\n\n         // there are some listeners\n         if ( page.events[event.type] ) {\n         // notify listeners\n         page.emit(event.type, event);\n         }\n         });*/\n\n        // time mark\n        //app.data.time.done = +new Date();\n\n        // everything is ready\n        // and there are some listeners\n        // if ( app.events['done'] ) {\n        //     // notify listeners\n        //     app.emit('done', event);\n        // }\n    },\n\n    /**\n     * The unload event is fired when the document or a child resource is being unloaded.\n     *\n     * Control flow:\n     *   1. Each page handler.\n     *   2. Global handler.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/unload\n     *\n     * @param {Event} event generated object with event data\n     */\n    unload: function ( event ) {\n        //debug.event(event);\n        //console.log(event);\n\n        //debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type, event);\n\n        // global handler\n        // there are some listeners\n        if ( app.events[event.type] ) {\n            // notify listeners\n            app.emit(event.type, event);\n        }\n\n        // local handler on each page\n        /*router.pages.forEach(function forEachPages ( page ) {\n         debug.log('component ' + page.constructor.name + '.' + page.id + ' unload', 'red');\n\n         // there are some listeners\n         if ( page.events[event.type] ) {\n         // notify listeners\n         page.emit(event.type, event);\n         }\n         });*/\n    },\n\n    /**\n     * The error event is fired when a resource failed to load.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/error\n     *\n     * @param {Event} event generated object with event data\n     */\n    error: function ( event ) {\n        //debug.event(event);\n        //console.log(event);\n        //debug.fail('app event: ' + event.message, event, {tags: [event.type, 'event']});\n        console.error('app event: ' + event.message, event);\n    },\n\n    /**\n     * The keydown event is fired when a key is pressed down.\n     * Set event.stop to true in order to prevent bubbling.\n     *\n     * Control flow:\n     *   1. Current active component on the active page.\n     *   2. Current active page itself.\n     *   3. Application.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/keydown\n     *\n     * @param {Event} event generated object with event data\n     */\n    keydown: function ( event ) {\n        var page = app.activePage,\n            eventLocal = {\n                code: event.keyCode,\n                stop: false\n            },\n            activeComponent;\n\n        if ( DEVELOP ) {\n            if ( !page ) {\n                throw new Error(__filename + ': app should have at least one page');\n            }\n        }\n\n        // filter phantoms\n        //if ( event.keyCode === 0 ) { return; }\n\n        // combined key code\n        //event.code = event.keyCode;\n\n        // apply key modifiers\n        if ( event.ctrlKey )  { eventLocal.code += 'c'; }\n        if ( event.altKey )   { eventLocal.code += 'a'; }\n        if ( event.shiftKey ) { eventLocal.code += 's'; }\n\n        //debug.event(event);\n        //console.log(event);\n        //debug.info('app event: ' + event.type + ' - ' + eventLocal.code, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type + ' - ' + eventLocal.code, event);\n\n        // page.activeComponent can be set to null in event handles\n        activeComponent = page.activeComponent;\n\n        // current component handler\n        if ( activeComponent && activeComponent !== page ) {\n            // component is available and not page itself\n            if ( activeComponent.events[event.type] ) {\n                // there are some listeners\n                activeComponent.emit(event.type, eventLocal, event);\n            }\n\n            // todo: bubble event recursively\n            // bubbling\n            if (\n                !eventLocal.stop &&\n                activeComponent.propagate &&\n                activeComponent.parent &&\n                activeComponent.parent.events[event.type]\n            ) {\n                activeComponent.parent.emit(event.type, eventLocal, event);\n            }\n        }\n\n        // page handler\n        if ( !eventLocal.stop ) {\n            // not prevented\n            if ( page.events[event.type] ) {\n                // there are some listeners\n                page.emit(event.type, eventLocal, event);\n            }\n\n            // global app handler\n            if ( !event.stop ) {\n                // not prevented\n                if ( app.events[event.type] ) {\n                    // there are some listeners\n                    app.emit(event.type, eventLocal, event);\n                }\n            }\n        }\n\n        //// suppress non-printable keys in stb device (not in your browser)\n        //if ( app.data.host && keyCodes[event.code] ) {\n        //    event.preventDefault();\n        //}\n    },\n\n    /**\n     * The keypress event is fired when press a printable character.\n     * Delivers the event only to activeComponent at active page.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/keypress\n     *\n     * @param {Event} event generated object with event data\n     * @param {string} event.char entered character\n     */\n    keypress: function ( event ) {\n        var page = app.activePage;\n\n        if ( DEVELOP ) {\n            if ( page === null || page === undefined ) {\n                throw new Error(__filename + ': app should have at least one page');\n            }\n        }\n\n        //debug.event(event);\n        //console.log(event);\n        //debug.info('app event: ' + event.type + ' - ' + event.key, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type + ' - ' + event.key, event);\n\n        // current component handler\n        if ( page.activeComponent && page.activeComponent !== page ) {\n            // component is available and not page itself\n            if ( page.activeComponent.events[event.type] ) {\n                // there are some listeners\n                page.activeComponent.emit(event.type, event);\n            }\n        }\n    },\n\n    /**\n     * The click event is fired when a pointing device button (usually a mouse button) is pressed and released on a single element.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/click\n     *\n     * @param {Event} event generated object with event data\n     */\n    /*click: function ( event ) {\n     //debug.event(event);\n     //console.log(event);\n     debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n     },*/\n\n    /**\n     * The contextmenu event is fired when the right button of the mouse is clicked (before the context menu is displayed),\n     * or when the context menu key is pressed (in which case the context menu is displayed at the bottom left of the focused\n     * element, unless the element is a tree, in which case the context menu is displayed at the bottom left of the current row).\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/contextmenu\n     *\n     * @param {Event} event generated object with event data\n     */\n    // contextmenu: function ( event ) {\n    //     debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n    //\n    //     if ( !DEVELOP ) {\n    //         // disable right click in release mode\n    //         event.preventDefault();\n    //     }\n    // },\n\n    /*contextmenu: function ( event ) {\n     //var kbEvent = {}; //Object.create(document.createEvent('KeyboardEvent'));\n\n     //debug.event(event);\n     //console.log(event);\n     debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n\n     //kbEvent.type    = 'keydown';\n     //kbEvent.keyCode = 8;\n\n     //debug.log(kbEvent.type);\n\n     //globalEventListenerKeydown(kbEvent);\n     //var event = document.createEvent('KeyboardEvent');\n     //event.initEvent('keydown', true, true);\n\n     //document.dispatchEvent(kbEvent);\n\n     if ( !DEVELOP ) {\n     // disable right click in release mode\n     event.preventDefault();\n     }\n     },*/\n\n    /**\n     * The wheel event is fired when a wheel button of a pointing device (usually a mouse) is rotated.\n     *\n     * @see https://developer.mozilla.org/en-US/docs/Web/Reference/Events/wheel\n     *\n     * @param {Event} event generated object with event data\n     */\n    mousewheel: function ( event ) {\n        var page = app.activePage;\n\n        if ( DEVELOP ) {\n            if ( page === null || page === undefined ) {\n                throw new Error(__filename + ': app should have at least one page');\n            }\n        }\n\n        //debug.event(event);\n        //console.log(event);\n        //debug.info('app event: ' + event.type, event, {tags: [event.type, 'event']});\n        console.log('app event: ' + event.type, event);\n\n        // current component handler\n        if ( page.activeComponent && page.activeComponent !== page ) {\n            // component is available and not page itself\n            if ( page.activeComponent.events[event.type] ) {\n                // there are some listeners\n                page.activeComponent.emit(event.type, event);\n            }\n        }\n\n        // page handler\n        if ( !event.stop ) {\n            // not prevented\n            if ( page.events[event.type] ) {\n                // there are some listeners\n                page.emit(event.type, event);\n            }\n        }\n    }\n};\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app = require('spa-app/lib/core');\n//    metrics = require('app:metrics'),\n//    linkCSS;\n\n\n// global link\n//app.metrics = metrics[app.query.screenHeight] || metrics[screen.height] || metrics[720];\n\n// calculate and extend\n//app.metrics.availHeight = app.metrics.height - (app.metrics.availTop  + app.metrics.availBottom);\n//app.metrics.availWidth  = app.metrics.width  - (app.metrics.availLeft + app.metrics.availRight);\n\n// // set max browser window size\n// window.moveTo(0, 0);\n// window.resizeTo(metrics.width, metrics.height);\n\n// load CSS file base on resolution\n/*linkCSS = document.createElement('link');\nlinkCSS.rel  = 'stylesheet';\nlinkCSS.href = 'css/' + (DEVELOP ? 'develop.' : 'release.') + app.metrics.height + '.css' + (DEVELOP ? '?' + Date.now() : '');\ndocument.head.appendChild(linkCSS);*/\n\n\n// public\nmodule.exports = function ( name ) {\n    var link = document.createElement('link');\n\n    link.rel  = 'stylesheet';\n    link.href = 'css/' + name + '.' + app.metrics.height + '.css' + (DEVELOP ? '?' + Date.now() : '');\n    document.head.appendChild(link);\n};\n","/**\n * Global list of non-printable control key codes.\n *\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\n// public\nmodule.exports = {\n    backspace: 8,\n    tab:       9,\n    enter:     13,\n    escape:    27,\n    space:     32,\n    pageUp:    33,\n    pageDown:  34,\n    end:       35,\n    home:      36,\n    left:      37,\n    up:        38,\n    right:     39,\n    down:      40,\n    insert:    45,\n    // not \"delete\" because of old browsers issue\n    del:       46\n};\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n/* eslint complexity: [error, 37] */\n/* eslint max-lines-per-function: 1 */\n/* eslint no-fallthrough: 1 */\n/* eslint complexity: 1 */\n\n'use strict';\n\nvar Component = require('stb-component'),\n    keys      = require('stb-keys');\n\n\n/**\n * Mouse click event.\n *\n * @event module:stb/ui/list~List#click:item\n *\n * @type {Object}\n * @property {Element} $item clicked HTML item\n * @property {Event} event click event data\n */\n\n\n/**\n * Base list implementation.\n *\n * Each data item can be either a primitive value or an object with these fields:\n *\n *  Name    | Description\n * ---------|-------------\n *  value   | actual cell value to render\n *  mark    | is it necessary or not to render this cell as marked\n *\n * @constructor\n * @extends Component\n *\n * @param {Object}   [config={}]          init parameters (all inherited from the parent)\n * @param {Array}    [config.data=[]]     component data to visualize\n * @param {function} [config.render]      method to build each grid cell content\n * @param {function} [config.navigate]    method to move focus according to pressed keys\n * @param {number}   [config.size=5]      amount of visible items on a page\n * @param {number}   [config.viewIndex=0] move view window to this position on init\n * @param {number}   [config.focusIndex]  list item index to make item focused (move view window to this position)\n * @param {boolean}  [config.cycle=true]  allow or not to jump to the opposite side of a list when there is nowhere to go next\n * @param {boolean}  [config.scroll=null] associated ScrollBar component link\n * @param {Object}   [config.provider]    data provider\n *\n * @fires module:stb/ui/list~List#click:item\n */\nfunction List ( config ) {\n    // current execution context\n    //var self = this;\n\n    // sanitize\n    config = config || {};\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        if ( config.type && Number(config.type) !== config.type ) {\n            throw new Error(__filename + ': config.type must be a number');\n        }\n    }\n\n    /**\n     * Link to the currently focused DOM element.\n     *\n     * @type {Element}\n     */\n    this.$focusItem = null;\n\n    /**\n     * Position of the visible window to render.\n     *\n     * @type {number}\n     */\n    this.viewIndex = null;\n\n    /**\n     * Component data to visualize.\n     *\n     * @type {Array}\n     */\n    this.data = [];\n\n    /**\n     * Component orientation.\n     *\n     * @type {number}\n     */\n    this.type = this.TYPE_VERTICAL;\n\n    /**\n     * Amount of visible items on a page.\n     *\n     * @type {number}\n     */\n    this.size = 5;\n\n    /**\n     * Allow or not to jump to the opposite side of a list when there is nowhere to go next.\n     *\n     * @type {boolean}\n     */\n    this.cycle = false;\n\n    /**\n     * Associated ScrollBar component link.\n     *\n     * @type {ScrollBar}\n     */\n    this.scroll = null;\n\n    // horizontal or vertical\n    if ( config.type ) {\n        // apply\n        this.type = config.type;\n    }\n\n    /**\n     * Associated data provider\n     *\n     * @type {Provider}\n     */\n    this.provider = null;\n\n    if ( this.type === this.TYPE_HORIZONTAL ) {\n        config.className += ' horizontal';\n    }\n\n    //config.className += ' theme-main';\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // component setup\n    this.init(config);\n\n    // custom navigation method\n    //if ( config.navigate ) {\n    //    if ( DEVELOP ) {\n    //        if ( typeof config.navigate !== 'function' ) { throw new Error(__filename + ': wrong config.navigate type'); }\n    //    }\n    //    // apply\n    //    this.navigate = config.navigate;\n    //}\n\n    // navigation by keyboard\n    //this.addListener('keydown', this.navigate);\n\n    // navigation by mouse\n    //this.$body.addEventListener('mousewheel', function ( event ) {\n    //    // scrolling by Y axis\n    //    if ( self.type === self.TYPE_VERTICAL && event.wheelDeltaY ) {\n    //        self.move(event.wheelDeltaY > 0 ? 38 : keys.down);\n    //    }\n    //\n    //    // scrolling by X axis\n    //    if ( self.type === self.TYPE_HORIZONTAL && event.wheelDeltaX ) {\n    //        self.move(event.wheelDeltaX > 0 ? 37 : 39);\n    //    }\n    //});\n}\n\n\n// inheritance\nList.prototype = Object.create(Component.prototype);\nList.prototype.constructor = List;\n\n// set component name\nList.prototype.name = 'mag-component-list';\n\nList.prototype.TYPE_VERTICAL   = 1;\nList.prototype.TYPE_HORIZONTAL = 2;\n\n\n/**\n * Fill the given item with data.\n *\n * @param {Element} $item item DOM link\n * @param {*} data associated with this item data\n */\nList.prototype.renderItemDefault = function ( $item, data ) {\n    $item.innerText = data.value;\n};\n\n\n/**\n * Method to build each list item content.\n * Can be redefined to provide custom rendering.\n *\n * @type {function}\n */\nList.prototype.renderItem = List.prototype.renderItemDefault;\n\n\n/**\n * List of all default event callbacks.\n *\n * @type {Object.<string, function>}\n */\nList.prototype.defaultEvents = {\n    /**\n     * Default method to handle mouse wheel events.\n     *\n     * @param {Event} event generated event\n     */\n    mousewheel: function ( event ) {\n        // scrolling by Y axis\n        if ( this.type === this.TYPE_VERTICAL && event.wheelDeltaY ) {\n            this.move(event.wheelDeltaY > 0 ? keys.up : keys.down);\n        }\n\n        // scrolling by X axis\n        if ( this.type === this.TYPE_HORIZONTAL && event.wheelDeltaX ) {\n            this.move(event.wheelDeltaX > 0 ? keys.left : keys.right);\n        }\n    },\n\n    /**\n     * Default method to handle keyboard keydown events.\n     *\n     * @param {Object} event generated event\n     */\n    keydown: function ( event ) {\n        switch ( event.code ) {\n            case keys.up:\n            case keys.down:\n            case keys.right:\n            case keys.left:\n            case keys.pageUp:\n            case keys.pageDown:\n            case keys.home:\n            case keys.end:\n                // cursor move only on arrow keys\n                this.move(event.code);\n                break;\n            case keys.enter:\n                // there are some listeners\n                if ( this.events['click:item'] && this.$focusItem ) {\n                    // notify listeners\n                    this.emit('click:item', {$item: this.$focusItem, event: event});\n                }\n                break;\n        }\n    }\n};\n\n\n/**\n * Default method to move focus according to pressed keys.\n *\n * @param {Object} event generated event source of movement\n */\n//List.prototype.navigateDefault = function ( event ) {\n//    switch ( event.code ) {\n//        case 38:\n//        case 40:\n//        case 39:\n//        case 37:\n//        case 33:\n//        case 34:\n//        case 36:\n//        case 35:\n//            // cursor move only on arrow keys\n//            this.move(event.code);\n//            break;\n//        case 13:\n//            // there are some listeners\n//            if ( this.events['click:item'] ) {\n//                // notify listeners\n//                this.emit('click:item', {$item: this.$focusItem, event: event});\n//            }\n//            break;\n//    }\n//};\n\n\n/**\n * Current active method to move focus according to pressed keys.\n * Can be redefined to provide custom navigation.\n *\n * @type {function}\n */\n//List.prototype.navigate = List.prototype.navigateDefault;\n\n\n/**\n * Make all the data items identical.\n * Wrap to objects if necessary.\n *\n * @param {Array} data incoming array\n * @return {Array} reworked incoming data\n */\nfunction normalize ( data ) {\n    var idx, item;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( !Array.isArray(data) ) {\n            throw new Error(__filename + ': wrong data type');\n        }\n    }\n\n    // rows\n    for ( idx = 0; idx < data.length; idx++ ) {\n        // cell value\n        item = data[idx];\n        // primitive value\n        if ( typeof item !== 'object' ) {\n            // wrap with defaults\n            item = data[idx] = {\n                value: data[idx]\n            };\n        }\n\n        if ( DEVELOP ) {\n            //if ( !('value' in item) ) { throw new Error(__filename + ': field \"value\" is missing'); }\n            if ( ('mark' in item) && Boolean(item.mark) !== item.mark ) {\n                throw new Error(__filename + ': item.mark must be boolean');\n            }\n        }\n    }\n\n    return data;\n}\n\n\n/**\n * Init or re-init of the component inner structures and HTML.\n *\n * @param {Object} config init parameters (subset of constructor config params)\n */\nList.prototype.init = function ( config ) {\n    var self     = this,\n        currSize = this.$body.children.length,\n        /**\n         * Item mouse click handler.\n         *\n         * @param {Event} event click event data\n         *\n         * @this Element\n         *\n         * @fires module:stb/ui/list~List#click:item\n         */\n        onClick = function ( event ) {\n            if ( this.data ) {\n                self.focusItem(this);\n\n                // there are some listeners\n                if ( self.events['click:item'] ) {\n                    // notify listeners\n                    self.emit('click:item', {$item: this, event: event});\n                }\n            }\n        },\n        item, idx;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n    }\n\n    // apply cycle behaviour\n    if ( config.cycle !== undefined ) { this.cycle = config.cycle; }\n\n    // apply ScrollBar link\n    if ( config.scroll ) { this.scroll = config.scroll; }\n\n    // apply data provider\n    if ( config.provider ) { this.provider = config.provider; }\n\n\n    // custom render method\n    if ( config.render ) {\n        if ( DEVELOP ) {\n            if ( typeof config.render !== 'function' ) {\n                throw new Error(__filename + ': wrong config.render type');\n            }\n        }\n\n        // apply\n        this.renderItem = config.render;\n    }\n\n    // list items amount on page\n    if ( config.size ) {\n        if ( DEVELOP ) {\n            if ( Number(config.size) !== config.size ) {\n                throw new Error(__filename + ': config.size must be a number');\n            }\n            if ( config.size <= 0 ) {\n                throw new Error(__filename + ': config.size should be positive');\n            }\n        }\n\n        // apply\n        this.size = config.size;\n    }\n\n    if ( config.events ) {\n        // apply all given events\n        Object.keys(config.events).forEach(function ( name ) {\n            self.events[name] = null;\n            self.addListener(name, config.events[name]);\n        });\n    }\n\n    // geometry has changed or initial draw\n    if ( this.size !== currSize ) {\n        // non-empty list\n        if ( currSize > 0 ) {\n            // clear old items\n            this.$body.innerText = null;\n        }\n\n        // create new items\n        for ( idx = 0; idx < this.size; idx++ ) {\n            item = document.createElement('div');\n            item.index = idx;\n            //item.className = 'item theme-list-item';\n            item.className = 'item';\n\n            item.addEventListener('click', onClick);\n            this.$body.appendChild(item);\n        }\n    }\n\n    if ( this.provider ) {\n        if ( this.provider.blocked ) {\n            return;\n        }\n\n        this.provider.get( null, function ( error, data ) {\n            if ( error ) {\n                if ( self.events['data:error'] ) {\n                    /**\n                     * Provider get error while take new data\n                     *\n                     * @event module:stb/ui/list~List#data:error\n                     */\n                    self.emit('data:error', error);\n                }\n            } else {\n                if ( data ) {\n                    config.data = data;\n                    self.setData(config);\n                    if ( self.scroll ) {\n                        self.scroll.init({\n                            realSize: self.provider.maxCount,\n                            viewSize: self.provider.size,\n                            value: self.provider.head + self.provider.pos\n                        });\n                    }\n                }\n                if ( self.events['data:get'] ) {\n                    /**\n                     * Provider request new data\n                     *\n                     * @event module:stb/ui/list~List#data:get\n                     *\n                     * @type {Object}\n                     */\n                    self.emit('data:get');\n                }\n            }\n        });\n    } else if ( config.data ) {\n        this.setData(config);\n    }\n};\n\n/**\n * Set data and render inner structures and HTML.\n *\n * @param {Object} config init parameters (subset of constructor config params)\n */\nList.prototype.setData = function ( config ) {\n    // apply list of items\n\n    if ( config.data ) {\n        if ( DEVELOP ) {\n            if ( !Array.isArray(config.data) ) { throw new Error(__filename + ': wrong config.data type'); }\n        }\n        // prepare user data\n        this.data = normalize(config.data);\n    }\n\n    // view window position\n    if ( DEVELOP ) {\n        if ( config.viewIndex !== undefined ) {\n            if ( Number(config.viewIndex) !== config.viewIndex ) {\n                throw new Error(__filename + ': config.viewIndex must be a number');\n            }\n            if ( config.viewIndex < 0 ) {\n                throw new Error(__filename + ': config.viewIndex should be positive');\n            }\n        }\n    }\n\n    // reset current view window position\n    this.viewIndex = null;\n\n    if ( this.$focusItem ) {\n        this.blurItem(this.$focusItem);\n    }\n\n    if ( this.scroll ) {\n        if ( this.provider ) {\n            if ( this.scroll.realSize !== this.provider.maxCount ) {\n                this.scroll.init({\n                    realSize: this.provider.maxCount,\n                    viewSize: this.provider.size,\n                    value: this.provider.head + this.provider.pos\n                });\n            }\n        } else {\n            this.scroll.init({\n                realSize: this.data.length,\n                viewSize: this.size,\n                value: config.viewIndex || 0\n            });\n        }\n    }\n\n    // set focus item\n    if ( config.focusIndex !== undefined && this.data.length ) {\n        if ( DEVELOP ) {\n            if ( Number(config.focusIndex) !== config.focusIndex ) {\n                throw new Error(__filename + ': config.focusIndex must be a number');\n            }\n            if ( config.focusIndex < 0 ) {\n                throw new Error(__filename + ': config.focusIndex should be positive');\n            }\n            // if ( config.focusIndex > this.data.length - 1 ) {\n            //     throw new Error(__filename + ': config.focusIndex should be less than data size');\n            // }\n        }\n\n        // jump to the necessary item\n        this.focusIndex(config.focusIndex);\n    } else {\n        // go to the first page\n        this.renderView(config.viewIndex || 0);\n    }\n};\n\n\n/**\n * Shift the visible view window event.\n *\n * @event module:stb/ui/list~List#move:view\n *\n * @type {Object}\n * @property {number} prevIndex previous view window position\n * @property {number} currIndex current view window position\n */\n\n\n/**\n * Draw the visible window.\n *\n * @param {number} index start position to render\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/ui/list~List#move:view\n */\nList.prototype.renderView = function ( index ) {\n    var $item, idx, itemData, prevIndex, currIndex;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( Number(index) !== index ) {\n            throw new Error(__filename + ': index must be a number');\n        }\n        if ( index < 0 ) {\n            throw new Error(__filename + ': index should be more than zero');\n        }\n        // if ( index >= this.data.length ) {\n        //     throw new Error(__filename + ': index should be less than data size');\n        // }\n    }\n\n    // has the view window position changed\n    if ( this.viewIndex !== index ) {\n        // save for emit\n        prevIndex = this.viewIndex;\n        // sync global pointer\n        this.viewIndex = currIndex = index;\n\n        // rebuild all visible items\n        for ( idx = 0; idx < this.size; idx++ ) {\n            // shortcuts\n            $item    = this.$body.children[idx];\n            itemData = this.data[index];\n\n            // real item or stub\n            if ( itemData ) {\n                // correct inner data/index and render\n                $item.data  = itemData;\n                $item.index = index;\n                this.renderItem($item, itemData);\n\n                // apply CSS\n                if ( itemData.mark ) {\n                    $item.classList.add('mark');\n                } else {\n                    $item.classList.remove('mark');\n                }\n            } else {\n                // nothing to render\n                $item.data = $item.index = undefined;\n                $item.innerHTML = '&nbsp;';\n                $item.ready = false;\n            }\n            index++;\n        }\n\n        // there are some listeners\n        if ( this.events['move:view'] ) {\n            // notify listeners\n            this.emit('move:view', {prevIndex: prevIndex, currIndex: currIndex});\n        }\n\n        // there are some listeners\n        if ( this.events['select:item'] ) {\n            this.emit('select:item', {$item: $item});\n        }\n\n        // update a linked scroll component\n        if ( this.scroll ) {\n            this.scroll.scrollTo(this.provider ? this.provider.head + this.provider.pos : this.viewIndex);\n        }\n\n        // full rebuild\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n/**\n * Move focus to the given direction.\n *\n * @param {number} direction arrow key code\n *\n * @fires module:stb/ui/list~List#cycle\n * @fires module:stb/ui/list~List#overflow\n */\nList.prototype.move = function ( direction ) {\n    var self = this,\n        force = false;\n\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( Number(direction) !== direction ) {\n            throw new Error(__filename + ': direction must be a number');\n        }\n    }\n\n    // empty list\n    if ( !this.data.length ) {\n        return;\n    }\n\n    switch ( direction ) {\n        case keys.left:\n            if ( this.type === this.TYPE_HORIZONTAL ) {\n                force = true;\n            } else {\n                break;\n            }\n        case keys.up:\n            if ( force || this.type === this.TYPE_VERTICAL ) {\n                if ( this.$focusItem && this.$focusItem.index > 0 ) {\n                    if ( this.$focusItem === this.$body.firstChild ) {\n                        this.renderView(this.viewIndex - 1);\n                    } else {\n                        this.focusItem(this.$focusItem.previousSibling);\n                    }\n                } else if ( this.provider ) {\n                    if ( this.provider.blocked ) {\n                        return;\n                    }\n\n                    this.provider.get(direction, function ( error, data, pos ) {\n                        if ( error ) {\n                            if ( self.events['data:error'] ) {\n                                /**\n                                     * Provider get error while take new data\n                                     *\n                                     * @event module:stb/ui/list~List#data:error\n                                     */\n                                self.emit('data:error', error);\n                            }\n                        } else if ( data ) {\n                            self.setData({data: data, focusIndex: pos || pos === 0 ? pos : self.$focusItem.index});\n                        }\n                    });\n                } else {\n                    // already at the beginning\n                    if ( this.cycle ) {\n                        // jump to the end of the list\n                        this.move(keys.end);\n                    }\n                    if ( this.events['overflow'] ) {\n                        // notify listeners\n                        this.emit('overflow', {direction: direction, cycle: this.cycle});\n                    }\n                }\n            }\n            break;\n        case keys.right:\n            if ( this.type === this.TYPE_HORIZONTAL ) {\n                force = true;\n            } else {\n                break;\n            }\n        case keys.down:\n            if ( force || this.type === this.TYPE_VERTICAL ) {\n                if ( this.$focusItem && this.$focusItem.index < this.data.length - 1 ) {\n                    if ( this.$focusItem === this.$body.lastChild ) {\n                        this.renderView(this.viewIndex + 1);\n                    } else {\n                        this.focusItem(this.$focusItem.nextSibling);\n                    }\n                } else if ( this.provider ) {\n                    if ( this.provider.blocked ) {\n                        return;\n                    }\n\n                    this.provider.get(direction, function ( error, data, pos ) {\n                        if ( error ) {\n                            if ( self.events['data:error'] ) {\n                                /**\n                                     * Provider get error while take new data\n                                     *\n                                     * @event module:stb/ui/list~List#data:error\n                                     */\n                                self.emit('data:error', error);\n                            }\n                        } else if ( data ) {\n                            self.setData({data: data, focusIndex: pos || pos === 0 ? pos : self.$focusItem.index});\n                        }\n                    });\n                } else {\n                    // already at the beginning\n                    if ( this.cycle ) {\n                        // jump to the beginning of the list\n                        this.move(keys.home);\n                    }\n                    if ( this.events['overflow'] ) {\n                        // notify listeners\n                        this.emit('overflow', {direction: direction, cycle: this.cycle});\n                    }\n                }\n            }\n            break;\n        case keys.pageUp:\n            if ( this.provider ) {\n                if ( this.provider.blocked ) {\n                    return;\n                }\n\n                this.provider.get(direction, function ( error, data, pos ) {\n                    if ( error ) {\n                        if ( self.events['data:error'] ) {\n                            /**\n                             * Provider get error while take new data\n                             *\n                             * @event module:stb/ui/list~List#data:error\n                             */\n                            self.emit('data:error', error);\n                        }\n                    } else if ( data ) {\n                        self.setData({data: data, focusIndex: pos ? pos : 0});\n                    }\n                });\n\n                return;\n            }\n            if ( this.viewIndex < this.size ) {\n                // first page\n                this.renderView(0);\n            } else {\n                // second page and further\n                this.renderView(this.viewIndex - this.size + 1);\n            }\n\n            this.focusItem(this.$body.firstChild);\n            break;\n        case keys.pageDown:\n            if ( this.provider ) {\n                if ( this.provider.blocked ) {\n                    return;\n                }\n\n                this.provider.get(direction, function ( error, data, pos ) {\n                    var focusIndex;\n\n                    if ( error ) {\n                        if ( self.events['data:error'] ) {\n                            /**\n                             * Provider get error while take new data\n                             *\n                             * @event module:stb/ui/list~List#data:error\n                             */\n                            self.emit('data:error', error);\n                        }\n                    } else if ( data ) {\n                        if ( pos || pos === 0 ) {\n                            focusIndex = pos;\n                        } else {\n                            focusIndex = data.length < self.size ?  data.length - 1 : self.size - 1;\n                        }\n\n                        self.setData({data: data, focusIndex: focusIndex});\n                    }\n                });\n                break;\n            }\n            // data is bigger then one page\n            if ( this.data.length > this.size ) {\n                // determine jump size\n                if ( this.viewIndex > this.data.length - this.size * 2 ) {\n                    // last page\n                    this.renderView(this.data.length - this.size);\n                } else {\n                    // before the last page\n                    this.renderView(this.viewIndex + this.size - 1);\n                }\n                this.focusItem(this.$body.lastChild);\n            } else {\n                // not the last item on the page\n                this.focusItem(this.$body.children[this.data.length - 1]);\n            }\n            break;\n        case keys.home:\n            if ( this.provider ) {\n                if ( this.provider.blocked ) {\n                    return;\n                }\n\n                this.provider.get(direction, function ( error, data, pos ) {\n                    if ( error ) {\n                        if ( self.events['data:error'] ) {\n                            /**\n                             * Provider get error while take new data\n                             *\n                             * @event module:stb/ui/list~List#data:error\n                             */\n                            self.emit('data:error', error);\n                        }\n                    } else if ( data ) {\n                        self.setData({data: data, focusIndex: pos ? pos : 0});\n                    }\n                });\n                break;\n            }\n            this.renderView(0);\n            this.focusItem(this.$body.firstChild);\n            break;\n        case keys.end:\n            if ( this.provider ) {\n                if ( this.provider.blocked ) {\n                    return;\n                }\n\n                this.provider.get(direction, function ( error, data, pos ) {\n                    var focusIndex;\n\n                    if ( error ) {\n                        if ( self.events['data:error'] ) {\n                            /**\n                             * Provider get error while take new data\n                             *\n                             * @event module:stb/ui/list~List#data:error\n                             */\n                            self.emit('data:error', error);\n                        }\n                    } else if ( data ) {\n                        if ( pos || pos === 0 ) {\n                            focusIndex = pos;\n                        } else {\n                            focusIndex = data.length < self.size ?  data.length - 1 : self.size - 1;\n                        }\n\n                        self.setData({data: data, focusIndex: focusIndex});\n                    }\n                });\n                break;\n            }\n            if ( this.data.length > this.size ) {\n                this.renderView(this.data.length - this.size);\n                this.focusItem(this.$body.lastChild);\n            } else {\n                // not the last item on the page\n                this.focusItem(this.$body.children[this.data.length - 1]);\n            }\n            break;\n    }\n};\n\n\n/**\n * Highlight the given DOM element as focused.\n * Remove focus from the previously focused item and generate associated event.\n *\n * @param {Node|Element} $item element to focus\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/ui/list~List#focus:item\n * @fires module:stb/ui/list~List#blur:item\n */\nList.prototype.focusItem = function ( $item ) {\n    var $prev = this.$focusItem;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n    }\n\n    // different element\n    if ( $item && $prev !== $item ) {\n        if ( DEVELOP ) {\n            if ( !($item instanceof Element) ) {\n                throw new Error(__filename + ': wrong $item type');\n            }\n            if ( $item.parentNode !== this.$body ) {\n                throw new Error(__filename + ': wrong $item parent element');\n            }\n        }\n\n        // some item is focused already\n        if ( $prev !== null ) {\n            if ( DEVELOP ) {\n                if ( !($prev instanceof Element) ) {\n                    throw new Error(__filename + ': wrong $prev type');\n                }\n            }\n\n            // style\n            $prev.classList.remove('focus');\n            //$prev.classList.remove('theme-focus');\n\n            // there are some listeners\n            if ( this.events['blur:item'] ) {\n                /**\n                 * Remove focus from an element.\n                 *\n                 * @event module:stb/ui/list~List#blur:item\n                 *\n                 * @type {Object}\n                 * @property {Element} $item previously focused HTML element\n                 */\n                this.emit('blur:item', {$item: $prev});\n            }\n        }\n        // reassign\n        this.$focusItem = $item;\n\n        this.$focusItem.data = this.data[this.$focusItem.index];\n\n        // correct CSS\n        $item.classList.add('focus');\n        //$item.classList.add('theme-focus');\n\n        // there are some listeners\n        if ( this.events['focus:item'] ) {\n            /**\n             * Set focus to a DOM element.\n             *\n             * @event module:stb/ui/list~List#focus:item\n             *\n             * @type {Object}\n             * @property {Element} $prev old/previous focused HTML element\n             * @property {Element} $curr new/current focused HTML element\n             */\n            this.emit('focus:item', {$prev: $prev, $curr: $item});\n        }\n\n        // there are some listeners\n        if ( this.events['select:item'] ) {\n            /**\n             * Set focus to a list item.\n             *\n             * @event module:stb/ui/list~List#select:item\n             *\n             * @type {Object}\n             * @property {Element} $item new/current focused item\n             */\n            this.emit('select:item', {$item: $item});\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n/**\n * Highlight the given DOM element as blur.\n * Remove focus from the item and generate associated event.\n *\n * @param {Node|Element} $item element to focus\n *\n * @return {boolean} operation status\n *\n * @fires module:stb/ui/list~List#focus:item\n * @fires module:stb/ui/list~List#blur:item\n */\nList.prototype.blurItem = function ( $item ) {\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) { throw new Error(__filename + ': wrong arguments number'); }\n    }\n\n    // different element\n    if ( $item ) {\n        if ( $item === this.$focusItem ) {\n            this.$focusItem = null;\n        }\n\n        $item.classList.remove('focus');\n        //$item.classList.remove('theme-focus');\n\n        // there are some listeners\n        if ( this.events['blur:item'] ) {\n            /**\n             * Remove focus from an element.\n             *\n             * @event module:stb/ui/list~List#blur:item\n             *\n             * @type {Object}\n             * @property {Element} $item previously focused HTML element\n             */\n            this.emit('blur:item', {$item: $item});\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n/**\n * Set the given item focused by item index.\n *\n * @param {number} index item data index\n */\nList.prototype.focusIndex = function ( index ) {\n    var viewIndex = this.viewIndex || 0;\n\n    if ( DEVELOP ) {\n        if ( Number(index) !== index ) {\n            throw new Error(__filename + ': index must be a number');\n        }\n        if ( index < 0 ) {\n            throw new Error(__filename + ': index should be positive');\n        }\n        // if ( index > this.data.length - 1 ) {\n        //     throw new Error(__filename + ': index should be less than data size');\n        // }\n    }\n\n    // determine direction\n    if ( index >= viewIndex + this.size ) {\n        // check range\n        index = index < this.data.length - 1 ? index : this.data.length - 1;\n        // move down\n        this.renderView(index - this.size + 1);\n        this.focusItem(this.$body.lastChild);\n    } else if ( index < viewIndex ) {\n        // check range\n        index = index > 0 ? index : 0;\n        // move up\n        this.renderView(index);\n        this.focusItem(this.$body.firstChild);\n    } else {\n        // no move\n        if ( this.viewIndex === null ) {\n            // first attempt\n            this.renderView(0);\n        }\n        this.focusItem(this.$body.children[index - viewIndex]);\n    }\n};\n\n\n/**\n * Set item state and appearance as marked.\n *\n * @param {Node|Element} $item element to focus\n * @param {boolean} state true - marked, false - not marked\n */\nList.prototype.markItem = function ( $item, state ) {\n    if ( DEVELOP ) {\n        if ( arguments.length !== 2 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( !($item instanceof Element) ) {\n            throw new Error(__filename + ': wrong $item type');\n        }\n        if ( $item.parentNode !== this.$body ) {\n            throw new Error(__filename + ': wrong $item parent element');\n        }\n        if ( Boolean(state) !== state ) {\n            throw new Error(__filename + ': state must be boolean');\n        }\n    }\n\n    // correct CSS\n    if ( state ) {\n        $item.classList.add('mark');\n    } else {\n        $item.classList.remove('mark');\n    }\n\n    // apply flag\n    $item.data.mark = state;\n};\n\n\n// public\nmodule.exports = List;\n","/**\n * Application geometry options.\n * Automatically loaded on application initialization and available as app.metrics.\n */\n\n'use strict';\n\nvar metrics = {\n    480: {\n        epgGrid: 6,\n        scheduleWidth: 372,\n        timeStep: 90 * 60,\n        countOfSteps: 3,\n        timeLineMargin: 250,\n        itemHeight: 38,\n        timeLineTop: 2\n    },\n\n    576: {\n        epgGrid: 9,\n        scheduleWidth: 372,\n        timeStep: 90 * 60,\n        countOfSteps: 3,\n        timeLineMargin: 250,\n        itemHeight: 38,\n        timeLineTop: 2\n    },\n\n    720: {\n        epgGrid: 9,\n        scheduleWidth: 830,\n        timeStep: 150 * 60,\n        countOfSteps: 5,\n        timeLineMargin: 350,\n        itemHeight: 48,\n        timeLineTop: 2\n    },\n\n    1080: {\n        epgGrid: 9,\n        scheduleWidth: 1245,\n        timeStep: 150 * 60,\n        countOfSteps: 5,\n        timeLineMargin: 350 * 1.5,\n        itemHeight: 48 * 1.5,\n        timeLineTop: 2\n    }\n};\n\n// public\nmodule.exports = metrics[screen.height];\n","/**\n * @license The MIT License (MIT)\n * @copyright Boris Aleynikov <aleynikov.boris@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('stb-component'),\n    keys      = require('stb-keys');\n\n/**\n * Magsdk panel set implementation\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n * @param {Array} [config.panels] array of panels to use\n * @param {Array} [config.focusIndex=0] focus panel index\n * @constructor\n * @extends Component\n */\nfunction PanelSet ( config ) {\n    var self = this,\n        index;\n\n    config = config || {};\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        if ( config.panels && !Array.isArray(config.panels) || !config.panels.length ) {\n            throw new Error(__filename + ': wrong config.panels type');\n        }\n    }\n\n    // can't accept focus\n    config.focusable = config.focusable || false;\n\n    // set default className if classList property empty or undefined\n    //config.className = 'panelSet ' + (config.className || '');\n\n    // parent constructor call\n    Component.call(this, config);\n\n    this.panels = config.panels;\n\n    /**\n     * Index of current active panel\n     *\n     * @type {number}\n     */\n    this.focusIndex = 0;\n\n    // set special panels classes\n    if ( config.panels && !config.panels[0].main ) {\n        config.panels[0].$node.classList.add('left');\n        // small resolution special class\n        config.panels[0].$node.classList.add('expand');\n    }\n\n    if (  config.panels && config.panels[1] && config.panels[1].main ) {\n        // small resolution special class\n        config.panels[1].$node.classList.add('position-right');\n    }\n\n    if ( config.panels && config.panels[2] && config.panels[1].main ) {\n        config.panels[2].$node.classList.add('right');\n    }\n\n    // add panels\n    if ( config.panels ) {\n        this.add.apply(this, config.panels);\n    }\n\n    // panel keydown handler to set focus panel\n    function keydownHandler ( event ) {\n        switch ( event.code ) {\n            case keys.left:\n                if ( self.focusIndex > 0 ) {\n                    self.panels[self.focusIndex - 1].focus();\n                }\n                break;\n            case keys.right:\n                if ( self.focusIndex < self.panels.length - 1 ) {\n                    self.panels[self.focusIndex + 1].focus();\n                }\n                break;\n        }\n    }\n\n    // add special listener\n    for ( index = 0; index < this.panels.length; index++ ) {\n        this.panels[index].addListeners({\n            keydown: keydownHandler\n        });\n        // set panels indexes\n        this.panels[index].index = index;\n    }\n\n    /*if ( config.focusIndex && config.focusIndex < this.panels.length ) {\n     this.panels[config.focusIndex].focus();\n     } else {\n     if ( config.panels.length > 1 ) {\n     this.panels[1].focus();\n     } else {\n     this.panels[0].focus();\n     }\n     }*/\n}\n\nPanelSet.prototype = Object.create(Component.prototype);\nPanelSet.prototype.constructor = PanelSet;\n\n// set component name\nPanelSet.prototype.name = 'mag-component-panel-set';\n\n\n/**\n *\n */\nPanelSet.prototype.focus = function () {\n    Component.prototype.focus.call(this);\n    this.panels[this.focusIndex].focus();\n};\n\n/**\n *\n */\nPanelSet.prototype.blur = function () {\n    this.panels[this.focusIndex].blur();\n};\n\nmodule.exports = PanelSet;\n","/**\n * @license The MIT License (MIT)\n * @copyright Boris Aleynikov <aleynikov.boris@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('stb-component'),\n    Layout = require('mag-component-layout');\n\n/**\n * Extended panel implementation\n\n * @constructor\n * @extends Component\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n * @param {boolean} [config.main=false] set panel as main\n * @param {boolean} [config.size=1] size of panel width\n *\n * @example\n *\n * main = new Panel({\n *            size: 1,\n *             title: ['Left Panel', {className: 'info'}],\n *             main:true,\n *             children:[\n *                 new List({\n *                     data:['1 bla', '2 bro', '3 car', '4 hoho', 'Search'],\n *                     size:5\n *                 })\n *             ]\n *         });\n */\nfunction Panel ( config ) {\n    var $overlay;\n\n    config = config || {};\n\n    /**\n     * Size of panel\n     *\n     * @type {number}\n     */\n    this.size = 1;\n\n    /**\n     * Set panel as main\n     *\n     * @type {boolean}\n     */\n    this.main = false;\n\n    /**\n     * Index in panel set\n     *\n     * @type {number}\n     */\n    this.index = 0;\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n    }\n\n    // set default className if classList property empty or undefined\n    //config.className = 'Panel ' + (config.className || '');\n\n    config.$body = document.createElement('div');\n    config.$body.className = 'body';\n\n    // parent constructor call\n    Component.call(this, config);\n\n    //this.$node.classList.add('theme-main');\n    //this.$node.classList.add('theme-panel');\n\n    // add special class to set component size\n    if ( config.size ) {\n        this.size = config.size;\n        this.$node.classList.add('size' + config.size);\n    }\n\n    // add special class to set main panel\n    if ( config.main ) {\n        this.main = true;\n        this.$node.classList.add('main');\n    }\n\n    // create elements to set as component shadow\n    this.$shadow = {\n        left: document.createElement('div'),\n        right: document.createElement('div')\n    };\n\n    this.$shadow.left.className = 'shadow left';\n    this.$node.appendChild(this.$shadow.left);\n\n    this.$shadow.right.className = 'shadow right';\n    this.$node.appendChild(this.$shadow.right);\n\n    // add title to panel\n    if ( config.title ) {\n        if ( !Array.isArray(config.title) ) {\n            config.title = [config.title];\n        }\n        this.$title = new Layout({\n            //className: 'title theme-header theme-title',\n            className: 'title',\n            data: config.title,\n            focusable: false\n        });\n        this.$node.appendChild(this.$title.$node);\n    }\n\n    this.$node.appendChild(this.$body);\n\n    $overlay = document.createElement('div');\n    $overlay.className = 'overlay';\n    this.$node.appendChild($overlay);\n}\n\n// inheritance\nPanel.prototype = Object.create(Component.prototype);\nPanel.prototype.constructor = Panel;\n\n// set component name\nPanel.prototype.name = 'mag-component-panel';\n\n\n/**\n * Default events\n *\n * @type {{focus: Function}} try to focus first child component if it present\n */\nPanel.prototype.defaultEvents = {\n    focus: function () {\n        if ( this.children.length ) {\n            this.children[0].focus();\n        }\n    }\n};\n\n\n/**\n * Redefine default component focus to set panel as active even when give focus to children components\n */\nPanel.prototype.focus = function () {\n    if ( this.focusable ) {\n        this.parent.panels[this.parent.focusIndex].$node.classList.remove('active');\n        this.parent.panels[this.parent.focusIndex].$node.classList.remove('top');\n        Component.prototype.focus.call(this);\n        this.parent.focusIndex = this.index;\n        this.$node.classList.add('active');\n        this.$node.classList.add('top');\n        if ( this.index === 0 && this.parent.panels[1] && this.parent.panels[1].main ) {\n            this.parent.panels[1].$node.classList.remove('position-left');\n            this.parent.panels[1].$node.classList.add('position-right');\n            if ( this.parent.panels[2] ) {\n                this.parent.panels[2].$node.classList.remove('expand');\n            }\n            this.$node.classList.add('expand');\n\n        } else if ( this.index === 2 && this.parent.panels[1].main ) {\n            this.parent.panels[1].$node.classList.remove('position-right');\n            this.parent.panels[1].$node.classList.add('position-left');\n            this.parent.panels[0].$node.classList.remove('expand');\n            this.$node.classList.add('expand');\n        }\n    }\n};\n\n/**\n * Blur panel\n */\nPanel.prototype.blur = function () {\n    this.parent.panels[this.parent.focusIndex].$node.classList.remove('active');\n    Component.prototype.blur.call(this);\n};\n\n\n// public\nmodule.exports = Panel;\n","/**\n * @license The MIT License (MIT)\n * @copyright Boris Aleynikov <aleynikov.boris@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar List             = require('mag-component-list'),\n    classChecked     = 'checked',\n    classIcon        = 'theme-icon theme-icon-radio',\n    classIconActive  = 'theme-icon theme-icon-radio-active';\n\n\n/**\n * Base radio list implementation\n *\n * @constructor\n * @extends List\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n * @param {string} [config.classIcon] icon default state class name\n * @param {string} [config.classIconActive] icon active state class name\n * @param {string} [config.classChecked] checked item class\n */\nfunction RadioList ( config ) {\n    var self = this;\n\n    if ( config.classIcon ) {\n        classIcon = config.classIcon;\n    }\n    if ( config.classIconActive ) {\n        classIconActive = config.classIconActive;\n    }\n    if ( config.classChecked ) {\n        classIcon = config.classChecked;\n    }\n\n    /**\n     * Checked item data\n     *\n     * @type {Element}\n     */\n    this.checkedData = null;\n\n    /**\n     * Checked element index\n     *\n     * @type {number}\n     */\n    this.checkedIndex = null;\n\n    List.call(this, config);\n\n    this.addListener('click:item', function ( event ) {\n        var $item = event.$item,\n            previousCheckedData = self.checkedData;\n\n        self.checkIndex($item.index);\n\n        if ( previousCheckedData !== $item.data ) {\n            /**\n             * Select element from list\n             *\n             * @event select\n             * @property {Element} $item object\n             */\n            self.emit('select', $item);\n        }\n    });\n}\n\n\nRadioList.prototype = Object.create(List.prototype);\nRadioList.prototype.constructor = RadioList;\n\n// set component name\nRadioList.prototype.name = 'mag-component-radio-list';\n\nRadioList.prototype.init = function ( config ) {\n    config = config || {};\n    List.prototype.init.call(this, config);\n};\n\n\n/**\n * Set data and render inner structures and HTML.\n *\n * @param {Object} config init parameters (subset of constructor config params)\n */\nRadioList.prototype.setData = function ( config ) {\n    List.prototype.setData.call(this, config);\n\n    this.defaultCheckedIndex = this.checkedIndex;\n\n    if ( this.$focusItem ) {\n        this.defaultFocusIndex = this.$focusItem.index;\n    } else {\n        this.defaultFocusIndex = 0;\n    }\n};\n\n\n/**\n * Reset data to default state and render inner structures and HTML.\n */\nRadioList.prototype.resetData = function () {\n    this.checkIndex(this.defaultCheckedIndex);\n    this.focusIndex(this.defaultFocusIndex);\n};\n\n\n/**\n * Set all states to false and render inner structures and HTML.\n *\n * @param {number} [focusIndex] focus index\n */\nRadioList.prototype.clearChecked = function ( focusIndex ) {\n    var index = 0;\n\n    for ( index; index < this.data.length; index++ ) {\n        this.data[index].state = false;\n    }\n\n    // no focusIndex, focusIndex may be 0\n    if ( !focusIndex && focusIndex !== 0 ) {\n        focusIndex = this.$focusItem ? this.$focusItem.index : 0;\n    }\n\n    this.setData({data: this.data, focusIndex: focusIndex});\n};\n\n\n/**\n * Default render function\n *\n * @param {Element} $item in list\n * @param {Object} data to render layout element\n * @param {string} [data.title] title of checkbox\n * @param {boolean} [data.state] state of checkbox: checked or not\n * @param {string} [data.value] special value of item\n */\nRadioList.prototype.renderItemDefault = function ( $item, data ) {\n    var table,\n        tr,\n        td,\n        check;\n\n    if ( $item.ready ) {\n        $item.$title.innerText = data.title || '';\n\n        if ( data.state ) {\n            $item.classList.add(classChecked);\n            $item.checkBox.className = classIconActive;\n        } else {\n            $item.classList.remove(classChecked);\n            $item.checkBox.className = classIcon;\n        }\n\n        $item.state = data.state;\n        $item.value = data.value;\n\n    } else {\n        $item.innerHTML = '';\n        table = document.createElement('table');\n        tr = document.createElement('tr');\n        td = document.createElement('td');\n        check = document.createElement('div');\n\n        if ( data.state ) {\n            $item.classList.add(classChecked);\n            check.className = classIconActive;\n        } else {\n            $item.classList.remove(classChecked);\n            check.className = classIcon;\n        }\n\n        table.appendChild(tr);\n        td.appendChild(check);\n\n        td.className = 'checkBoxWrapper';\n        tr.appendChild(td);\n\n        td = document.createElement('td');\n        td.className = 'title';\n        td.innerText = data.title || '';\n        tr.appendChild(td);\n\n        $item.checkBox = check;\n        $item.state = data.state;\n        $item.value = data.value;\n        $item.$title = td;\n\n        $item.appendChild(table);\n\n        if ( data.state ) {\n            this.checkedData = data;\n            this.checkedIndex = $item.index;\n        }\n\n        $item.ready = true;\n    }\n};\n\n\n/**\n * Check element by index\n *\n * @param {number} index of element to check\n */\nRadioList.prototype.checkIndex = function ( index ) {\n    var $node;\n\n    if ( DEVELOP ) {\n        if ( index >= this.data.length ) {\n            throw new Error(__filename + ': wrong index to check');\n        }\n    }\n\n    // do not need to do the same\n    if ( index === this.checkedIndex ) { return; }\n\n    if ( this.checkedIndex !== null && this.$node.children.length ) {\n        this.data[this.checkedIndex].state = false;\n        $node = this.getItemNodeByIndex(this.checkedIndex);\n        if ( $node ) {\n            $node.checkBox.className = classIcon;\n            $node.classList.remove(classChecked);\n        }\n    }\n\n    $node = this.getItemNodeByIndex(index);\n    if ( $node ) {\n        $node.checkBox.className = classIconActive;\n        $node.classList.add(classChecked);\n        $node.state = true;\n    }\n\n    this.data[index].state = true;\n    this.checkedData = this.data[index];\n    this.checkedIndex = index;\n};\n\n\n/**\n * Get list item node by item index\n *\n * @param {number} index of item to find node\n * @return {?Element} item node link\n */\nRadioList.prototype.getItemNodeByIndex = function ( index ) {\n    var children = this.$node.children;\n\n    index -= this.viewIndex;\n    if ( index < this.size && index >= 0 ) {\n        return children[index];\n    }\n\n    return null;\n};\n\nRadioList.prototype.renderItem = RadioList.prototype.renderItemDefault;\n\nmodule.exports = RadioList;\n","/**\n * Main application entry point.\n *\n * @author Stanislav Kalashnik <sk@infomir.eu>\n * @license GNU GENERAL PUBLIC LICENSE Version 3\n */\n\n'use strict';\n\nvar app     = require('mag-app'),\n    keys    = require('stb-keys'),\n    gettext = require('spa-gettext');\n\nrequire('./modules/find-index-polyfill');\n\nif ( TARGET === 'android-stb' || TARGET === 'android-app' ) {\n    window.removeEventListener('keydown', require('spa-app/lib/events').keydown);\n    require('../../../helpers/longpress.js')(app, {code: keys.ok, emitCode: keys.menu});\n}\n\n\napp.intents = {\n    osdInput: null,\n    osdTv: null\n};\n\n\n// everything is ready\napp.once('load', function () {\n    if ( TARGET === 'dvb' ) {\n        app.provider = core.plugins.dvb;\n    } else {\n        app.provider = core.plugins.tvBackend;\n    }\n\n    gettext.load({name: core.environment.language || 'en'}, function ( error ) {\n        var EpgPage = require('./modules/epg-page/index'),\n            epg = new EpgPage({\n                $node: document.getElementById('pageEpg'),\n                apiProvider: app.provider\n            });\n\n        epg.addListener('back', function ( item ) {\n            app.route(app.pages.main, item);\n        });\n\n        if ( error ) {\n            // err handler\n        }\n\n        // add intent handler to show app on incoming intent\n        core.addListener('intent', function ( intent, callback ) { callback(false, {}); });\n\n        app.pages = {\n            main: require('./pages/channels'),\n            epg: epg\n        };\n\n\n        if ( TARGET === 'dvb' ) {\n            app.pages.scanOptions = require('./pages/scan.options');\n            app.pages.scanning = require('./pages/scanning');\n        }\n\n        app.route(app.pages.main);\n\n    });\n});\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app    = require('spa-app/lib/core'),\n    events = require('spa-app/lib/events');\n\n\n// get instance\nwindow.core = window.parent.getCoreInstance(window, app);\n\n// shims\nrequire('stb-shim-classlist');\n\n// apply geometry\nrequire('stb-app/lib/metrics');\n\n// load sdk css\nrequire('stb-app/lib/css')('sdk');\n\n// load theme css\nrequire('./css');\n\n// load app css\nrequire('stb-app/lib/css')('app');\n\n/**\n * Specify platform name\n *\n * @type {string}\n */\napp.platform = 'mag';\n\n/**\n * Show app.\n */\napp.ready = function () {\n    // if ( this.events['show'] ) {\n    //     this.emit('show');\n    // }\n    window.core.call('app:ready');\n};\n\n\n/**\n * Exit from app.\n * Destroy all application instance.\n * If callback function provided, and callback returns boolean 'true', application will stay alive.\n *\n * @fires module:/stb/app#exit\n */\napp.exit = function () {\n    if ( app.events['exit'] ) {\n        app.emit('exit');\n    }\n\n    core.call('exit');\n};\n\n\nevents.load = function ( event ) {\n    //window.core = window.parent.getCoreInstanse(window, app);\n    document.body.setAttribute('platform', app.platform);\n\n    if ( core.ready ) {\n        if ( app.events['load'] ) {\n            // notify listeners\n            app.emit('load', {});\n        }\n    } else {\n        core.once('load', function () {\n            //core.ready = true;\n            if ( app.events[event.type] ) {\n                // notify listeners\n                app.emit(event.type, event);\n            }\n        });\n    }\n};\n\n\n// activate development mechanisms and tools\nif ( DEVELOP ) {\n    //require('stb-develop');\n    require('./develop/main');\n} else {\n    // disable context menu\n    events.contextmenu = function ( event ) {\n        event.preventDefault();\n    };\n}\n\n\n//apply DOM events\nObject.keys(events).forEach(function ( name ) {\n    window.addEventListener(name, events[name]);\n});\n\n\n// new way of string handling\n// all strings are in UTF-16\n// since stbapp 2.18\n// if ( window.gSTB && gSTB.SetNativeStringMode ) {\n//     /* eslint new-cap: 0 */\n//     gSTB.SetNativeStringMode(true);\n// }\n\n// public\nmodule.exports = app;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\nmodule.exports = {\n    /**\n     * Parse the given location search string into object.\n     *\n     * @param {string} query string to parse\n     *\n     * @return {Object.<string, string>} result data\n     */\n    parse: function ( query ) {\n        var data = {};\n\n        // parse and fill the data\n        query.split('&').forEach(function ( part ) {\n            part = part.split('=');\n            // valid number on params\n            if ( part.length === 2 ) {\n                data[part[0]] = decodeURIComponent(part[1]);\n            }\n        });\n\n        return data;\n    },\n\n\n    /**\n     * Make uri query part in a string form.\n     *\n     * @param {Object} params data to stringify\n     *\n     * @return {string} query string\n     */\n    stringify: function ( params ) {\n        var data = [];\n\n        Object.keys(params).forEach(function ( name ) {\n            data.push(name + '=' + encodeURIComponent(params[name]));\n        });\n\n        return data.join('&');\n    }\n};\n","/**\n * Global application configuration.\n * Can store run-time options, API urls, paths, execution flags and so on.\n * Automatically loaded on application initialization and available as app.config.\n */\n\n'use strict';\n\n// public\nmodule.exports = {};\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint-disable */\n\n'use strict';\n\n\nif ( !document.documentElement.classList ) {\n    var prototype = Array.prototype,\n        indexOf   = prototype.indexOf,\n        slice     = prototype.slice,\n        push      = prototype.push,\n        splice    = prototype.splice,\n        join      = prototype.join;\n\n    window.DOMTokenList = function ( el ) {\n        this._element = el;\n        if (el.className !== this._classCache) {\n            this._classCache = el.className;\n            if (!this._classCache) { return; }\n            var classes = this._classCache.replace(/^\\s+|\\s+$/g,'').split(/\\s+/),\n                i;\n            for (i = 0; i < classes.length; i++) {\n                push.call(this, classes[i]);\n            }\n        }\n    };\n\n    window.DOMTokenList.prototype = {\n        add: function ( token ) {\n            if(this.contains(token)) { return; }\n            push.call(this, token);\n            this._element.className = slice.call(this, 0).join(' ');\n        },\n\n        contains: function ( token ) {\n            return indexOf.call(this, token) !== -1;\n        },\n\n        item: function ( index ) {\n            return this[index] || null;\n        },\n\n        remove: function ( token ) {\n            var i = indexOf.call(this, token);\n            if (i === -1) {\n                return;\n            }\n            splice.call(this, i, 1);\n            this._element.className = slice.call(this, 0).join(' ');\n        },\n\n        toString: function () {\n            return join.call(this, ' ');\n        },\n\n        toggle: function ( token ) {\n            if (!this.contains(token)) {\n                this.add(token);\n            } else {\n                this.remove(token);\n            }\n            return this.contains(token);\n        }\n    };\n\n    Object.defineProperty(Element.prototype, 'classList', {\n        get: function () {\n            return new window.DOMTokenList(this);\n        }\n    });\n}\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app     = require('spa-app/lib/core'),\n    metrics = require('app:metrics');\n\n\n// global link\napp.metrics = metrics[app.query.screenHeight] || metrics[screen.height] || metrics[720];\n\n// calculate and extend\napp.metrics.availHeight = app.metrics.height - (app.metrics.availTop  + app.metrics.availBottom);\napp.metrics.availWidth  = app.metrics.width  - (app.metrics.availLeft + app.metrics.availRight);\n\n\n// public\n//module.exports = app;\n","/**\n * Application geometry options.\n * Automatically loaded on application initialization and available as app.metrics.\n */\n\n'use strict';\n\n// public\nmodule.exports = {\n    480: {\n        // screen base dimension\n        height: 480,\n        width:  720,\n        // safe zone margins\n        availTop:    24,\n        availBottom: 24,\n        availRight:  32,\n        availLeft:   48\n        // project-specific vars\n        // put here ...\n    },\n\n    576: {\n        // screen base dimension\n        height: 576,\n        width:  720,\n        // safe zone margins\n        availTop:    24,\n        availBottom: 24,\n        availRight:  26,\n        availLeft:   54\n        // project-specific vars\n        // put here ...\n    },\n\n    720: {\n        // screen base dimension\n        height: 720,\n        width:  1280,\n        // safe zone margins\n        availTop:    30,\n        availBottom: 30,\n        availRight:  40,\n        availLeft:   40\n        // project-specific vars\n        // put here ...\n    },\n\n    1080: {\n        // screen base dimension\n        height: 1080,\n        width:  1920,\n        // safe zone margins\n        availTop:    45,\n        availBottom: 45,\n        availRight:  60,\n        availLeft:   60\n        // project-specific vars\n        // put here ...\n    }\n};\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar app = require('spa-app/lib/core'),\n    //metrics = require('app:metrics'),\n    linkCSS;\n\n\n//window.core = window.parent.getCoreInstance(window, app);\n\n\nlinkCSS = document.createElement('link');\nlinkCSS.rel  = 'stylesheet';\nlinkCSS.href = window.core.theme.path + app.metrics.height + '.css' + (DEVELOP ? '?' + Date.now() : '');\ndocument.head.appendChild(linkCSS);\n\n\n// public\nmodule.exports = linkCSS;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Emitter = require('cjs-emitter'),\n    Gettext = require('cjs-gettext'),\n    loader  = new Emitter();\n\n\n/**\n * Wrap the given data with gettext instance\n * and export methods to the global scope.\n *\n * @param {Object} [data] localization data\n *\n * @return {Gettext} gettext instance\n */\nfunction prepare ( data ) {\n    var gettext = new Gettext(data);\n\n    // make it global\n    window.gettext  = window._ = gettext.gettext;\n    window.pgettext = gettext.pgettext;\n    window.ngettext = gettext.ngettext;\n\n    return gettext;\n}\n\n\n/**\n * Main application language\n */\nloader.defaultLanguage = 'en';\n\n\n/**\n * Simple gettext implementation.\n *\n * @param {Object} config options\n * @param {string} [config.path=lang] relative path to project root\n * @param {string} config.name language name\n * @param {string} [config.ext=json] language file extension\n * @param {function} callback hook on ready\n *\n * @return {boolean} flag is ajax request was made\n */\nloader.load = function ( config, callback ) {\n    var xhr;\n\n    if ( DEVELOP ) {\n        if ( !config.name || typeof config.name !== 'string' ) {\n            throw new Error(__filename + ': config.name must be a nonempty string');\n        }\n        if ( typeof callback !== 'function' ) {\n            throw new Error(__filename + ': wrong callback type');\n        }\n    }\n\n    // defaults\n    config.ext  = config.ext  || 'json';\n    config.path = config.path || 'lang';\n\n    // is it necessary to request a localization file?\n    if ( config.name === loader.defaultLanguage ) {\n        // no\n        prepare();\n        callback(null);\n\n        return false;\n    }\n\n    // yes\n    xhr = new XMLHttpRequest();\n\n    xhr.onload = function () {\n        var json;\n\n        try {\n            json = JSON.parse(xhr.responseText);\n\n            prepare(json);\n            callback(null);\n\n            // there are some listeners\n            if ( loader.events['load'] ) {\n                // notify listeners\n                loader.emit('load');\n            }\n        } catch ( error ) {\n            xhr.onerror(error);\n        }\n    };\n\n    xhr.ontimeout = xhr.onerror = function ( error ) {\n        prepare();\n        callback(error);\n\n        // there are some listeners\n        if ( loader.events['error'] ) {\n            // notify listeners\n            loader.emit('error', error);\n        }\n    };\n\n    xhr.open('GET', config.path + '/' + config.name + '.' + config.ext, true);\n    xhr.send(null);\n\n    return true;\n};\n\n\n// public\nmodule.exports = loader;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\n\n/**\n * Translations handler.\n *\n * @constructor\n *\n * @param {Object} config init parameters\n */\nfunction Gettext ( config ) {\n    var data, meta;\n\n    // sanitize\n    config   = config || {};\n    data     = config.data || {};\n    data[''] = data[''] || {};\n\n    // shortcut\n    meta = config.meta;\n\n    /**\n     * Display the native language translation of a textual message.\n     *\n     * @param {string} msgId textual message\n     *\n     * @return {string} translated text\n     */\n    this.gettext = function ( msgId ) {\n        return data[''][msgId] || msgId;\n    };\n\n\n    /**\n     * The \"p\" in \"pgettext\" stands for \"particular\": fetches a particular translation of the textual message.\n     *\n     * @param {string} context message context\n     * @param {string} msgId textual message\n     *\n     * @return {string} translated text\n     */\n    this.pgettext = function ( context, msgId ) {\n        return data[context] && data[context][msgId] || msgId;\n    };\n\n\n    /**\n     * Display the native language translation of a textual message whose grammatical form depends on a number.\n     *\n     * @param {string} msgId textual message in a singular form\n     * @param {string} plural textual message in a plural form\n     * @param {number} value message number\n     *\n     * @return {string} translated text\n     */\n    this.ngettext = function ( msgId, plural, value ) {\n        /* eslint no-unused-vars: 0 */\n        /* eslint no-eval: 0 */\n        /* eslint id-length: 0 */\n        var n, evalResult;\n\n        if ( DEVELOP ) {\n            if ( Number(value) !== value ) {\n                throw new Error(__filename + ': value must be a number');\n            }\n        }\n\n        if ( data && meta && data[''][msgId] ) {\n            evalResult = eval('n = ' + value + '; ' + meta.plural);\n\n            if ( typeof evalResult === 'boolean' ) {\n                evalResult = +evalResult;\n            }\n\n            // translation\n            return data[''][msgId][evalResult];\n        }\n\n        // english\n        return value === 1 ? msgId : plural;\n    };\n}\n\n\n// correct constructor name\nGettext.prototype.constructor = Gettext;\n\n\n// public\nmodule.exports = Gettext;\n","/**\n * Array.prototype.findIndex polyfill\n *\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\n */\n\n'use strict';\n\n/*eslint-disable*/\nif (!Array.prototype.findIndex) {\n    Array.prototype.findIndex = function(predicate) {\n        if (this == null) {\n            throw new TypeError('Array.prototype.findIndex called on null or undefined');\n        }\n        if (typeof predicate !== 'function') {\n            throw new TypeError('predicate must be a function');\n        }\n        var list = Object(this);\n        var length = list.length >>> 0;\n        var thisArg = arguments[1];\n        var value;\n\n        for (var i = 0; i < length; i++) {\n            value = list[i];\n            if (predicate.call(thisArg, value, i, list)) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\n","/**\n *\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nvar longClick = {\n        timer: 0,\n        pressed: false,\n        fired: false\n    },\n    LONG_CLICK_TIMEOUT = 600;\n\n\nmodule.exports = function ( app, config ) {\n    var keyToChange = config.code,\n        emitKeyCode = config.emitCode;\n\n\n    function emitKeydown ( event, redefine ) {\n        var page = app.activePage,\n            eventLocal = {\n                code: event.keyCode,\n                stop: false\n            },\n            eventType,\n            activeComponent;\n\n        redefine = redefine || {};\n\n        eventType = redefine.type || event.type;\n\n        // apply key modifiers\n        if ( event.ctrlKey )  { eventLocal.code += 'c'; }\n        if ( event.altKey )   { eventLocal.code += 'a'; }\n        if ( event.shiftKey ) { eventLocal.code += 's'; }\n        if ( redefine.code )  { eventLocal.code = redefine.code; }\n\n        console.log('app event: ' + eventType + ' - ' + eventLocal.code, event);\n\n        // page.activeComponent can be set to null in event handles\n        activeComponent = page.activeComponent;\n\n        // current component handler\n        if ( activeComponent && activeComponent !== page ) {\n            // component is available and not page itself\n            if ( activeComponent.events[eventType] ) {\n                // there are some listeners\n                activeComponent.emit(eventType, eventLocal, event);\n            }\n\n            // todo: bubble event recursively\n            // bubbling\n            if (\n                !eventLocal.stop\n                && activeComponent.propagate\n                && activeComponent.parent\n                && activeComponent.parent.events[event.type]\n            ) {\n                activeComponent.parent.emit(eventType, eventLocal, event);\n            }\n        }\n\n        // page handler\n        if ( !eventLocal.stop ) {\n            // not prevented\n            if ( page.events[eventType] ) {\n                // there are some listeners\n                page.emit(eventType, eventLocal, event);\n            }\n\n            // global app handler\n            if ( !event.stop ) {\n                // not prevented\n                if ( app.events[eventType] ) {\n                    // there are some listeners\n                    app.emit(eventType, eventLocal, event);\n                }\n            }\n        }\n    }\n\n    function keydownHandler ( event ) {\n        var page = app.activePage;\n\n        if ( DEVELOP ) {\n            if ( !page ) {\n                throw new Error(__filename + ': app should have at least one page');\n            }\n        }\n\n        if ( event.keyCode === keyToChange && !longClick.pressed ) {\n            if ( longClick.fired ) {\n                longClick.fired = false;\n            }\n            longClick.pressed = true;\n            clearTimeout(longClick.timer);\n            longClick.timer = setTimeout(function () {\n                emitKeydown(event, {code: emitKeyCode});\n                longClick.fired = true;\n\n            }, LONG_CLICK_TIMEOUT);\n        } else if ( event.keyCode !== keyToChange ) {\n            emitKeydown(event);\n        }\n    }\n\n    function keyupHandler ( event ) {\n        if ( event.keyCode === keyToChange ) {\n            if  ( !longClick.fired && longClick.pressed ) {\n                clearTimeout(longClick.timer);\n                emitKeydown(event, {type: 'keydown'});\n            }\n            longClick.pressed = false;\n        }\n    }\n\n    window.addEventListener('keydown', keydownHandler);\n    window.addEventListener('keyup', keyupHandler);\n};\n","/**\n * Epg page implementation.\n *\n * @author Stoian Roman <stoyan.roman@gmail.com>\n */\n\n'use strict';\n\n/* eslint max-lines-per-function: 0 */\n\nvar Page = require('stb-component-page'),\n    // page = new Page({$node: document.getElementById('pageEpg')}),\n    // app = require('mag-app'),\n\n    tag = require('spa-dom').tag,\n    keys = require('stb-keys'),\n\n    Footer = require('mag-component-footer'),\n\n    ModalMessage = require('mag-component-modal'),\n    LayoutList = require('mag-component-layout-list'),\n    Layout = require('mag-component-layout'),\n    Scroll = require('stb-component-scrollbar'),\n\n    EpgGrid = require('./epg.grid'),\n\n    footer, actionModal, actionList,\n    headerLayout, contentLayout,\n    epgGrid,\n    scroll,\n    ICONS;\n\nif ( TARGET === 'android-app' || TARGET === 'android-stb' ) {\n    ICONS = {\n        realtime: 'theme-icon theme-icon-back',\n        record: 'theme-icon theme-icon-play'\n    };\n} else {\n    ICONS = {\n        realtime: 'theme-icon theme-icon-rc-f3',\n        record: 'theme-icon theme-icon-rc-f1'\n    };\n}\n\n\nfunction prepareChannels ( data ) {\n    var list = [],\n        items = [],\n        channel, schedule, censored,\n        index, $logo;\n\n    for ( index = 0; index < data.length; index++ ) {\n        $logo = tag('div', {className: 'logo'});\n        if ( data[index].logo ) {\n            $logo.style.backgroundImage = 'url(' + core.backend.host + data[index].logo + ')';\n        }\n\n        censored = data[index].censored || (data[index].genre && data[index].genre.censored);\n        items = [\n            {\n                className: 'number',\n                value: data[index].number.toString()\n            },\n            $logo,\n            {\n                className: 'name',\n                value: data[index].name\n            },\n            {\n                className: data[index].archive ? 'theme-icon theme-icon-timeshift disabled' : 'theme-icon hidden'\n            },\n            {\n                className: censored ? 'theme-icon theme-icon-lock disabled' : 'theme-icon hidden'\n            },\n            {\n                className: 'arrowLeft theme-epg-grid-arrow-left'\n            },\n            {\n                className: 'arrowRight theme-epg-grid-arrow-right'\n            },\n            {\n                className: 'theme-epg-grid-timeshift hidden'\n            }\n        ];\n\n        channel = new Layout({\n            focusable: false,\n            data: items,\n            className: 'channel theme-epg-grid-main',\n            events: {\n                click: function () {\n                    this.parent.emit('click');\n                }\n            }\n        });\n\n        schedule = new Layout({\n            focusable: false,\n            className: 'schedule',\n            data: [],\n            events: {\n                click: function () {\n                    this.parent.emit('click');\n                }\n            }\n        });\n\n        channel.listIndex = index;\n        schedule.listIndex = index;\n\n        list.push({\n            value: data[index],\n            items: [channel, schedule],\n            censored: censored\n        });\n    }\n\n    return list;\n}\n\n\n/**\n * Send intent ro record epg program\n */\nfunction sendRecordEpgIntent () {\n    var channel = epgGrid.$focusItem.data.value,\n        epg;\n\n    if ( epgGrid.epgLastFocused ) {\n        epg = epgGrid.epgLastFocused.data;\n    }\n\n    core.intent({\n        action: 'record',\n        data: {\n            uri: channel.url,\n            name: channel.name,\n            epgName: channel.name,\n            startTime: epg ? epg.start : epgGrid.time,\n            endTime: epg ? epg.end : epgGrid.time + epgGrid.timeStep,\n            id: channel.id,\n            pvr: {\n                server: channel.pvr,\n                local:  channel.local_pvr\n            }\n        }\n    }, function ( ) { /**/ });\n}\n\n\n/**\n * Epg page implementation.\n *\n * @constructor\n * @extends stb-component-page\n *\n * @param {Object} [config={}] - init parameters (all inherited from the parent)\n * @param {Object} config.apiProvider - api provider to get Epg\n *\n * Epg item click event.\n *\n * @event epg:click\n *\n * @type {Object}\n * @property {number} channelIndex focus channel index\n * @property {Object} epg focus epg item data\n *\n * Channel item click event.\n *\n * @event channel:click\n *\n * @type {Object}\n * @property {number} channelIndex focus channel index\n *\n * Click back button event.\n *\n * @event back\n *\n * @type {Element} focus item\n */\nfunction EpgPage ( config ) {\n    var self = this;\n\n    config.className = 'magcore-page-epg' + (config.className ? ' ' + config.className : '');\n    Page.call(this, config);\n\n    this.addListener('show', function ( event ) {\n        epgGrid.focusIndex(event.data.index);\n        epgGrid.focus();\n        epgGrid.startCheck();\n    });\n\n    this.addListener('keydown', function ( event ) {\n        switch ( event.code ) {\n            case keys.back:\n                epgGrid.stopCheck();\n                self.emit('back', epgGrid.$focusItem);\n                break;\n        }\n    });\n\n    headerLayout = new Layout({\n        focusable: false,\n        data: [\n            {\n                name: '$title',\n                className: 'title',\n                value: gettext('TV Guide')\n            },\n            {\n                name: '$current',\n                className: 'current'\n            },\n            {\n                name: '$description',\n                className: 'description'\n            }\n        ],\n        className: 'header-layout theme-epg-grid-main'\n    });\n    this.add(headerLayout);\n\n    contentLayout = new Layout({\n        focusable: false,\n        data: [\n            {\n                className: 'time'\n            },\n            {\n                name: '$timeline',\n                className: 'timeline theme-epg-grid-timeline'\n            }\n        ],\n        className: 'content'\n    });\n    this.add(contentLayout);\n\n    epgGrid = new EpgGrid({\n        className: 'epg-list',\n        size: require('./metrics').epgGrid,\n        events: {\n            'click:item': function ( event ) {\n                var item = event.$item;\n\n                if ( item.data.value.epgItems.length ) {\n                    if ( item.data.value.epgItems[item.data.value.epgFocus] ) {\n                        if ( item.data.value.archive && item.data.value.epgItems[item.data.value.epgFocus].data.archive ) {\n                            self.emit('epg:click', {channelIndex: item.index, epg: item.data.value.epgItems[item.data.value.epgFocus].data});\n                        } else {\n                            self.emit('channel:click', {channelIndex: item.index});\n                        }\n                    }\n                } else {\n                    self.emit('channel:click', {channelIndex: item.index});\n                }\n            },\n            'focus:item': function ( data ) {\n                var item = data.$curr,\n                    list = [];\n\n                data = {\n                    left: {},\n                    middle: [],\n                    label: {\n                        code: keys.menu,\n                        title: gettext('Hold OK button to open Options menu'),\n                        action: function () {\n                            actionModal.show();\n                            actionModal.focus();\n                        }\n                    }\n                };\n\n                if ( item.data.value.pvr || item.data.value.local_pvr ) {\n                    data.middle.push({\n                        code: keys.f1,\n                        title: gettext('Record'),\n                        action: sendRecordEpgIntent\n                    });\n\n                    list.push({\n                        items: [\n                            {\n                                className: ICONS.record\n                            },\n                            {\n                                className: 'title',\n                                value: gettext('Record')\n                            }\n                        ],\n                        click: function () {\n                            actionModal.hide();\n                            sendRecordEpgIntent();\n                        }\n                    });\n                }\n\n                list.push({\n                    items: [\n                        {\n                            className: ICONS.realtime\n                        },\n                        {\n                            className: 'title',\n                            value: gettext('To real time')\n                        }\n                    ],\n                    click: function () {\n                        actionModal.hide();\n                        epgGrid.goToRealTime();\n                    }\n                });\n\n                data.middle.push({\n                    code: keys.f3,\n                    title: gettext('To real time'),\n                    action: function () {\n                        epgGrid.goToRealTime();\n                    }\n                });\n                data.left = {\n                    code: keys.menu,\n                    action: function () {\n                        actionModal.show();\n                        actionModal.focus();\n                    }\n                };\n                footer.init(data);\n                actionList.init({\n                    data: list,\n                    size: list.length,\n                    focusIndex: 0\n                });\n            }\n        },\n        noData: gettext('No Channels'),\n        apiProvider: config.apiProvider,\n        focusIndex: 0,\n        scroll: scroll = new Scroll(),\n        //epg config\n        $timeBlock: contentLayout.$node.children[0],\n        $programDescription: headerLayout.links.$description,\n        $programName: headerLayout.links.$current,\n        $timeLine: contentLayout.links.$timeline\n    });\n\n    contentLayout.add(epgGrid);\n    contentLayout.add(scroll);\n\n    if ( DEVELOP ) {\n        window.epgGrid = epgGrid;\n    }\n\n    footer = new Footer({visible: false, parent: this});\n    footer.init({\n        left: {\n            code: keys.menu,\n            action: function () {\n                actionModal.show();\n                actionModal.focus();\n            }\n        },\n        middle: [\n            {\n                code: keys.f1,\n                title: gettext('Record'),\n                action: sendRecordEpgIntent\n            },\n            {\n                code: keys.f3,\n                title: gettext('To real time'),\n                action: function () {\n                    epgGrid.goToRealTime();\n                }\n            }\n        ],\n        label: {\n            code: keys.menu,\n            title: gettext('Hold OK button to open Options menu'),\n            action: function () {\n                actionModal.show();\n                actionModal.focus();\n            }\n        }\n    });\n    footer.show();\n\n    this.add(\n        actionModal = new ModalMessage({\n            title: gettext('Actions'),\n            className: 'width2x',\n            events: {\n                show: function () {\n                    footer.hide();\n                    this.children[0].focus();\n                },\n                hide: function () {\n                    footer.show();\n                    epgGrid.focus();\n                }\n            },\n            children: [\n                actionList = new LayoutList({\n                    size: 2,\n                    focusIndex: 0,\n                    cycle: true,\n                    data: [\n                        {\n                            items: [\n                                {\n                                    className: ICONS.record\n                                },\n                                {\n                                    className: 'title',\n                                    value: gettext('Record')\n                                }\n                            ],\n                            click: function () {\n                                actionModal.hide();\n                                sendRecordEpgIntent();\n                            }\n                        },\n                        {\n                            items: [\n                                {\n                                    className: ICONS.realtime\n                                },\n                                {\n                                    className: 'title',\n                                    value: gettext('To real time')\n                                }\n                            ],\n                            click: function () {\n                                actionModal.hide();\n                                epgGrid.goToRealTime();\n                            }\n                        }\n                    ],\n                    events: {\n                        keydown: function ( event ) {\n                            LayoutList.prototype.defaultEvents.keydown.call(this, event);\n                            switch ( event.code ) {\n                                case keys.menu:\n                                case keys.back:\n                                    actionModal.hide();\n                                    event.stop = true;\n                                    break;\n                            }\n                        }\n                    }\n                })\n            ]\n        })\n    );\n}\n\n\nEpgPage.prototype = Object.create(Page.prototype);\nEpgPage.prototype.constructor = EpgPage;\n\n\n/**\n * Set channel list.\n *\n * @param {Array} data - channels\n */\nEpgPage.prototype.setChannels = function ( data ) {\n    epgGrid.setData({\n        data: prepareChannels(data),\n        focusIndex: 0\n    });\n    epgGrid.updateEpg();\n};\n\n\nmodule.exports = EpgPage;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('spa-component');\n\n\n/**\n * Base page implementation.\n *\n * A full-screen top-level layer that can operate as an independent separate entity.\n * It is added to the document body on creation if not already linked.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n *\n * @example\n * var Page = require('stb/ui/page'),\n *     page = new Page({\n *         $node: document.getElementById(id)\n *     });\n *\n * page.addListener('show', function show () {\n *     // page is visible now\n * });\n */\nfunction Page ( config ) {\n    // sanitize\n    config = config || {};\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n    }\n\n    /**\n     * Page visibility/active state flag.\n     *\n     * @readonly\n     * @type {boolean}\n     */\n    this.active = false;\n\n    /**\n     * Link to the currently active component with focus.\n     *\n     * @readonly\n     * @type {Component}\n     */\n    this.activeComponent = null;\n\n    // set default className if classList property empty or undefined\n    //config.className = 'page ' + (config.className || '');\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // state flag\n    this.active = this.$node.classList.contains('active');\n\n    // correct DOM parent/child connection if necessary\n    if ( this.$node.parentNode === null ) {\n        document.body.appendChild(this.$node);\n    }\n\n    // always itself\n    this.page = this;\n}\n\n\n// inheritance\nPage.prototype = Object.create(Component.prototype);\nPage.prototype.constructor = Page;\n\n// set component name\nPage.prototype.name = 'spa-component-page';\n\n\n// public\nmodule.exports = Page;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n// public\nmodule.exports = require('spa-component-modal');\n\n// correct component name\nmodule.exports.prototype.name = 'stb-component-modal';\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('spa-component');\n\n\n/**\n * Base modal window implementation.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n */\nfunction Modal ( config ) {\n    // sanitize\n    config = config || {};\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        if ( config.$body ) {\n            throw new Error(__filename + ': config.$body should not be provided manually');\n        }\n    }\n\n    // create centered div\n    config.$body = document.createElement('div');\n    config.$body.className = 'body';\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // add table-cell wrapper\n    this.$node.appendChild(document.createElement('div').appendChild(this.$body).parentNode);\n}\n\n\n// inheritance\nModal.prototype = Object.create(Component.prototype);\nModal.prototype.constructor = Modal;\n\n// set component name\nModal.prototype.name = 'spa-component-modal';\n\n\n// public\nmodule.exports = Modal;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('spa-component');\n\n\n/**\n * Base scroll bar implementation.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n * @param {number} [config.value=0] initial thumb position\n * @param {number} [config.realSize=100] actual scroll size\n * @param {number} [config.viewSize=10] visible area size\n * @param {number} [config.type] direction\n *\n * @example\n * var ScrollBar = require('stb/ui/scroll.bar'),\n *     scrollBar = new ScrollBar({\n *         viewSize: 5,\n *         realSize: 25,\n *         events: {\n *             done: function () {\n *                 debug.log('ScrollBar: done');\n *             },\n *             change: function ( data ) {\n *                 debug.log('ScrollBar: change to ' + data.curr + ' from ' + data.prev);\n *             }\n *         }\n *     });\n */\nfunction ScrollBar ( config ) {\n    // sanitize\n    config = config || {};\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        if ( config.type && Number(config.type) !== config.type ) {\n            throw new Error(__filename + ': config.type must be a number');\n        }\n    }\n\n    /**\n     * Visible area size.\n     *\n     * @type {number}\n     */\n    this.viewSize = 10;\n\n    /**\n     * Scroll area actual height or width (if scroll is horizontal).\n     *\n     * @type {number}\n     */\n    this.realSize = 100;\n\n    /**\n     * Scroll thumb position.\n     *\n     * @type {number}\n     */\n    this.value = 0;\n\n    /**\n     * Component orientation.\n     *\n     * @type {number}\n     */\n    this.type = this.TYPE_VERTICAL;\n\n    /**\n     * Geometry of the scroll thumb element.\n     *\n     * @type {ClientRect}\n     */\n    this.thumbRect = null;\n\n    /**\n     * Geometry of the scroll track element.\n     *\n     * @type {ClientRect}\n     */\n    this.trackRect = null;\n\n    // can't accept focus\n    config.focusable = config.focusable || false;\n\n    // set default className if classList property empty or undefined\n    //config.className = 'scrollBar ' + (config.className || '');\n\n    // horizontal or vertical\n    if ( config.type ) {\n        // apply\n        this.type = config.type;\n    }\n\n    if ( this.type === this.TYPE_HORIZONTAL ) {\n        config.className += ' horizontal';\n    }\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // insert thumb line\n    this.$thumb = this.$body.appendChild(document.createElement('div'));\n\n    // correct CSS class name\n    this.$thumb.className = 'thumb';\n\n    // component setup\n    this.init(config);\n}\n\n\n// inheritance\nScrollBar.prototype = Object.create(Component.prototype);\nScrollBar.prototype.constructor = ScrollBar;\n\n// set component name\nScrollBar.prototype.name = 'spa-component-scrollbar';\n\nScrollBar.prototype.TYPE_VERTICAL   = 1;\nScrollBar.prototype.TYPE_HORIZONTAL = 2;\n\n\n/**\n * Init or re-init realSize/viewSize/value parameters.\n *\n * @param {Object} config init parameters (subset of constructor config params)\n */\nScrollBar.prototype.init = function ( config ) {\n    config = config || {};\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n    }\n\n    // set actual scroll size\n    if ( config.realSize !== undefined ) {\n        if ( DEVELOP ) {\n            if ( Number(config.realSize) !== config.realSize ) {\n                throw new Error(__filename + ': config.realSize value must be a number');\n            }\n        }\n\n        // apply\n        this.realSize = config.realSize;\n    }\n\n    // set visible area size\n    if ( config.viewSize !== undefined ) {\n        if ( DEVELOP ) {\n            if ( Number(config.viewSize) !== config.viewSize ) {\n                throw new Error(__filename + ': config.viewSize value must be a number');\n            }\n            if ( config.viewSize < 0 ) {\n                throw new Error(__filename + ': config.viewSize value must be greater than 0');\n            }\n        }\n\n        // apply\n        this.viewSize = config.viewSize;\n    }\n\n    // show or hide thumb\n    if ( this.viewSize >= this.realSize ) {\n        this.$thumb.classList.add('hidden');\n    } else {\n        this.$thumb.classList.remove('hidden');\n    }\n\n    // set thumb position\n    if ( config.value !== undefined ) {\n        // apply\n        this.scrollTo(config.value);\n    }\n\n    // set thumb size\n    if ( this.type === this.TYPE_VERTICAL ) {\n        this.$thumb.style.height = (this.viewSize / this.realSize * 100) + '%';\n    } else {\n        this.$thumb.style.width = (this.viewSize / this.realSize * 100) + '%';\n    }\n\n    // geometry\n    this.thumbRect = this.$thumb.getBoundingClientRect();\n    this.trackRect = this.$node.getBoundingClientRect();\n};\n\n\n/**\n * Set position of the given value.\n * Does nothing in case when scroll is in the end and passed value is more than scroll bar length.\n *\n * @param {number} value new value to set\n * @return {boolean} operation result\n *\n * @fires module:stb/ui/scroll.bar~ScrollBar#done\n * @fires module:stb/ui/scroll.bar~ScrollBar#change\n */\nScrollBar.prototype.scrollTo = function ( value ) {\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( Number(value) !== value ) {\n            throw new Error(__filename + ': value must be a number');\n        }\n        if ( this.realSize > this.viewSize && value > this.realSize - this.viewSize ) {\n            throw new Error(__filename + ': value is greater than this.realSize-this.viewSize');\n        }\n        if ( value < 0 ) {\n            throw new Error(__filename + ': value is less then 0');\n        }\n    }\n\n    // value has changed\n    if ( this.value !== value ) {\n        // track and thumb geometry was not set\n        if ( this.thumbRect.height === 0 || this.thumbRect.width === 0 ) {\n            // apply\n            this.trackRect = this.$node.getBoundingClientRect();\n            this.thumbRect = this.$thumb.getBoundingClientRect();\n        }\n\n        // set scroll bar width\n        if ( this.type === this.TYPE_VERTICAL ) {\n            this.$thumb.style.marginTop = ((this.trackRect.height - this.thumbRect.height) * value / (this.realSize - this.viewSize)) + 'px';\n        } else {\n            this.$thumb.style.marginLeft = ((this.trackRect.width - this.thumbRect.width) * value / (this.realSize - this.viewSize)) + 'px';\n        }\n\n        // there are some listeners\n        if ( this.events['change'] ) {\n            /**\n             * Update scroll value.\n             *\n             * @event module:stb/ui/scroll.bar~ScrollBar#change\n             *\n             * @type {Object}\n             * @property {number} prev old/previous scroll value\n             * @property {number} curr new/current scroll value\n             */\n            this.emit('change', {curr: value, prev: this.value});\n        }\n\n        // is it the end?\n        if ( value >= this.realSize ) {\n            value = this.realSize;\n\n            // there are some listeners\n            if ( this.events['done'] ) {\n                /**\n                 * Set scroll to its maximum value.\n                 *\n                 * @event module:stb/ui/scroll.bar~ScrollBar#done\n                 */\n                this.emit('done');\n            }\n        }\n\n        // set new value\n        this.value = value;\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n// public\nmodule.exports = ScrollBar;\n","/**\n * Epg list implementation.\n *\n * @author Stoian Roman <stoyan.roman@gmail.com>\n */\n\n'use strict';\n\n/* eslint max-lines-per-function: 0 */\n\nvar dom = require('spa-dom'),\n    keys = require('stb-keys'),\n\n    Layout     = require('mag-component-layout'),\n    LayoutList = require('mag-component-layout-list'),\n    metrics    = require('./metrics'),\n\n    fullMonthNames = [\n        gettext('January'),\n        gettext('February'),\n        gettext('March'),\n        gettext('April'),\n        gettext('May'),\n        gettext('June'),\n        gettext('July'),\n        gettext('August'),\n        gettext('September'),\n        gettext('October'),\n        gettext('November'),\n        gettext('December')\n    ],\n    fullDaysOfWeek = [\n        gettext('Sunday '),\n        gettext('Monday '),\n        gettext('Tuesday '),\n        gettext('Wednesday '),\n        gettext('Thursday '),\n        gettext('Friday '),\n        gettext('Saturday ')\n    ];\n\n\nfunction EpgGrid ( config ) {\n    this.scheduleWidth = metrics.scheduleWidth;\n\n    /**\n     * Link to the object for limited scopes.\n     *\n     * @type {DVBList}\n     */\n    this.time = null;\n    this.day = 0;\n    this.timeStep = metrics.timeStep;\n    this.countOfSteps = metrics.countOfSteps;\n    this.scheduleBlock = this.scheduleWidth / this.timeStep;\n    this.step = this.timeStep / this.countOfSteps;\n\n    this.timeLineMargin = metrics.timeLineMargin;\n\n    this.itemHeight = metrics.itemHeight;\n\n    this.timeLineTop = metrics.timeLineTop;\n\n    this.$timeBlock = config.$timeBlock;\n    this.$programDescription = config.$programDescription;\n    this.$programName = config.$programName;\n    this.$timeLine = config.$timeLine;\n\n    this.$timeLine.appendChild(dom.tag('div', {className: 'timemark theme-epg-grid-timemark'}));\n\n    this.timers = {};\n    this.internal = {};\n    // 0- real time 1- in focus\n    this.epgMode = 0;\n    this.epgFocusTime = null;\n    this.epgLastFocused = null;\n    if ( !config.events ) {\n        config.events = {};\n    }\n    if ( !config.events.keydown ) {\n        config.events.keydown = function ( event ) {\n            switch ( event.code ) {\n                case keys.right:\n                case keys.left:\n                    this.moveEpg(event.code);\n                    break;\n                case keys.up:\n                case keys.down:\n                case keys.pageUp:\n                case keys.pageDown:\n                case keys.home:\n                case keys.end:\n                    // cursor move only on arrow keys\n                    this.move(event.code);\n                    break;\n                case keys.enter:\n                    // there are some listeners\n                    event.stop = true;\n                    this.pressOk();\n                    break;\n            }\n        };\n    }\n    this.apiProvider = config.apiProvider;\n\n    LayoutList.call(this, config);\n}\n\n\nEpgGrid.prototype = Object.create(LayoutList.prototype);\nEpgGrid.prototype.constructor = EpgGrid;\n\n\nEpgGrid.prototype.renderItem = function ( $item, config ) {\n    var self = this,\n        layout, domLinks, layoutConfig;\n\n    while ( $item.firstChild ) {\n        $item.removeChild($item.firstChild);\n    }\n\n    layoutConfig = {\n        focusable: false,\n        data: config.items\n    };\n\n    if ( config.className ) {\n        layoutConfig.className = config.className;\n    }\n\n    if ( config.events ) {\n        layoutConfig.events = config.events;\n    } else {\n        layoutConfig.events = {\n            click: function () {\n                self.focusItem($item);\n                self.pressOk();\n            }\n        };\n    }\n\n    layout = new Layout(layoutConfig);\n\n    $item.appendChild(layout.$node);\n    $item.layout = layout;\n    layout.parent = this;\n    layout.$parentItem = $item;\n\n    domLinks = config.items[0].value.$node.children;\n\n    $item.censored = config.censored;\n\n    // on init list save needed links\n    $item.domLinks = {\n        $number: domLinks[0],\n        $icon: domLinks[1],\n        $title: domLinks[2],\n        $archiveIcon: domLinks[3],\n        $lockIcon: domLinks[4],\n        $archiveLine: domLinks[7]\n    };\n\n    if ( config.click ) {\n        this.handlers[$item.index] = config.click;\n    }\n    // item is rendered\n    $item.ready = true;\n    // }\n    $item.value = config.value || {};\n    if ( config.value.archive ) {\n        config.value.$archiveLine = $item.domLinks.$archiveLine;\n        $item.domLinks.$archiveLine.classList.remove('hidden');\n    } else {\n        config.value.$archiveLine = null;\n        $item.domLinks.$archiveLine.classList.add('hidden');\n    }\n    if ( config ) {\n        this.fillItem($item, config);\n    }\n};\n\n\nEpgGrid.prototype.setData = function ( config ) {\n    LayoutList.prototype.setData.call(this, config);\n\n    if ( this.data.length < this.size ) {\n        this.$timeLine.style.height = (this.itemHeight * this.data.length) + this.timeLineTop + 'px';\n    } else {\n        this.$timeLine.style.height = (this.itemHeight * this.size) + this.timeLineTop + 'px';\n    }\n};\n\n\nEpgGrid.prototype.moveEpg = function ( code ) {\n    switch ( code ) {\n        case keys.left:\n            this.subPrev();\n            break;\n        case keys.right:\n            this.subNext();\n            break;\n    }\n};\n\n\nEpgGrid.prototype.pressOk = function () {\n    if ( this.events['click:item'] && this.$focusItem ) {\n        // notify listeners\n        this.emit('click:item', {$item: this.$focusItem, event: event});\n    }\n};\n\n\n/**\n * on Focus event.\n *\n * @param {Object} event - event data\n */\nEpgGrid.prototype.onFocus = function ( event ) {\n    var self = this,\n        focus = 0,\n        index, data;\n\n    this.repositionTimeLine();\n    if ( this.timers.onFocus ) {\n        clearTimeout(this.timers.onFocus);\n    }\n    if ( this.epgMode ) {\n        this.timers.onFocus = setTimeout(function () {\n            data = event.$curr.data;\n            if ( data.value.epgItems.length ) {\n                for ( index = 0; index < data.value.epgItems.length; index++ ) {\n                    if ( self.epgFocusTime >= data.value.epgItems[index].data.start && self.epgFocusTime < data.value.epgItems[index].data.end ) {\n                        focus = index;\n                        break;\n                    }\n                }\n                data.value.epgFocus = focus;\n                self.focusEpg(data.value.epgItems[data.value.epgFocus], true);\n            } else {\n                if ( self.epgLastFocused ) {\n                    self.epgLastFocused.classList.remove('theme-epg-grid-focused');\n                    self.epgLastFocused.focused = false;\n                }\n                self.epgLastFocused = null;\n            }\n        }, core.environment.onFocusDebounceTimeout);\n\n    }\n};\n\n\nEpgGrid.prototype.onOverflow = function () {\n    var self = this;\n\n    if ( this.timers.onOverflow ) {\n        clearTimeout(this.timers.onOverflow);\n    }\n    this.timers.onOverflow = setTimeout(function () {\n        self.updateEpg();\n    }, core.environment.onFocusDebounceTimeout);\n};\n\n\nEpgGrid.prototype.init = function ( config ) {\n    LayoutList.prototype.init.call(this, config);\n\n    this.addListener('focus:item', this.onFocus);\n    this.addListener('move:view', this.onOverflow);\n};\n\n\nEpgGrid.prototype.startCheck = function () {\n    this.checkingTime();\n};\n\n\nEpgGrid.prototype.stopCheck = function () {\n    var key;\n\n    for ( key in this.internal ) {\n        clearInterval(this.internal[key]);\n    }\n\n    for ( key in this.timers ) {\n        clearTimeout(this.timers[key]);\n    }\n};\n\n\nEpgGrid.prototype.fillItem = function ( $item, config ) {\n    var width = 0,\n        epgItems = [],\n        before = this.time,\n        margin = 2,\n        $epgItem, index, data;\n\n    dom.clear(config.items[1].value.$node);\n\n    if ( (!$item.censored || core.accessControl.state) && config.value.epgGrid && config.value.epgGrid.length ) {\n        for ( index = 0; index < config.value.epgGrid.length; index++ ) {\n            data = config.value.epgGrid[index];\n            if ( data.start >= this.time + this.timeStep - 60 ) {\n                break;\n            }\n\n            if ( data.end > this.time ) {\n                if ( data.start >= before + 60 ) {\n                    $epgItem = dom.tag('div', {className: 'program theme-epg-grid-noData'},\n                        dom.tag('div', {className: 'text', data: {focusable: false}}, gettext('No data')));\n\n                    width = (data.start - before) * this.scheduleBlock;\n                    width = Math.floor(width) - margin;\n                    $epgItem.children[0].style.width = width + 'px';\n                    dom.add(config.items[1].value.$node, $epgItem);\n                    before = data.start;\n                }\n                data.focusable = true;\n\n                $epgItem = dom.tag('div', {className: 'program theme-epg-grid-default'},\n                    dom.tag('div', {className: 'text', data: data}, data.title));\n\n                if ( data.end < this.time + this.timeStep ) {\n                    width = (data.end - before) * this.scheduleBlock;\n                } else {\n                    width = (this.time + this.timeStep - before) * this.scheduleBlock;\n                }\n                width = Math.floor(width) - margin;\n                before = data.end;\n                $epgItem.children[0].style.width = width + 'px';\n                $epgItem.data = data;\n                dom.add(config.items[1].value.$node, $epgItem);\n                epgItems.push($epgItem);\n            }\n            config.value.epgItems = epgItems;\n        }\n        if ( before < this.time + this.timeStep ) {\n            width = (this.time + this.timeStep - before) * this.scheduleBlock;\n            if ( width > 2 * margin ) {\n                $epgItem = dom.tag('div', {className: 'program theme-epg-grid-noData'},\n                    dom.tag('div', {className: 'text', data: {focusable: false}}, gettext('No data')));\n                width = Math.floor( width ) - margin;\n                $epgItem.children[0].style.width = width + 'px';\n                dom.add(config.items[1].value.$node, $epgItem);\n            }\n        }\n    } else {\n        $epgItem = dom.tag('div', {className: 'program theme-epg-grid-noData'},\n            dom.tag('div', {className: 'text', data: {focusable: false}}, gettext('No data')));\n        $epgItem.children[0].style.width = this.scheduleWidth - margin + 'px';\n        dom.add(config.items[1].value.$node, $epgItem);\n        config.value.epgItems = [];\n    }\n};\n\n\nEpgGrid.prototype.checkCurrent = function () {\n    var self = this,\n        $item = this.$focusItem,\n        time = Date.now() / 1000,\n        data, left, check,\n        index, child;\n\n    function checkData ( epgItem, focusIndex ) {\n        if ( check && epgItem.data && time > epgItem.data.start && time < epgItem.data.end ) {\n            epgItem.classList.add('theme-epg-grid-current');\n            check = false;\n            if ( !self.epgMode && child === $item ) {\n                self.focusEpg(epgItem, true);\n                $item.data.value.epgFocus = focusIndex;\n            }\n        } else {\n            epgItem.classList.remove('theme-epg-grid-current');\n            if ( !self.epgMode && self.$body.children[focusIndex] === $item ) {\n                epgItem.classList.remove('theme-epg-grid-focused');\n            }\n        }\n    }\n\n    for ( index = 0; index < this.$body.children.length; index++ ) {\n        check = true;\n        child = this.$body.children[index];\n        if ( child.data && child.data.value.epgItems && child.data.value.epgItems.length ) {\n            data = child.data.value.epgItems;\n            data.forEach(checkData);\n        }\n    }\n\n    if ( $item && $item.data.value.$archiveLine ) {\n        if ( $item.data.value.epgGrid && $item.data.value.epgGrid.length ) {\n            if ( (this.time + this.timeStep) > time ) {\n                if ( time >= this.time ) {\n                    left = Math.ceil((time - this.time) * this.scheduleBlock);\n                    $item.data.value.$archiveLine.style.width = left + 'px';\n                    $item.data.value.$archiveLine.style.display = '';\n                } else {\n                    $item.data.value.$archiveLine.style.display = 'none';\n                }\n            } else {\n                $item.data.value.$archiveLine.style.width = this.scheduleWidth + 'px';\n            }\n        } else {\n            $item.data.value.$archiveLine.style.display = 'none';\n        }\n    }\n};\n\n\nEpgGrid.prototype.setCurrentProgram = function () {\n    if ( this.epgLastFocused && this.epgLastFocused.data ) {\n        this.$programDescription.innerText = this.epgLastFocused.data.description || '';\n        this.$programName.innerText = this.epgLastFocused.data.title || '';\n    } else {\n        this.$programDescription.innerText = '';\n        this.$programName.innerText = '';\n    }\n};\n\n\nEpgGrid.prototype.repositionTimeLine = function () {\n    var newTime = new Date(),\n        left = 0,\n        time = Math.ceil(newTime.getTime() / 1000);\n\n    if ( time >= this.time && this.time + this.timeStep > time ) {\n        left = Math.ceil((time - this.time) / this.timeStep * this.scheduleWidth);\n        left += this.timeLineMargin;\n        this.$timeLine.style.display = 'block';\n        this.$timeLine.style.left = left + 'px';\n    } else {\n        this.$timeLine.style.display = 'none';\n    }\n    this.checkCurrent();\n};\n\n\n/**\n * Checking EPG in time.\n *\n * @param {boolean} state - epgMode\n */\nEpgGrid.prototype.epgModeChange = function ( state ) {\n    var self = this;\n\n    this.epgMode = !!state;\n\n    if ( this.timers.epgModeChange ) {\n        clearTimeout(this.timers.epgModeChange);\n    }\n\n    if ( this.epgMode ) {\n        this.timers.epgModeChange = setTimeout(function () {\n            self.goToRealTime();\n        }, 3 * 60 * 1000);\n    }\n};\n\n\n/**\n * Checking EPG in time.\n */\nEpgGrid.prototype.checkingTime = function () {\n    var newTime = this.getStartTime(),\n        self = this;\n\n    if ( this.internal.checkingTime ) {\n        clearInterval(this.internal.checkingTime);\n    }\n    if ( this.epgMode ) {\n\n        return;\n    }\n\n    if ( this.time !== newTime ) {\n        this.time = newTime;\n    }\n    this.initTimeBlock();\n    // this.repositionTimeLine();\n    this.internal.checkingTime = setInterval(function () {\n        if ( !self.epgMode  ) {\n            newTime = self.getStartTime();\n            if ( self.time !== newTime ) {\n                self.time = newTime;\n                self.initTimeBlock();\n            }\n        }\n        self.repositionTimeLine();\n    }, 60 * 1000);\n};\n\n\nEpgGrid.prototype.initTimeBlock = function ( last, first ) {\n    var time, dayName, min,\n        hour, month, day,\n        ms, dateText, index;\n\n    if ( this.time === null ) {\n        this.time = this.getStartTime();\n    }\n\n    ms = this.time - (this.step / 2);\n    time = new Date(ms * 1000);\n    dayName = fullDaysOfWeek[time.getDay()];\n    min = time.getMinutes();\n    hour = time.getHours();\n    month = time.getMonth() + 1;\n    day = time.getDate();\n    dateText = dayName + ', ' + day + ' ' + fullMonthNames[month - 1];\n\n    dom.clear(this.$timeBlock);\n    dom.add(this.$timeBlock, dom.tag('div', {className: 'date theme-epg-grid-date'}, dateText));\n    for ( index = 2; index <= 2 * this.countOfSteps; index += 2 ) {\n        time.setTime((ms + (index * this.step / 2)) * 1000);\n        min = time.getMinutes();\n        hour = time.getHours();\n        dom.add(this.$timeBlock, dom.tag('div', {className: 'hours theme-epg-grid-date ' + (min === 30 ? 'halfhour' : 'hour')},\n            (hour < 10 ? '0' + hour : hour) + ':' + (min < 10 ? '0' + min : min),\n            dom.tag('div', {className: 'hourmark theme-epg-grid-hourmark'})));\n    }\n    this.updateEpg(last, first);\n};\n\n\n/**\n * Get start time.\n *\n * @return {number} start time\n */\nEpgGrid.prototype.getStartTime = function () {\n    var date = new Date(),\n        time, delta, sec;\n\n    sec = Math.floor(date.getTime() / 1000);\n    time = date.getMinutes() * 60;\n    delta = time % (2 * this.step);\n\n    if ( delta < this.step ) {\n        return sec - delta - (this.step / 2);\n    }\n\n    return  sec - delta + (this.step / 2);\n};\n\n\nEpgGrid.prototype.updateEpg = function ( last, first ) {\n    var channelList = [],\n        config = {},\n        self = this,\n        index, childrenLength, dataLength;\n\n    for ( index = 0; index < this.$body.children.length; index++ ) {\n        if ( this.$body.children[index].data ) {\n            channelList.push(this.$body.children[index].data.value);\n        }\n    }\n\n    if ( channelList.length === 0 ) {\n        return;\n    }\n\n    config.channels = channelList;\n    if ( !this.time ) {\n        this.time = this.getStartTime();\n    }\n    config.from = this.time * 1000;\n    config.to = config.from + (this.timeStep * 1000);\n    if ( this.request ) {\n        this.request.abort();\n    }\n\n    childrenLength = this.$body.children.length;\n    dataLength = this.data.length;\n    for ( index = 0; index < childrenLength; index++ ) {\n        if ( this.$body.children[index].index < dataLength ) {\n            dom.clear(this.data[this.$body.children[index].index].items[1].value.$node);\n        } else {\n            break;\n        }\n    }\n\n    this.request = this.apiProvider.getChannelsEpg(config, function ( error, data ) {\n        if ( !error ) {\n            for ( index = 0; index < channelList.length; index++ ) {\n                if ( data[channelList[index].id] ) {\n                    channelList[index].epgGrid = data[channelList[index].id];\n                } else {\n                    channelList[index].epgGrid = null;\n                }\n            }\n        }\n        for ( index = 0; index < self.$body.children.length; index++ ) {\n            if ( self.$body.children[index].data ) {\n                self.fillItem(self.$body.children[index], self.data[self.$body.children[index].index]);\n            }\n        }\n        self.checkCurrent();\n        if ( self.epgMode ) {\n            data = self.$focusItem.data;\n            if ( data.value.epgItems.length ) {\n                if ( last ) {\n                    data.value.epgFocus = data.value.epgItems.length - 1;\n                } else if ( first ) {\n                    data.value.epgFocus = 0;\n                } else {\n                    data.value.epgFocus = 0;\n                    for ( index = 0; index < data.value.epgItems.length; index++ ) {\n                        if ( self.epgFocusTime >= data.value.epgItems[index].data.start && self.epgFocusTime < data.value.epgItems[index].data.end ) {\n                            data.value.epgFocus = index;\n                            break;\n                        }\n                    }\n                }\n                self.focusEpg(data.value.epgItems[data.value.epgFocus], true);\n            } else {\n                self.focusEpg(self.epgLastFocused, false);\n            }\n        }\n    });\n    this.repositionTimeLine();\n};\n\n\n/**\n * Handle focus state for the given item.\n * Also removes the focus from the previously focused item.\n *\n * @param {Node} item - the element to be processed\n * @param {boolean} [state=true] - flag of the state\n */\nEpgGrid.prototype.focusEpg = function ( item, state ) {\n    state = !!state;\n\n    // valid html element given, enabled and visible\n    if ( item.focused !== state ) {\n        if ( state ) {\n            if ( this.epgLastFocused ) {\n                this.epgLastFocused.classList.remove('theme-epg-grid-focused');\n                this.epgLastFocused.focused = false;\n\n            }\n            item.classList.add('theme-epg-grid-focused');\n            item.focused = true;\n            this.epgLastFocused = item;\n            this.epgFocusTime = item.data.start;\n            this.setCurrentProgram();\n            // this.repositionTimeLine();\n        } else {\n            item.classList.remove('theme-epg-grid-focused');\n            item.focused = false;\n            if ( this.epgLastFocused === item ) {\n                this.epgLastFocused = null;\n                this.epgFocusTime = this.time;\n                this.setCurrentProgram();\n                // this.repositionTimeLine();\n            }\n        }\n    }\n};\n\n\n/**\n * Set focus on next sub element.\n */\nEpgGrid.prototype.subNext = function () {\n    var data = this.$focusItem.data;\n\n    this.epgModeChange(true);\n    if ( data.value.epgItems.length && data.value.epgFocus + 1 < data.value.epgItems.length ) {\n        data.value.epgFocus++;\n        this.focusEpg(data.value.epgItems[data.value.epgFocus], true);\n    } else {\n        this.time += this.timeStep - this.step;\n        this.initTimeBlock(false, true);\n    }\n};\n\n\n/**\n * Set focus on prev sub element,\n */\nEpgGrid.prototype.subPrev = function () {\n    var data = this.$focusItem.data;\n\n    this.epgModeChange(true);\n    if ( data.value.epgItems.length > 0 && data.value.epgFocus > 0 ) {\n        data.value.epgFocus--;\n        this.focusEpg(data.value.epgItems[data.value.epgFocus], true);\n    } else {\n        this.time -= this.timeStep - this.step;\n        this.initTimeBlock(true);\n    }\n};\n\n\n/**\n * Go to real time position.\n */\nEpgGrid.prototype.goToRealTime = function () {\n    var time = this.getStartTime();\n\n    if ( this.epgMode ) {\n        this.epgModeChange(false);\n        if ( this.time !== time ) {\n            this.time = time;\n            this.initTimeBlock();\n        }\n    }\n};\n\n\nmodule.exports = EpgGrid;\n","/**\n * @author Aleynikov Boris <alynikov.boris@gmail.com>.\n */\n\n'use strict';\n\n/*eslint no-use-before-define:0*/\n/*eslint no-lonely-if:0*/\n/*eslint no-negated-condition:0*/\n/*eslint max-lines:0*/\n\n\nvar Page = require('stb-component-page'),\n    page = new Page({$node: document.getElementById('pageChannels')}),\n    app = require('mag-app'),\n    format = require('cjs-format'),\n    utils = require('../modules/utils'),\n    PanelSet = require('mag-component-panel-set'),\n    Panel = require('mag-component-panel'),\n    LayoutList = require('mag-component-layout-list'),\n    RadioList = require('mag-component-radio-list'),\n    ModalMessage = require('mag-component-modal'),\n    ScrollBar = require('stb-component-scrollbar'),\n    Footer = require('mag-component-footer'),\n    provider = app.provider,\n    keys = require('stb-keys'),\n    // lastSendCtx,\n    scrollbars = {\n        channelList: new ScrollBar(),\n        categoryList: new ScrollBar(),\n        epg: new ScrollBar()\n    },\n    iconList = require('../modules/modal.icons'),\n    appUIPanels = [],\n    //\n    //channels = [],\n    keyblock = false,\n    //HIDE_FLAG = false,\n    KEYBLOCK_REVERT_TIMOUT = 1500,\n    keyblockRevertTimeout = null,\n    titleWidget = require('../modules/title.widget'),\n    tv = {\n        config: {\n            favorite: false,\n            byName: false,\n            genre: false,\n            search: ''\n        },\n        lastActiveState: {\n            config: {\n                favorite: false,\n                byName: false,\n                genre: false,\n                search: ''\n            }\n        },\n        list: [],\n        epg: {\n            list: [],\n            currentPlayIndex: 0\n        },\n        current: null,\n        currentIndex: undefined,\n        // timeout to update epg program\n        epgTimeout: null,\n        footerInitDelay: null,\n        // timeout to reinit epg list\n        epgUpdateTimeout: null,\n        context: null,\n        lastChannelTimeout: null,\n        channelFooterTimeout: null,\n        channelListEpgTimeout: null,\n        channelListEpgInterval: null\n    },\n    menuItems,\n    mainSet,  categoryModalList,\n    channelList, programList, menuList, leftPanel, channelPanel, epgPanel,\n    categoryList, sortList, channelActionModal, footer, epgMenu, actionModalList, exitModal, resetModal,\n    $channelsCount = document.createElement('div'),\n    $channelsCountWrapper = document.createElement('div'),\n    $nowDate = document.createElement('div'),\n    $noEpg = document.createElement('div'),\n    // const\n    CURRENT_EPG_UPDATE_INTERVAL = 60000 * 5,\n    antennaEnable = !!app.provider.antennaPower,\n    // how long notification will be shown\n    CHANNELS_UPDATE_NOTIFICATION_TIMEOUT = 7000,\n    // damn hardcode flag turn on after pip\n    NEED_SILENCE = false,\n    LAST_CHANNEL_TIMEOUT = 1000;\n\n\nfunction closeOpenedIntents ( intents ) {\n    // close existing osd intents\n    intents.forEach(function ( intent ) {\n        if ( intent !== null ) {\n            intent.close();\n        }\n    });\n}\n\n\n/**\n * State of app is in foreground\n * @type {boolean} state\n */\napp.foreground = true;\n\nif ( TARGET === 'dvb' ) {\n    app.provider.addListener('scanning:stop', function () {\n        updateChannelList();\n    });\n    app.provider.addListener('channels:update', function () {\n        updateChannelList();\n    });\n    app.provider.addListener('epg:update', function () {\n        if ( channelList.$focusItem ) {\n            channelList.$focusItem.data.value.getEpg(null, renderEpgList);\n        }\n    });\n    app.provider.addListener('antennaPower', function ( enable ) {\n        antennaEnable = enable;\n        initFooterOnChannelSelect();\n        renderActionModal();\n        menuList.$body.children[2].children[0].children[0].className = 'theme-icon ' +\n            ( antennaEnable ? 'theme-icon-dvb-power-on' : 'theme-icon-dvb-power-off' );\n    });\n}\n\n// need to stop player if app was closed by task manager\n// @deprecated\ncore.addListener('close', onExitAppHandler);\ncore.addListener('exit', onExitAppHandler);\n\ncore.addListener('hide', function ( event ) {\n    console.log('tv-app hide', 'event.action:' + event.source);\n    if ( event.source === core.SOURCES.INTENT && event.data && event.data.intent && event.data.intent.action === 'play' ) {\n        // do nothing\n        console.log(event, 'core.SOURCES.INTENT');\n        app.foreground = false;\n    } else {\n        console.log('tv-app emit exit');\n        if ( app.lastIntent ) {\n            app.lastIntent.emit('exit');\n        }\n        if ( isSortingDifferent() ) {\n            resetFilters(tv.lastActiveState.config);\n\n            tv.config.favorite = tv.lastActiveState.config.favorite;\n            tv.config.genre = tv.lastActiveState.config.genre;\n            tv.config.search = tv.lastActiveState.config.search;\n            tv.config.byName = tv.lastActiveState.config.byName;\n        }\n    }\n});\n\ncore.addListener('show', function ( event ) {\n    var silentState = app.foreground,\n        contextState = app.foreground ? tv.context : null;\n\n    console.log('SHOW!!!');\n    console.log(event);\n\n    if ( (event.source === core.SOURCES.INTENT && event.data && event.data.intent && event.data.intent.action === 'play')\n        || (event.source === core.SOURCES.SYSTEM && event.data && event.data.intent && event.data.intent.action !== 'record')\n    ) {\n        app.foreground = true;\n        // app shown by intent.show() , it's just swap\n        // hide osd intent if present\n        if ( app.intents.osdTv ) {\n            app.intents.osdTv.close();\n            app.intents.osdTv = null;\n        }\n        channelList.focusIndex(tv.currentIndex);\n\n        // update epg for visible channels in list and epg of current channel\n        updateChannelListEpg();\n        clearTimeout(tv.epgTimeout);\n        if ( !channelList.$focusItem ) {\n            return;\n        }\n        tv.epgTimeout = setTimeout(function () {\n            if ( !channelList.$focusItem ) {\n                return;\n            }\n            tv.list[channelList.$focusItem.index].getEpg(null, function ( error, data ) {\n                renderEpgList(error, data);\n                initFooterOnEpgSelect();\n            });\n        }, 800);\n    } else {\n        if ( tv.list[tv.currentIndex] && !tv.list[tv.currentIndex].censored &&\n            ( !tv.list[tv.currentIndex].genre || !tv.list[tv.currentIndex].genre.censored )) {\n            setChannel(tv.currentIndex, {silent: silentState, context: contextState, force: true});\n        } else {\n            tv.currentIndex = null;\n            tv.current = null;\n        }\n    }\n});\n\npage.add(\n    categoryList = new ModalMessage({\n        visible: false,\n        title: gettext('Categories'),\n        className: 'categoryList',\n        events: {\n            show: function () {\n                this.focus();\n                this.children[0].focus();\n                setTimeout(function () {\n                    footer.hide();\n                }, 0);\n            },\n            hide: function () {\n                leftPanel.focus();\n            }\n        },\n        children: [\n            categoryModalList =  new LayoutList({\n                size: 5,\n                cycle: true,\n                // fixedData: true,\n                scroll: scrollbars.categoryList,\n                className: 'padded',\n                events: {\n                    'click:item': function ( event ) {\n                        var $icon = menuList.$body.children[2].children[0].children[0];\n\n                        categoryList.hide();\n\n                        tv.config.genre = event.$item.data.value.id;\n                        // left menu list\n                        leftPanel.children[0].$focusItem.layout.$node.children[1].innerText = event.$item.data.value.name;\n                        if ( event.$item.index ) {\n                            $icon.classList.add('active');\n                        } else {\n                            $icon.classList.remove('active');\n                        }\n                        updateChannelList(function () {\n                            // categoryList.hide();\n                            leftPanel.focus();\n                        });\n                    },\n                    keydown: function ( event ) {\n                        LayoutList.prototype.defaultEvents.keydown.call(this, event);\n                        switch ( event.code ) {\n                            case keys.back:\n                            case keys.menu:\n                                categoryList.hide();\n                                event.stop = true;\n                                break;\n                            case keys.f1:\n                                event.stop = true;\n                                break;\n                        }\n                    }\n                }\n            })\n        ]\n    }),\n    sortList = new ModalMessage({\n        visible: false,\n        title: gettext('Sort'),\n        events: {\n            show: function () {\n                this.focus();\n                this.children[0].focus();\n                footer.hide();\n            },\n            hide: function () {\n                leftPanel.focus();\n            }\n        },\n        children: [\n            new RadioList({\n                focusIndex: 0,\n                size: 2,\n                cycle: true,\n                data: [\n                    {\n                        state: true,\n                        title: gettext('By number'),\n                        value: false\n                    },\n                    {\n                        state: false,\n                        title: gettext('By name'),\n                        value: true\n                    }\n                ],\n                events: {\n                    select: function ( $item ) {\n                        leftPanel.children[0].$focusItem.layout.$node.children[1].innerText = $item.data.title;\n                        tv.config.byName =  $item.data.value;\n                        updateChannelList();\n                    },\n                    'click:item': function () {\n                        sortList.hide();\n                        leftPanel.focus();\n                    },\n                    keydown: function ( event ) {\n                        LayoutList.prototype.defaultEvents.keydown.call(this, event);\n                        switch ( event.code ) {\n                            case keys.back:\n                            case keys.menu:\n                                sortList.hide();\n                                event.stop = true;\n                                break;\n                            case keys.f1:\n                                event.stop = true;\n                                break;\n                        }\n                    }\n                }\n            })\n        ]\n    })\n);\n\npage.once('show', function () {\n    app.pages.epg.addListener('channel:click', function ( data ) {\n        console.log(data);\n        setChannel(data.channelIndex);\n    });\n    app.pages.epg.addListener('epg:click', sendEpgPlayIntent);\n});\n\nfooter = new Footer({\n    parent: page,\n    data: {\n        middle: []\n    }\n});\nfooter.show();\n\nmenuItems = [\n    {\n        name: 'search',\n        items: [\n            {\n                className: 'theme-icon theme-icon-search',\n                name: '$icon'\n            },\n            {\n                value: gettext('Search'),\n                name: '$text'\n            }\n        ],\n        click: function () {\n            core.intent({\n                action: 'keyboard',\n                data: {\n                    type: 'text',\n                    icon: null,\n                    title: gettext('TV channel search'),\n                    value: tv.config.search\n                },\n                events: {\n                    done: function ( event ) {\n                        if ( event.value && tv.config.search !== event.value ) {\n                            tv.config.search = event.value;\n                            menuList.links.search.links.$text.innerText = event.value;\n                            menuList.links.search.links.$icon.classList.add('active');\n                            updateChannelList();\n                        } else if ( !event.value || !event.value.trim() ) {\n                            menuList.links.search.links.$text.innerText = gettext('Search');\n                            menuList.links.search.links.$icon.classList.remove('active');\n                            if ( tv.config.search !== event.value ) {\n                                tv.config.search = event.value;\n                                updateChannelList();\n                            }\n                        }\n\n\n                    }\n                }\n            });\n        }\n    },\n    {\n        name: 'favorite',\n        items: [\n            {\n                className: 'theme-icon theme-icon-favorite',\n                name: '$icon'\n            },\n            {\n                value: gettext('Favorite'),\n                name: '$text'\n            }\n        ],\n        click: function () {\n            if ( tv.config.favorite ) {\n                menuList.links.favorite.links.$icon.className = 'theme-icon theme-icon-favorite';\n            } else {\n                menuList.links.favorite.links.$icon.className = 'theme-icon theme-icon-favorite-active active';\n            }\n            tv.config.favorite = !tv.config.favorite;\n            updateChannelList();\n        }\n    },\n    {\n        name: 'sort',\n        items: [\n            {\n                className: 'theme-icon theme-icon-sort-az',\n                name: '$icon'\n            },\n            {\n                value: gettext('By number'),\n                className: 'theme-item-more',\n                name: '$text'\n            }\n        ],\n        click: function () {\n            mainSet.blur();\n            sortList.show();\n        }\n    },\n    {\n        items: [\n            {\n                className: 'theme-icon theme-icon-exit'\n            },\n            {\n                value: gettext('Exit')\n            }\n        ],\n        click: function () {\n            mainSet.blur();\n            exitModal.show();\n        }\n    }\n];\n\n// add ability to sort by categories\nif ( MODE === 'MINISTRA' ) {\n    menuItems.splice(2, 0, {\n        name: 'categories',\n        items: [\n            {\n                className: 'theme-icon theme-icon-categories',\n                name: '$icon'\n            },\n            {\n                value: gettext('All categories'),\n                className: 'theme-item-more',\n                name: '$text'\n            }\n        ],\n        click: function () {\n            leftPanel.blur();\n            categoryList.show();\n            setTimeout(function () {\n                categoryList.show();\n            }, 50);\n        }\n    });\n}\n\nif ( TARGET === 'android-stb' || TARGET === 'android-app' ) {\n    menuItems.splice(4, 0, {\n        name: 'resetFilters',\n        items: [\n            {\n                className: 'theme-icon theme-icon-reset-filters',\n                name: '$icon'\n            },\n            {\n                value: gettext('Reset filters'),\n                name: '$text'\n            }\n        ],\n        click: resetFilters\n    });\n}\n\nif ( TARGET === 'dvb' ) {\n    menuItems.splice(2, 0, {\n        items: [\n            {\n                className: 'theme-icon ' + ( antennaEnable ? 'theme-icon-dvb-power-on' : 'theme-icon-dvb-power-off' )\n            },\n            {\n                value: gettext('Scan DVB channels'),\n                className: 'theme-item-more'\n            }\n        ],\n        click: function () {\n            app.route(app.pages.scanOptions);\n        }\n    });\n}\n\n\n// channels count prepare html\n$channelsCountWrapper.className = 'amountContainer';\n$channelsCount.className = 'amount';\n$channelsCount.innerText = 0;\n$channelsCountWrapper.appendChild($channelsCount);\n$nowDate.id = 'currentDate';\n\n\nappUIPanels = [\n    leftPanel = new Panel({\n        title: gettext('Menu'),\n        events: {\n            focus: function ( event ) {\n                Panel.prototype.defaultEvents.focus.call(this, event);\n\n                updateFooterLater(\n                    {\n                        middle: [\n                            {\n                                code: keys.f1,\n                                title: gettext('Reset filters'),\n                                action: function () {\n                                    resetFilters(null, true);\n                                }\n                            }\n                        ],\n                        left: {\n                            code: keys.menu,\n                            action: function () {\n                                resetModal.show();\n                            }\n                        }\n                    }\n                );\n                footer.show();\n                //footer.hide();\n            }\n        },\n        children: [\n            menuList = new LayoutList({\n                focusIndex: 0,\n                cycle: true,\n                data: menuItems,\n                size: menuItems.length\n            })\n        ]\n    })\n];\n\nmenuList.addListener('keydown', keydownHandlerForOsdInput);\n\nappUIPanels = appUIPanels.concat(\n    [\n        channelPanel = new Panel({\n            title: [{value: gettext('Channel list'), className: 'name'}, $channelsCountWrapper],\n            main: true,\n            className: 'channelPanel',\n            events: {\n                focus: function ( event ) {\n                    Panel.prototype.defaultEvents.focus.call(this, event);\n                    initFooterOnChannelSelect();\n                }\n            }\n        }),\n        epgPanel = new Panel({\n            title: [gettext('TV program'), $nowDate],\n            children: [\n                programList = new LayoutList({\n                    size: 7,\n                    className: 'programList',\n                    // fixedData: true, // something went wrong when try to scroll list to the end\n                    noData: $noEpg,\n                    scroll: scrollbars.epg,\n                    //cycle: true,\n                    events: {\n                        keydown: function ( event ) {\n                            var current = programList.$focusItem,\n                                next;\n\n                            switch ( event.code ) {\n                                case keys.up:\n                                    next = programList.data[current.index - 1];\n                                    if ( current.index > 0 && next && next.value ) {\n                                        LayoutList.prototype.defaultEvents.keydown.call(this, event);\n                                    } else if ( programList.data[current.index - 2]) {\n                                        programList.focusIndex(current.index - 2);\n                                    }\n                                    if ( programList.$focusItem && programList.$focusItem.data.value && programList.$focusItem &&\n                                        programList.$focusItem.data && programList.$focusItem.data.value &&\n                                        $nowDate.innerText !== utils.getCurrentDate(programList.$focusItem.data.value.start * 1000) ) {\n                                        $nowDate.innerText = utils.getCurrentDate(programList.$focusItem.data.value.start * 1000);\n                                    }\n                                    initFooterOnEpgSelect();\n                                    break;\n                                case keys.down:\n                                    next = programList.data[current.index + 1];\n                                    if ( next && next.value ) {\n                                        LayoutList.prototype.defaultEvents.keydown.call(this, event);\n                                    } else if ( next && !next.value && programList.data[current.index + 2] ) {\n                                        programList.focusIndex(current.index + 2);\n                                    }\n                                    initFooterOnEpgSelect();\n                                    if ( programList.$focusItem && programList.$focusItem.data.value &&\n                                        $nowDate.innerText !== utils.getCurrentDate(programList.$focusItem.data.value.start * 1000) ) {\n                                        $nowDate.innerText = utils.getCurrentDate(programList.$focusItem.data.value.start * 1000);\n                                    }\n                                    break;\n                                default:\n                                    LayoutList.prototype.defaultEvents.keydown.call(this, event);\n                                    break;\n                            }\n\n                            keydownHandlerForOsdInput(event);\n                        },\n                        'click:item': function ( event ) {\n                            var epg;\n\n                            if ( event && event.$item && event.$item.value ) {\n                                epg = event.$item.value;\n\n                                if ( epg.archive ) {\n                                    // play epg\n                                    sendEpgPlayIntent(channelList.$focusItem.index, epg);\n                                } else if ( epg.channel.local_pvr || epg.channel.pvr ) {\n                                    sendRecordEpgIntent();\n                                }\n\n                            }\n                        }\n                    }\n                })\n            ],\n            events: {\n                focus: function ( event ) {\n                    Panel.prototype.defaultEvents.focus.call(this, event);\n                    initFooterOnEpgSelect();\n                }\n            }\n        })\n    ]\n);\n\nmainSet = new PanelSet({\n    panels: appUIPanels\n});\n\npage.add(mainSet);\n//mainSet.drawShadow();\n\nchannelPanel.$body.appendChild(scrollbars.channelList.$node);\ncategoryList.$body.appendChild(scrollbars.categoryList.$node);\nepgPanel.$body.appendChild(scrollbars.epg.$node);\nprogramList.$noData.classList.add('disabled');\nchannelPanel.add(channelList = new LayoutList({\n    size: 7,\n    focusIndex: 0,\n    cycle: true,\n    noData: gettext('No channels'),\n    data: [],\n    render: require('../modules/channel.list.item.render'),\n    fixedData: true,\n    className: 'channelList',\n    scroll: scrollbars.channelList,\n    events: {\n        keydown: function ( event ) {\n            var nowTime = utils.getCurrentDate(),\n                self = this;\n\n            if ( keyblock ) {\n                return;\n            }\n\n            LayoutList.prototype.defaultEvents.keydown.call(this, event);\n            switch ( event.code ) {\n                case keys.up:\n                case keys.down:\n                    if ( $nowDate.innerText !== nowTime ) {\n                        $nowDate.innerText = nowTime;\n                    }\n                    initFooterOnChannelSelect();\n                    clearTimeout(tv.epgTimeout);\n                    if ( !self.$focusItem ) { return; }\n                    tv.epgTimeout = setTimeout(function () {\n                        if ( !self.$focusItem ) { return; }\n                        tv.list[self.$focusItem.index].getEpg(null, function ( error, data ) {\n                            renderEpgList(error, data);\n                            if ( app.activePage.activeComponent === programList ) {\n                                /// update footer if we go to program list\n                                initFooterOnEpgSelect();\n                            }\n                        });\n                    }, 800);\n                    break;\n                case keys.menu:\n                    /*mainSet.blur();\n                    renderActionModal();\n                    channelActionModal.show();*/\n                    break;\n            }\n\n            keydownHandlerForOsdInput(event);\n        },\n        'click:item': function ( event ) {\n            setChannel(event.$item.index, {compareState: true, silent: NEED_SILENCE});\n        },\n        'focus:item': function () {\n            if ( mainSet.focusIndex === 1 ) {\n                initFooterOnChannelSelect();\n            }\n        },\n        'move:view': updateChannelListEpg\n    }\n}));\n\n// if ( DEVELOP ) {\n//     window.channelList = channelList;\n// }\n\npage.add(\n    channelActionModal = new ModalMessage({\n        title: gettext('Actions'),\n        className: 'width2x',\n        events: {\n            show: function () {\n                this.focus();\n                this.children[0].focus();\n                footer.hide();\n            },\n            hide: function () {\n                channelPanel.focus();\n                footer.show();\n            }\n        },\n        children: [\n            actionModalList = new LayoutList({\n                className: 'actionsModal',\n                size: 2,\n                cycle: true,\n                focusIndex: 0,\n                data: [\n                    {\n                        items: makeItem(iconList.record, gettext('Record')),\n                        click: function () {\n                            sendRecordIntent();\n                            channelActionModal.hide();\n                        }\n                    },\n                    {\n                        items: makeItem('theme-icon theme-icon-rc-f2', antennaEnable ? gettext('Antenna power off') : gettext('Antenna power on')),\n                        click: function () {\n                            antennaPower();\n                            channelActionModal.hide();\n                        }\n                    },\n                    {\n                        items: makeItem(iconList.favorite, gettext('Favorite')),\n                        click: function () {\n                            toggleFavorite({index: channelList.$focusItem.index, item: channelList.$focusItem},\n                                function () { channelActionModal.hide(); });\n                        }\n                    },\n                    {\n                        items: makeItem(iconList.tvGuide, gettext('TV guide')),\n                        click: function () {\n                            app.route(app.pages.epg, channelList.$focusItem);\n                        }\n                    }\n                ],\n                events: {\n                    keydown: function ( event ) {\n                        LayoutList.prototype.defaultEvents.keydown.call(this, event);\n                        switch ( event.code ) {\n                            case keys.back:\n                            case keys.menu:\n                                channelActionModal.hide();\n                                event.stop = true;\n                                break;\n                        }\n                    }\n                }\n            })\n        ]\n    }),\n    epgMenu = new ModalMessage({\n        title: gettext('Actions'),\n        events: {\n            show: function () {\n                this.focus();\n                this.children[0].focus();\n                footer.hide();\n            },\n            hide: function () {\n                programList.focus();\n                footer.show();\n            }\n        },\n        children: [\n            new LayoutList({\n                data: [],\n                size: 1,\n                cycle: true,\n                events: {\n                    keydown: function ( event ) {\n                        LayoutList.prototype.defaultEvents.keydown.call(this, event);\n                        switch ( event.code ) {\n                            case keys.back:\n                            case keys.menu:\n                                epgMenu.hide();\n                                event.stop = true;\n                                break;\n                        }\n                    }\n                }\n            })\n        ]\n    }),\n    exitModal = new ModalMessage({\n        title: gettext('Exit'),\n        events: {\n            show: function () {\n                this.focus();\n                this.children[0].focus();\n                footer.hide();\n            },\n            hide: function () {\n                mainSet.focus();\n                footer.show();\n            }\n        },\n        children: [\n            new LayoutList({\n                className: 'padded',\n                focusIndex: 0,\n                data: [\n                    {\n                        items: [\n                            {\n                                value: gettext('Yes')\n                            }\n                        ],\n                        click: function () {\n                            // exit\n                            exitModal.hide();\n                            app.exit();\n                        }\n                    },\n                    {\n                        items: [\n                            {\n                                value: gettext('No')\n                            }\n                        ],\n                        click: function () {\n                            exitModal.hide();\n                        }\n                    }\n                ],\n                size: 2,\n                cycle: true,\n                events: {\n                    keydown: function ( event ) {\n                        LayoutList.prototype.defaultEvents.keydown.call(this, event);\n                        switch ( event.code ) {\n                            case keys.back:\n                            case keys.menu:\n                                exitModal.hide();\n                                event.stop = true;\n                                break;\n                        }\n                    }\n                }\n            })\n        ]\n    }),\n    resetModal = new ModalMessage({\n        title: gettext('Actions'),\n        events: {\n            show: function () {\n                this.children[0].focus();\n                footer.hide();\n            },\n            hide: function () {\n                mainSet.focus();\n                footer.show();\n            }\n        },\n        children: [\n            new LayoutList({\n                focusIndex: 0,\n                data: [\n                    {\n                        items: makeItem('theme-icon theme-icon-rc-f1', gettext('Reset filters')),\n                        click: function () {\n                            //reset filters\n                            resetFilters();\n                            resetModal.hide();\n                        }\n                    }\n                ],\n                size: 1,\n                cycle: true,\n                events: {\n                    keydown: function ( event ) {\n                        LayoutList.prototype.defaultEvents.keydown.call(this, event);\n                        switch ( event.code ) {\n                            case keys.back:\n                            case keys.menu:\n                                resetModal.hide();\n                                event.stop = true;\n                                break;\n                        }\n                    }\n                }\n            })\n        ]\n    })\n);\n\n\nfunction prepareChannels ( data ) {\n    var index,\n        channel,\n        result = [],\n        titleWrap,\n        title,\n        epgName,\n        epg;\n\n    if ( !data || data.length < 1 ) {\n        return [];\n    }\n\n    for ( index = 0; index < data.length; index++ ) {\n        titleWrap = document.createElement('div');\n        title = document.createElement('div');\n        title.className = 'name';\n        epg = document.createElement('div');\n        epg.className = 'epg' + (data[index].currentEpg ? ' visible' : '');\n        title.innerText = data[index].name;\n        if ( data[index].currentEpg && data[index].currentEpg.title ) {\n            epg.innerText = data[index].currentEpg.title;\n            epgName = data[index].currentEpg.title;\n        } else {\n            epg.innerText = '';\n            epgName = '';\n        }\n\n        titleWrap.appendChild(title);\n        titleWrap.appendChild(epg);\n        channel = {\n            items: [\n                {\n                    className: 'number' + (data[index]['monitoring_status'] ? '' : ' monitoringFail'),\n                    value: data[index].number.toString()\n                }\n            ],\n            value: data[index]\n        };\n\n\n        channel.items = channel.items.concat([\n            {\n                className: 'title' + (data[index]['monitoring_status'] ? '' : ' monitoringFail'),\n                value: titleWrap,\n                htmlInstance: true,\n                realValue: {name: data[index].name, epg: epgName}\n            },\n            {\n                className: ((data[index].censored || data[index].genre.censored ) ? 'theme-icon theme-icon-lock disabled' : '')\n            },\n            {\n                className: ((data[index].archive || data[index].local_timeshift ) ? 'theme-icon theme-icon-timeshift disabled' : '')\n            },\n            {\n                className: (data[index].favorite ? 'theme-icon theme-icon-favorite-active active' : '')\n            }\n        ]);\n\n        result.push(channel);\n    }\n\n    return result;\n}\n\n\npage.addListener('show', function ( data ) {\n    channelPanel.focus();\n    if ( data && data.data ) {\n        channelList.focusIndex(data.data.index);\n    }\n});\n\npage.addListener('keydown', function ( event ) {\n    if ( keyblock ) {\n        return;\n    }\n\n    switch ( event.code ) {\n        case keys.back:\n            //setChannel(tv.currentIndex, {context:null});\n            returnToPlayer();\n            break;\n        case keys.exit:\n            if ( app.lastIntent ) {\n                app.lastIntent.emit('exit');\n            }\n\n            // hack to set that app is minimized\n            app.minimized = true;\n            break;\n        case keys.web:\n            // hack to set that app is minimized\n            app.minimized = true;\n            break;\n        case keys.channelNext:\n            // nextChannelCallback({osd: false, skipCensored: false});\n            break;\n        case keys.channelPrev:\n            // prevChannelCallback({osd: false, skipCensored: false});\n            break;\n    }\n});\n\nstartApp();\n\n\nfunction updateChannelList ( callback ) {\n    provider.getChannels(tv.config, function ( error, data ) {\n    // render new list\n        if ( !error  ) {\n            channelList.setData({\n                data: prepareChannels(data),\n                focusIndex: 0\n            });\n\n            tv.list = data;\n            $channelsCount.innerText = data.length;\n\n            setTimeout(function () {\n                app.pages.epg.setChannels(data);\n                // app.emit('channels:load', data);\n            }, 0);\n\n            if ( callback ) {\n                callback();\n            }\n\n            if ( channelList.$focusItem ) {\n                channelList.$focusItem.data.value.getEpg(null, renderEpgList);\n            } else {\n                renderEpgList(false, []);\n            }\n        } else {\n            console.log('error getting channels');\n        }\n    });\n}\n\n\nfunction nextChannelCallback ( config ) {\n    var index = ++tv.currentIndex,\n        skipCensored = true,\n        showOsd = true;\n\n    config = config || {};\n\n    if ( config.osd !== undefined ) {\n        showOsd = config.osd;\n    }\n\n    if ( config.skipCensored !== undefined ) {\n        skipCensored = config.skipCensored;\n    }\n\n    if ( index > tv.list.length - 1 ) {\n        index = 0;\n        tv.currentIndex = 0;\n    }\n\n    // skip censored channel in fullscreen mode\n    if ( skipCensored && (tv.list[index].censored || ( tv.list[index].genre && tv.list[index].genre.censored )) ) {\n        nextChannelCallback();\n\n        return;\n    }\n    setChannel(index, {osd: showOsd});\n}\n\n\nfunction prevChannelCallback ( config ) {\n    var index = --tv.currentIndex,\n        skipCensored = true,\n        showOsd = true;\n\n    config = config || {};\n\n    if ( config.osd !== undefined ) {\n        showOsd = config.osd;\n    }\n\n    if ( config.skipCensored !== undefined ) {\n        skipCensored = config.skipCensored;\n    }\n    if ( index < 0 ) {\n        index = tv.currentIndex = tv.list.length - 1;\n    }\n\n    // skip censored channel in fullscreen mode\n    if ( skipCensored && (tv.list[index].censored || ( tv.list[index].genre && tv.list[index].genre.censored )) ) {\n        prevChannelCallback(config);\n    } else {\n        setChannel(index, {osd: showOsd});\n    }\n}\n\n\n/**\n * Send intent to record channel\n */\nfunction sendRecordIntent () {\n    var channel;\n\n    if ( !channelList.$focusItem.data.value.pvr && !channelList.$focusItem.data.value.local_pvr ) {\n        return;\n    }\n\n    channel = channelList.$focusItem.data.value;\n\n    if ( (channel.censored || ( channel.genre && channel.genre.censored )) &&\n        ( core.accessControl && !core.accessControl.state ) ) {\n\n        // close existing intents on osd\n        closeOpenedIntents([app.intents.osdInput, app.intents.osdTv]);\n        app.intents.osdInput = app.intents.osdTv = null;\n\n        core.accessControl.request(function ( error ) {\n            if ( !error ) {\n                core.intent({\n                    action: 'record',\n                    data: {\n                        uri: channel.url,\n                        name: channel.name,\n                        id: channel.id,\n                        pvr: {\n                            server: channel.pvr,\n                            local:  channel.local_pvr\n                        }\n                    }\n                });\n            }\n        });\n    } else {\n        core.intent({\n            action: 'record',\n            data: {\n                uri: channel.url,\n                name: channel.name,\n                id: channel.id,\n                pvr: {\n                    server: channel.pvr,\n                    local: channel.local_pvr\n                }\n            }\n        });\n    }\n}\n\n/**\n * Send intent ro record epg program\n */\nfunction sendRecordEpgIntent () {\n    var channel = channelList.$focusItem.data.value,\n        epg = programList.$focusItem.data.value;\n\n    app.foreground = false;\n\n    core.intent({\n        action: 'record',\n        data: {\n            uri: channel.url,\n            name: channel.name,\n            epgName: channel.name,\n            startTime: epg.start,\n            endTime: epg.end,\n            id: channel.id,\n            pvr: {\n                server: channel.pvr,\n                local:  channel.local_pvr\n            }\n        }\n    });\n}\n\nfunction antennaPower () {\n    app.provider.antennaPower = !antennaEnable;\n}\n\n/**\n * Send intent to show osd-input.\n *\n * @param {number} startCode - startCode to init intent\n * @param {boolean} osdState - osdState to show osd-tv\n * @param {boolean} compareState - compareState to call compare tv list config or not\n */\nfunction sendOsdInputIntent ( startCode, osdState, compareState ) {\n    keyblock = true;\n    clearTimeout(keyblockRevertTimeout);\n    keyblockRevertTimeout = setTimeout(function () {\n        keyblock = false;\n    }, KEYBLOCK_REVERT_TIMOUT);\n\n    app.intents.osdInput = core.intent({\n        action: 'osd-input',\n        data: {\n            type: 'numbers',\n            length: 4,\n            startChar: startCode\n        },\n        events: {\n            done: function ( value ) {\n                var channel,\n                    focusIndex,\n                    index;\n\n                if ( value && tv.current && tv.current.number && tv.current.number === Number(value) ) {\n                    // the same channel\n                    return;\n                }\n\n                // check in current list\n                for ( index = 0; index < tv.list.length; index++ ) {\n                    channel = tv.list[index];\n                    if ( channel.number === Number(value) ) {\n                        focusIndex = index;\n                        break;\n                    }\n                }\n\n                if ( focusIndex !== undefined ) {\n                    channelList.focusIndex(focusIndex);\n                    setChannel(focusIndex, {osd: osdState, silent: true, compareState: compareState});\n                    channelList.$focusItem.data.value.getEpg(null, function ( error, data ) {\n                        renderEpgList(error, data);\n                        initFooterOnEpgSelect();\n                    });\n                } else {\n                    core.notify({\n                        title: gettext('No such channel number'),\n                        icon: 'alert',\n                        type: 'warning',\n                        timeout: 1000\n                    });\n                }\n\n                keyblock = false;\n            }\n        }\n    });\n}\n\n\nfunction sendEpgPlayIntent ( channelIndex, epgObject ) {\n    var  channel = tv.list[channelIndex];\n\n    channelList.focusIndex(channelIndex);\n\n    if ( DEVELOP ) {\n        console.log(channel, 'chan');\n        console.log(epgObject, 'epgObj');\n    }\n\n    channel.getEpg(null, function (error, data) {\n        var index,\n            epgIndex,\n            focusIndex;\n\n        renderEpgList(error, data);\n        if ( DEVELOP ) {\n            console.log(error, 'error');\n        }\n\n        if ( data.length ) {\n            for ( index = 0; index < tv.epg.list.length; index++ ) {\n                if ( tv.epg.list[index].id === epgObject.id ) {\n                    epgIndex = index;\n                }\n            }\n\n            for ( focusIndex = 0; focusIndex < programList.data.length; focusIndex++ ) {\n                if ( programList.data[focusIndex] && programList.data[focusIndex].value &&\n                    programList.data[focusIndex].value.id && programList.data[focusIndex].value.id === epgObject.id ) {\n                    programList.focusIndex(focusIndex);\n                }\n            }\n\n            if ( epgIndex ) {\n                tv.epg.currentPlayIndex = epgIndex;\n\n                tv.epg.currentPlayIndex = epgIndex;\n                epgObject.getLink(function ( error, epgData ) {\n                    var nextHandler,\n                        prevHandler;\n\n                    if ( error ) {\n                        console.log(error);\n                    }\n\n                    if ( epgData && epgData.url ) {\n                        if ( tv.epg.list[tv.epg.currentPlayIndex - 1]\n                            && tv.epg.list[tv.epg.currentPlayIndex - 1].archive ) {\n                            prevHandler = function () {\n                                programList.emit('keydown', {code: keys.up});\n                                sendEpgPlayIntent(channelIndex, tv.epg.list[--tv.epg.currentPlayIndex]);\n                            };\n                        }\n\n                        if (  tv.epg.list[tv.epg.currentPlayIndex + 1] &&\n                            tv.epg.list[tv.epg.currentPlayIndex + 1].archive ) {\n                            nextHandler = function () {\n                                programList.emit('keydown', {code: keys.down});\n                                sendEpgPlayIntent(channelIndex, tv.epg.list[++tv.epg.currentPlayIndex]);\n                            };\n                        } else {\n                            nextHandler = function () {\n                                setChannel(channelIndex, {force: true});\n                            };\n                        }\n\n                        tv.current = null;\n                        app.lastIntent = core.intent({\n                            action: 'play',\n                            mime: 'content/video',\n                            context: null,\n                            data: {\n                                uri: epgData.url,\n                                solution: epgData.solution,\n                                resource: 'tv-archive',\n                                title: epgObject.title,\n                                persistent: true,\n                                mediaId: epgData['media_id'],\n                                exitWithConfirm: true\n                            },\n                            events: {\n                                close: function () {\n                                    // clear context to show player after new channel select\n                                    tv.context = null;\n                                    // app.foreground = true;\n                                    // need to hide osd-tv if player intent is closed\n                                    if ( app.intents.osdTv ) {\n                                        app.intents.osdTv.close();\n                                        app.intents.osdTv = null;\n                                    }\n                                },\n                                next: nextHandler,\n                                prev: prevHandler,\n                                nextChannel: nextChannelCallback,\n                                prevChannel: prevChannelCallback,\n                                stop: function ( event ) {\n                                    event = event || {};\n\n                                    if ( event.manual ) {\n                                        // playChannel\n                                        setChannel(channelIndex, {\n                                            force: true\n                                        });\n                                    }\n                                },\n                                onPip: function () {\n                                    NEED_SILENCE = true;\n                                    tv.context = null;\n                                    tv.current = null;\n                                    tv.currentIndex = null;\n                                },\n                                end: nextHandler\n                            }\n                        }, function ( error, context ) {\n                            if ( error ) {\n                                console.log(error);\n                            }\n\n                            tv.context = context;\n                            tv.currentIndex = channelIndex;\n                            tv.current = tv.list[channelIndex];\n                        });\n\n                    } else {\n                        // notify if can't get epg link\n                        notifyError(gettext('Error getting EPG'));\n                    }\n                });\n            } else {\n                // notify error here. we cant find index of program\n                notifyError(gettext('Error getting EPG'));\n            }\n        } else {\n            // notify error here\n            notifyError(gettext('Error getting EPG for ') + channel.name);\n        }\n    });\n}\n\n\n// app.sendEpgPlayIntent = sendEpgPlayIntent;\n\n/**\n * Init footer when select epg program\n */\nfunction initFooterOnEpgSelect () {\n    var nowTime = new Date() / 1000;\n\n    if ( page.activeComponent !== programList ) {\n        return;\n    }\n\n    if ( !programList.$focusItem || (programList.$focusItem && !programList.$focusItem.data.value ) ) {\n        // updateFooterLater([]);\n        footer.hide();\n\n        return;\n    }\n\n    if ( programList.$focusItem.data.value.archive ) {\n        updateFooterLater(\n            {\n                left: {\n                    code: keys.menu,\n                    action: showEpgMenu\n                },\n                middle: [\n                    {\n                        title: gettext('Play'),\n                        code: keys.f2,\n                        action: function () {\n                            sendEpgPlayIntent(channelList.$focusItem.index, programList.$focusItem.data.value);\n                        }\n                    }\n                ],\n                label: {\n                    code: keys.menu,\n                    title: gettext('Hold OK button to open Options menu'),\n                    action: showEpgMenu\n                }\n            }\n            /*[\n            {code: keys.menu, action: showEpgMenu},\n            {\n                title: _('Play'),\n                code: keys.f2,\n                action: function () {\n                    sendEpgPlayIntent(channelList.$focusItem.index, programList.$focusItem.data.value);\n                }\n            }]*/);\n        //footer.show();\n    } else {\n        if ( (programList.$focusItem.data.value.start > nowTime ||\n            ( programList.$focusItem.data.value.start < nowTime && programList.$focusItem.data.value.end > nowTime )) &&\n            channelList.$focusItem && channelList.$focusItem.data && channelList.$focusItem.value &&\n            ( channelList.$focusItem.data.value.pvr || channelList.$focusItem.data.value.local_pvr ) ) {\n            updateFooterLater(\n                {\n                    left: {\n                        code: keys.menu,\n                        action: showEpgMenu\n                    },\n                    middle: [\n                        {\n                            title: gettext('Record'),\n                            code: keys.f1,\n                            action: function () {\n                                if ( !programList.$focusItem ) {\n                                    return;\n                                }\n                                sendRecordEpgIntent();\n                            }\n                        }\n                    ],\n                    label: {\n                        code: keys.menu,\n                        title: gettext('Hold OK button to open Options menu'),\n                        action: showEpgMenu\n                    }\n                }\n            );\n        } else {\n            footer.hide();\n        }\n    }\n}\n\nfunction initFooterOnChannelSelect () {\n    var initData = {\n        left: {\n            code: keys.menu,\n            action: function () {\n                mainSet.blur();\n                renderActionModal();\n                channelActionModal.show();\n            }\n        },\n        middle: [],\n        label: {\n            code: keys.menu,\n            title: gettext('Hold OK button to open Options menu'),\n            action: function () {\n                mainSet.blur();\n                renderActionModal();\n                channelActionModal.show();\n            }\n        }\n    };\n\n    if ( channelList.$focusItem ) {\n        if ( channelList.$focusItem.data.value.pvr || channelList.$focusItem.data.value.local_pvr ) {\n            initData.middle.push(\n                {\n                    code: keys.f1,\n                    title: gettext('Record'),\n                    action: function () {\n                        sendRecordIntent();\n                    }\n                }\n            );\n        }\n    }\n\n    if ( TARGET === 'dvb' ) {\n        initData.middle.push(\n            {\n                code: keys.f2,\n                title: antennaEnable ? gettext('Antenna power off') : gettext('Antenna power on'),\n                action: function () {\n                    antennaPower();\n                }\n            }\n        );\n    }\n\n    if ( channelList.$focusItem ) {\n        initData.middle.push(\n            {\n                code: keys.f3,\n                title: gettext('Favorite'),\n                action: function () {\n                    toggleFavorite({index: channelList.$focusItem.index, item: channelList.$focusItem},\n                        function () { debug.log('toggle favorite'); });\n                }\n            }\n        );\n\n        initData.middle.push({\n            code: keys.f4,\n            title: gettext('TV guide'),\n            action: function () {\n                app.route(app.pages.epg, channelList.$focusItem);\n            }\n        });\n    }\n\n    updateFooterLater(initData);\n}\n\n\n/**\n * Show epg menu modal message\n */\nfunction showEpgMenu () {\n    var list = epgMenu.children[0],\n        currentEpg,\n        nowTime = new Date() / 1000,\n        renderData = [];\n\n    if ( programList.$focusItem ) {\n        currentEpg = programList.$focusItem.data.value;\n    } else {\n        return;\n    }\n\n    if ( currentEpg.archive ) {\n        renderData[0] = {\n            items: makeItem(iconList.play, gettext('Play')),\n            click: function () {\n                sendEpgPlayIntent(channelList.$focusItem.index, programList.$focusItem.data.value);\n                epgMenu.hide();\n            }\n        };\n    } else if ( (currentEpg.start > nowTime || ( currentEpg.start < nowTime && currentEpg.end > nowTime ))\n        && (channelList.$focusItem.data.value.pvr || channelList.$focusItem.data.value.local_pvr) ) {\n        renderData[0] = {\n            items: makeItem(iconList.record, gettext('Record')),\n            click: function () {\n                sendRecordEpgIntent();\n                epgMenu.hide();\n            }\n        };\n    } else { return; }\n\n    list.init({\n        data: renderData,\n        size: renderData.length,\n        focusIndex: 0\n    });\n    epgMenu.show();\n}\n\nif ( DEVELOP ) {\n    window.tv = tv;\n}\n\n\n/**\n * Base function to start app, get last channel or get channel list\n */\nfunction startApp () {\n    var categories = [],\n        isHome = core.applicationState.home;\n\n    $nowDate.innerText = utils.getCurrentDate();\n    $nowDate.style.height = window.getComputedStyle($nowDate).height;\n\n    provider.updateChannelsList(function ( error ) {\n        if ( error ) {\n            // do smth\n        }\n\n        provider.getLastChannelId(function ( error, id ) {\n            var index, channel, focusIndex;\n\n            setTimeout(function () {\n                console.log('TV APP START');\n                app.ready();\n                app.loaded = true;\n                app.emit('ready');\n                if ( provider.startBackgroundCheck ) {\n                    provider.startBackgroundCheck();\n                }\n            }, 100);\n\n            if ( error && !id ) {\n                updateChannelList(function () {\n                    if ( channelList.$focusItem ) {\n                        //setChannel(channelList.$focusItem.index, {silent: true});\n                    }\n                });\n            } else {\n                updateChannelList(function () {\n                    for ( index = 0; index < tv.list.length; index++ ) {\n                        channel = tv.list[index];\n                        if ( channel.id === Number(id) ) {\n                            focusIndex = index;\n                            break;\n                        }\n                    }\n\n                    focusIndex = focusIndex || 0;\n                    if ( tv.list.length === 0 ) {\n                        return;\n                    }\n\n                    channelList.focusIndex(focusIndex);\n\n                    if (\n                        channelList.$focusItem.data.value\n                        && ( channelList.$focusItem.data.value.censored\n                        || (channelList.$focusItem.data.value.genre && channelList.$focusItem.data.value.genre.censored))\n                    ) {\n                        // channel is under parrent password, need to do something\n                        console.log('channel is censored');\n                    } else {\n                        core.once('show', function () {\n                            if ( core.applicationState.visible ) {\n                                if ( isHome ) {\n                                    setChannel(focusIndex, {silent: false, context: null});\n                                } else {\n                                    setChannel(focusIndex, {silent: false});\n                                }\n                            }\n                        });\n                    }\n                });\n            }\n        });\n    });\n\n    // get and generate category list :)\n    if ( MODE === 'MINISTRA' && TARGET !== 'dvb' ) {\n        categories[0] = {\n            items: [\n                {\n                    value: gettext('All categories'),\n                    className: 'title'\n                }\n            ],\n            value: {id: false, name: gettext('All categories')}\n        };\n\n        provider.getCategories(function ( error, data ) {\n            if ( !error ) {\n                data.forEach(function (genre) {\n                    categories.push({\n                        items: [\n                            {\n                                value: genre.name,\n                                className: 'title'\n                            }\n                        ],\n                        value: genre\n                    });\n                });\n            }\n            categoryList.children[0].init({\n                data: categories,\n                focusIndex: 0\n            });\n        });\n    }\n\n    provider.addListener('channels:delete', deleteChannelsCallback);\n    provider.addListener('channels:add', addChannelsCallback);\n    provider.addListener('channels:modified', updateChannelsCallback);\n    provider.addListener('update', fullUpdateChannelsCallback);\n}\n\n// Callback on 'channels:delete' event\nfunction deleteChannelsCallback ( event ) {\n    core.notify({\n        title: format(window.ngettext('{0} channel was deleted', '{0} channels were deleted', event.data.length), event.data.length),\n        icon: 'alert',\n        type: 'warning',\n        timeout: CHANNELS_UPDATE_NOTIFICATION_TIMEOUT\n    });\n    updateRender();\n}\n\n// Callback on 'channels:add' event\nfunction addChannelsCallback ( event ) {\n    console.log('Add Channels');\n\n    if (event.data.length > 1 ) {\n        core.notify({\n            title: format(gettext('{0} channels were added'), event.data.length),\n            icon: 'info',\n            type: 'success',\n            timeout: CHANNELS_UPDATE_NOTIFICATION_TIMEOUT\n        });\n    } else if ( event.data.length === 1 ) {\n        core.notify({\n            title:  format(gettext('Channel {0} was added'), event.data[0].name),\n            icon: 'info',\n            type: 'success',\n            timeout: CHANNELS_UPDATE_NOTIFICATION_TIMEOUT\n        });\n    }\n\n    updateRender();\n}\n\n/**\n * Full update channel list if get message from server\n */\nfunction fullUpdateChannelsCallback () {\n    console.log('Channels were updated____');\n\n    // notify only if app is visible\n    if ( core.applicationState.visible ) {\n        core.notify({\n            title: gettext('Channels were updated'),\n            icon: 'info',\n            type: 'success',\n            timeout: CHANNELS_UPDATE_NOTIFICATION_TIMEOUT\n        });\n    }\n    updateRender();\n}\n\n/**\n * Callback on channels:modified event\n *\n */\nfunction updateChannelsCallback () {\n    provider.getChannels(tv.config, function ( error, data ) {\n        var index;\n\n        if ( error ) {\n            console.log(error);\n        }\n\n        tv.list = data;\n        channelList.data = prepareChannels(data);\n        for ( index = 0; index < channelList.$body.children.length; index++ ) {\n            channelList.renderItem(channelList.$body.children[index], channelList.data[channelList.$body.children[index].index]);\n        }\n    });\n}\n\n/**\n * Rerender channel list after callbacks\n */\nfunction updateRender () {\n    provider.getChannels(tv.config, function (error, data) {\n        var focusId = channelList.$focusItem.data.value.id,\n            index, newIndex,\n            newFocusIndex;\n\n        if ( error ) {\n            console.log(error);\n        }\n\n        channelList.setData({\n            data: prepareChannels(data),\n            focusIndex: 0\n        });\n        tv.list = data;\n        $channelsCount.innerText = data.length;\n        app.pages.epg.setChannels(data);\n        // app.emit('channels:load', data);\n        if ( tv.current && tv.current.id ) {\n            for ( index = 0; index < tv.list.length; index++ ) {\n                if ( tv.list[index].id === tv.current.id ) {\n                    newIndex = index;\n                    break;\n                }\n            }\n        }\n\n        for ( index = 0; index < tv.list.length; index++ ) {\n            if ( tv.list[index].id === focusId ) {\n                newFocusIndex = index;\n                break;\n            }\n        }\n\n        newIndex = newIndex || 0;\n        newFocusIndex = newFocusIndex || 0;\n\n        tv.currentIndex = newIndex;\n        channelList.focusIndex(newFocusIndex);\n\n        tv.list[channelList.$focusItem.index].getEpg(null, renderEpgList);\n    });\n}\n\nfunction updateChannelListEpg () {\n    clearTimeout(tv.channelListEpgTimeout);\n    tv.channelListEpgTimeout = setTimeout(update, core.environment.onFocusDebounceTimeout || 400);\n\n    clearInterval(tv.channelListEpgInterval);\n    tv.channelListEpgInterval = setInterval(update, CURRENT_EPG_UPDATE_INTERVAL);\n\n    function update () {\n        var index,\n            channelArray = [];\n\n        for ( index = 0; index < channelList.$body.children.length; index++ ) {\n            if ( channelList.$body.children[index].data ) {\n                channelArray.push(channelList.$body.children[index].data.value);\n            }\n        }\n        provider.getChannelsEpg({channels: channelArray}, function ( error, data ) {\n            var channel;\n\n            if ( !error ) {\n                for ( index = 0; index < channelList.$body.children.length; index++ ) {\n                    if ( channelList.$body.children[index].data ) {\n                        channel = channelList.$body.children[index].data.value;\n                    }\n\n                    if ( channel && data[channel.id] ) {\n                        channel.currentEpg = data[channel.id][0];\n                    }\n                }\n                channelList.data = prepareChannels(tv.list);\n\n                for ( index = 0; index < channelList.$body.children.length; index++ ) {\n                    if (channelList.$body.children[index].data) {\n                        channelList.renderItem(channelList.$body.children[index], channelList.data[channelList.$body.children[index].index]);\n                    }\n                }\n            }\n        });\n    }\n}\n\n\n/**\n * Render EPG list.\n *\n * @param {boolean} error - error state\n * @param {Array} data - data of epg programs\n */\nfunction renderEpgList ( error, data ) { // eslint-disable-line\n    var time = '',\n        stateClassName = '',\n        renderData = [],\n        nowTime = new Date() / 1000,\n        prog, config, index, timeIconClassName,\n        channel,\n        currentIndex,\n        viewIndex;\n\n    if ( error ) {\n        console.log(error);\n    }\n\n    if ( !channelList.$focusItem ) {\n        $nowDate.innerText = utils.getCurrentDate();\n\n        return;\n    }\n\n    tv.epg.list = data;\n    channel = channelList.$focusItem.data.value;\n\n    if ( channel && ( channel.censored || (channel.genre && channel.genre.censored)) && ( !tv.current || tv.current.id !== channel.id ) &&\n        (core.accessControl && !core.accessControl.state) ) {\n        // hide epg if channel in under parent control and nor current\n        programList.init({data: []});\n        programList.$noData.classList.remove('disabled');\n\n        return;\n    }\n\n    programList.$noData.classList.add('disabled');\n\n    // insert date items\n    data = insertDays(data);\n    for ( index = 0; index < data.length; index++ ) {\n        prog = data[index];\n        timeIconClassName = 'time';\n        // this is realy epg program\n        if ( prog.systemDate ) {\n            renderData.push({\n                items: [\n                    {\n                        value: prog.title,\n                        className: 'system-date'\n                    }\n                ],\n                value: null\n            });\n        } else {\n            if ( prog.start ) {\n                time = new Date(prog.start * 1000);\n                time = ( '0' + time.getHours()).slice(-2) + ':' + ( '0' + time.getMinutes()).slice(-2);\n            }\n\n            if ( prog.archive) {\n                timeIconClassName += ' green';\n            } else if ((channelList.$focusItem.data.value.pvr || channelList.$focusItem.data.value.local_pvr) &&\n                (prog.start > nowTime || ( prog.start < nowTime && prog.end > nowTime )) ) {\n                timeIconClassName += ' red';\n            }\n            if ( prog.end < nowTime ) {\n                stateClassName = ' theme-text-disabled';\n            } else if ( prog.start < nowTime && prog.end > nowTime ) {\n                stateClassName = ' current';\n            } else {\n                stateClassName = ' coming';\n            }\n            renderData.push({\n                items: [\n                    {className: timeIconClassName + stateClassName, value: time},\n                    {className: 'title' + stateClassName, value: prog.title}\n                ],\n                value: prog\n            });\n        }\n    }\n\n    config = {\n        data: renderData,\n        size: 7\n    };\n\n    if ( data.length ) {\n        config.focusIndex = 0;\n    }\n\n    programList.init(config);\n\n    viewIndex =  data.findIndex(function ( object ) {\n        return (!object.systemDate && object.start < nowTime && object.end > nowTime);\n    });\n\n    if ( viewIndex && viewIndex > 6 ) {\n        if ( data.length - viewIndex - 4 > 0 ) {\n            programList.renderView(viewIndex - 3);\n        } else {\n            programList.renderView(data.length - 7);\n        }\n    }\n\n    currentIndex = programList.data.findIndex(function ( program ) {\n        return (program.value && program.value.start < nowTime && program.value.end > nowTime);\n    });\n\n    if ( currentIndex && currentIndex > 0 ) {\n        programList.focusIndex(currentIndex);\n    } else {\n        if ( programList.$focusItem && !programList.$focusItem.data.value ) {\n            if ( programList.data[programList.$focusItem.index + 1] ) {\n                programList.focusIndex(programList.$focusItem.index + 1);\n            } else if ( programList.data[programList.$focusItem.index - 1] ) {\n                programList.focusIndex(programList.$focusItem.index - 1);\n            }\n        }\n    }\n\n    if ( programList.$focusItem && programList.$focusItem.data.value &&\n        $nowDate.innerText !== utils.getCurrentDate(programList.$focusItem.data.value.start * 1000) ) {\n        $nowDate.innerText = utils.getCurrentDate(programList.$focusItem.data.value.start * 1000);\n    }\n}\n\nfunction insertDays ( data ) {\n    var length = data.length,\n        result = [],\n        current,\n        next,\n        index;\n\n    if ( !data || length === 0 ) {\n        return [];\n    }\n\n    result.push({\n        systemDate: true,\n        title: utils.getCurrentDate(data[0].start * 1000)\n    });\n\n    for ( index = 0; index < length - 1; index++ ) {\n        current = data[index];\n        next = data[index + 1];\n        result.push(current);\n\n        // check if next epg program has biggest start date\n        if ( new Date(current.start * 1000).getDate() < new Date(next.start * 1000).getDate() ||\n             new Date(current.start * 1000).getMonth() < new Date(next.start * 1000).getMonth() ) {\n            result.push({\n                systemDate: true,\n                title: utils.getCurrentDate(next.start * 1000)\n            });\n        }\n    }\n\n    result.push(data[length - 1]);\n\n    return result;\n}\n\n/**\n * Render channel action modal menu\n */\nfunction renderActionModal () {\n    var data = [],\n        channel = channelList.$focusItem.data.value;\n\n    if ( channelList.$focusItem && (channelList.$focusItem.data.value.pvr || channelList.$focusItem.data.value.local_pvr ) ) {\n        data.push({\n            items: makeItem(iconList.record, gettext('Record')),\n            click: function () {\n                sendRecordIntent();\n                channelActionModal.hide();\n            }\n        });\n    }\n\n    if ( TARGET === 'dvb' ) {\n        data.push({\n            items: makeItem('theme-icon theme-icon-rc-f2', antennaEnable ? gettext('Antenna power off') : gettext('Antenna power on')),\n            click: function () {\n                antennaPower();\n                channelActionModal.hide();\n            }\n        });\n    }\n\n    if ( channel.favorite ) {\n        data.push({\n            items: makeItem(iconList.favoriteActive, gettext('Remove from favorites')),\n            click: function () {\n                toggleFavorite({index: channelList.$focusItem.index, item: channelList.$focusItem},\n                    function () {\n                        channelActionModal.hide();\n                    });\n            }\n        });\n    } else {\n        data.push({\n            items: makeItem(iconList.favorite, gettext('Add to favorite')),\n            click: function () {\n                toggleFavorite({index: channelList.$focusItem.index, item: channelList.$focusItem},\n                    function () {\n                        channelActionModal.hide();\n                    });\n            }\n        });\n    }\n\n    data.push({\n        items: makeItem(iconList.tvGuide, gettext('TV guide')),\n        click: function () {\n            channelActionModal.hide();\n            setTimeout(function () {\n                app.route(app.pages.epg, channelList.$focusItem);\n            });\n        }\n    });\n\n    if ( !provider.local ) {\n        // add some actions for local channels storage\n        data = data.concat([]);\n    }\n\n    actionModalList.init({\n        data: data,\n        size: data.length > 5 ? 5 : data.length,\n        focusIndex: 0\n    });\n}\n\n\nfunction toggleFavorite ( config, callback ) {\n    var index = config.index;\n\n    tv.list[index].toggleFavorite(function ( error, state ) {\n        // rerender list or element if no error\n        if ( !error ) {\n            channelList.data[index].value.favorite = state;\n            if ( state ) {\n                channelList.data[index].items[4].className = 'icon theme-icon-favorite-active active';\n            } else {\n                channelList.data[index].items[4].className = 'icon theme-icon-favorite disabled';\n            }\n            if ( config.item ) {\n                channelList.renderItem(config.item, prepareChannels([tv.list[index]])[0]);\n            }\n\n            // set current channel state if needed\n            if ( tv.current && tv.current.id === tv.list[index].id ) {\n                titleWidget.set(tv.list[index]);\n            }\n        } else {\n            return;\n        }\n\n        if ( callback ) {\n            callback();\n        }\n    });\n}\n\n\n/**\n * Reset selected filters and update channel list.\n *\n * @param {Object} [config] - config object to set filters\n * @param {boolean} [resetLastConfig] - reset last config flag to reset previous played config\n * @param {Function} [callback] - callback after reset\n */\nfunction resetFilters ( config, resetLastConfig, callback ) {\n    var favoriteIco  = menuList.$body.children[1].children[0].children[0],\n        categoryItem = menuList.$body.children[2].children[0].children[1],\n        categoryIcon = menuList.$body.children[2].children[0].children[0],\n        searchItem   = menuList.$body.children[0].children[0].children[1],\n        searchIcon   = menuList.$body.children[0].children[0].children[0],\n        genreIndex;\n\n    config = config || {};\n\n    if ( !tv.config.search && !tv.config.favorite && !tv.config.genre && !Object.keys(config).length ) {\n        return;\n    }\n\n    console.log('RESET FILTERS');\n    console.log(config);\n    if ( config.favorite ) {\n        // $item.layout.$body.childNodes[0].className = 'theme-icon theme-icon-favorite-active active';\n        favoriteIco.className = 'theme-icon theme-icon-favorite-active active';\n    } else {\n        favoriteIco.className = 'theme-icon theme-icon-favorite';\n    }\n    tv.config.favorite = config.favorite || false;\n\n    searchItem.innerText = config.search || gettext('Search');\n    tv.config.search = config.search || false;\n    if ( !tv.config.search ) {\n        searchIcon.classList.remove('active');\n    } else {\n        searchIcon.classList.add('active');\n    }\n\n    if ( TARGET !== 'dvb' ) {\n        if ( config.genre !== undefined ) {\n            genreIndex = categoryModalList.data.findIndex(function ( genre ) { return genre.value.id === config.genre; });\n            categoryItem.innerText = categoryModalList.data[genreIndex].value.name;\n            tv.config.genre = config.genre;\n            categoryModalList.focusIndex(genreIndex);\n            if ( config.genre ) {\n                categoryIcon.classList.add('active');\n            } else {\n                categoryIcon.classList.remove('active');\n            }\n        } else {\n            categoryItem.innerText = gettext('All categories');\n            categoryIcon.classList.remove('active');\n            tv.config.genre = false;\n            categoryModalList.focusIndex(0);\n        }\n    }\n\n    updateChannelList(callback);\n\n    // reset last config and search current channel in total list\n    if ( resetLastConfig ) {\n        console.log('resetLastConfig');\n        tv.lastActiveState.config = {\n            favorite: false,\n            byName: false,\n            genre: false,\n            search: false\n        };\n\n        channelList.focusIndex(tv.list.indexOf(tv.current));\n    }\n}\n\nfunction updateFooterLater ( data, delay ) {\n    delay = delay || core.environment.onFocusDebounceTimeout || 400;\n    data = data || {middle: []};\n\n    clearTimeout(tv.footerInitDelay);\n\n    tv.footerInitDelay = setTimeout(function () {\n        footer.init(data);\n        if ( data ) {\n            footer.show();\n        }\n    }, delay);\n}\n\n/**\n * Set channel to play.\n *\n * @param {number} index - index of channel to play\n * @param {Object} [config] - config data\n */\nfunction setChannel ( index, config ) {\n    var channel;\n\n    config = config || {};\n    channel = tv.list[index];\n\n    // show tv-osd if no silent play\n    if ( config.osd ) {\n        sendOsdTvIntent(channel, false);\n    }\n\n    // false to deactivate\n    if ( (channel.censored || channel.genre.censored) ) {\n        if ( tv.current !== null && channel.id === tv.current.id && !config.force ) {\n            process();\n\n            return;\n        }\n\n        // close existing osd intents\n        closeOpenedIntents([app.intents.osdInput, app.intents.osdTv]);\n        app.intents.osdInput = app.intents.osdTv = null;\n\n        core.accessControl.request(function ( error ) {\n            debug.warn(error);\n            if ( !error ) {\n                process({forceEpg: true});\n            }\n        });\n    } else {\n        process();\n    }\n\n    // need to rename\n    function process ( params ) {\n        params = params || {};\n\n        if ( channel['monitoring_status'] ) {\n            channel.getUrl(function (error, data) {\n                if ( error ) {\n                    core.notify({\n                        title: 'Error getting channel link',\n                        icon: 'alert',\n                        type: 'warning',\n                        timeout: 2000\n                    });\n                } else {\n                    sendIntent(channel, data.url, data.solution );\n                }\n            });\n        } else {\n            core.notify({\n                title: gettext('Channel is temporary unavailable'),\n                icon: 'alert',\n                type: 'warning',\n                timeout: 2000\n            });\n        }\n\n        titleWidget.set(channel);\n\n        function sendIntent ( channelToSend, url, solution ) { /*eslint no-else-return:0*/\n            var isSame = ( tv.current === channelToSend && !config.force ),\n                context,\n                modalMenuConfig,\n                viewportConfig;\n\n            if ( isSame ) {\n                url = '';\n            }\n\n            app.foreground = !isSame;\n\n\n            if ( isSame ) {\n                returnToPlayer({force: true});\n\n                return;\n            } else {\n                context = config.context !== undefined ? config.context : tv.context;\n            }\n\n            if ( channelToSend.pvr || channelToSend.local_pvr ) {\n                modalMenuConfig = [\n                    {\n                        icon: 'f1',\n                        title: 'Record',\n                        handler: function () {\n                            channelList.focusIndex(tv.currentIndex);\n                            if ( app.intents.osdTv ) {\n                                app.intents.osdTv.close();\n                                app.intents.osdTv = null;\n                            }\n                            sendRecordIntent();\n                        }\n                    }\n                ];\n            }\n\n            app.lastIntent = core.intent({\n                action: 'play',\n                mime: 'content/video',\n                silent: config.silent,\n                data: {\n                    uri: url,\n                    title: channelToSend.name,\n                    solution: solution || 'auto',\n                    // don't show control at start playing\n                    headless: true,\n                    // don't stop playback if player hide\n                    persistent: true,\n                    modalMenu: modalMenuConfig,\n                    mediaId: channelToSend.id,\n                    tvChannel: channelToSend,\n                    viewport: viewportConfig,\n                    extra: channelToSend.extra,\n                    exitWithConfirm: true,\n                    retryOnError: true,\n                    // we play streams\n                    stream: true,\n                    // set channel volume correction if need\n                    volumeCorrection: channelToSend['volume_correction']\n                },\n                context: context,\n                events: playIntentEventsWrapper(channelToSend, index)\n            }, function ( error, newContext ) {\n                if ( error ) {\n                    debug.log('error');\n                }\n\n                tv.context = newContext;\n            });\n            tv.current = channelToSend;\n            tv.currentIndex = index;\n            if ( params.forceEpg && channelList.$focusItem ) {\n                channelList.$focusItem.data.value.getEpg(null, renderEpgList);\n            }\n        }\n    }\n\n    // save and compare previous tv list config\n    // if user try to hide tv and go to full screen player we should ask to reset filters (^^_)\n    if ( config.compareState ) {\n        if ( tv.config.favorite !== tv.lastActiveState.config.favorite ||\n            tv.config.genre !== tv.lastActiveState.config.genre ||\n            tv.config.search !== tv.lastActiveState.config.search ||\n            tv.config.byName !== tv.lastActiveState.config.byName ) {\n            // now we should save config to restore it in feature\n            tv.lastActiveState.config.favorite = tv.config.favorite;\n            tv.lastActiveState.config.genre = tv.config.genre;\n            tv.lastActiveState.config.search = tv.config.search;\n            tv.lastActiveState.config.byName = tv.config.byName;\n        }\n    }\n\n    if ( NEED_SILENCE ) {\n        NEED_SILENCE = false;\n    }\n}\n\n\nfunction keydownHandlerForOsdInput ( event ) {\n    var codes = [48, 49, 50, 51, 52, 53, 54, 55, 56, 57];\n\n    event = event || {};\n\n    if ( codes.indexOf(event.code) > -1 ) {\n        sendOsdInputIntent(String.fromCharCode(event.code), false, true);\n    }\n}\n\n\nfunction playIntentEventsWrapper ( channel, index ) {\n    return {\n        nextChannel: tv.list.length > 1 ? nextChannelCallback : false,\n        prevChannel: tv.list.length > 1 ? prevChannelCallback : false,\n        onInfoPress: function () {\n            sendOsdTvIntent(channel, true);\n        },\n        close: function () {\n            channelList.focusIndex(tv.currentIndex);\n            tv.context = null;\n            app.lastIntent.silent = false;\n            // update some additional info\n            // initFooterOnChannelSelect();\n            clearTimeout(tv.epgTimeout);\n            if ( !channelList.$focusItem ) {\n                return;\n            }\n\n            tv.epgTimeout = setTimeout(function () {\n                if ( !channelList.$focusItem ) {\n                    return;\n                }\n\n                tv.list[channelList.$focusItem.index].getEpg(null, renderEpgList);\n            }, 800);\n\n            if ( app.intents.osdTv ) {\n                app.intents.osdTv.close();\n                app.intents.osdTv = null;\n            }\n        },\n        onNumberPress: function ( event ) {\n            sendOsdInputIntent(event.number, true);\n        },\n        start: function () {\n            clearTimeout(tv.lastChannelTimeout);\n            tv.lastChannelTimeout = setTimeout(function () {\n                tv.list[index].setLast();\n            }, LAST_CHANNEL_TIMEOUT);\n        },\n        onPip: function () {\n            NEED_SILENCE = true;\n            tv.context = null;\n            tv.current = null;\n            tv.currentIndex = null;\n        }\n    };\n}\n\n\nfunction sendOsdTvIntent ( channel, attach ) {\n    app.intents.osdTv = core.intent({\n        action: 'osd-tv',\n        data: {\n            name: channel.name,\n            number: channel.number,\n            favorite: channel.favorite,\n            pvr: (channel.local_pvr || channel.pvr),\n            timeshift: channel.local_timeshift,\n            censored: channel.censored || ( channel.genre && channel.genre.censored ),\n            // stay on display\n            attach: attach\n        }\n    }, function () { debug.log('send osd intent'); });\n}\n\n/**\n * Check if current channel list sorting is the same as played sorted list\n *\n * @return {boolean} state of sorting\n */\nfunction isSortingDifferent () {\n    return (\n        tv.config.favorite !== tv.lastActiveState.config.favorite\n        || tv.config.genre !== tv.lastActiveState.config.genre\n        || tv.config.search !== tv.lastActiveState.config.search\n        || tv.config.byName !== tv.lastActiveState.config.byName\n    );\n}\n\nfunction returnToPlayer ( config ) {\n\n    if ( !tv.current || tv.currentIndex === undefined ) {\n        // here check if playback do not start when app start with last censored channel\n        // just exit app\n        console.log('we do not know current channel');\n        mainSet.blur();\n        exitModal.show();\n\n        return;\n    }\n\n    config = config || {};\n\n    // compare lastPlayed config and current and if it's not equal we must restore it\n    if ( isSortingDifferent() && !config.force ) {\n        core.notify({\n            title: gettext('Reset filters') + ' ?',\n            icon: 'alert',\n            buttons: [\n                {\n                    value: gettext('Cancel'),\n                    click: function () {\n                        // do nothing, magcore-core automatically hide notification and focus tv\n                    }\n                },\n                {\n                    // just take first word from reset filter translation :)\n                    value: gettext('Reset filters').split(' ')[0],\n                    click: function () {\n                        resetFilters(tv.lastActiveState.config);\n\n                        tv.config.favorite = tv.lastActiveState.config.favorite;\n                        tv.config.genre = tv.lastActiveState.config.genre;\n                        tv.config.search = tv.lastActiveState.config.search;\n                        tv.config.byName = tv.lastActiveState.config.byName;\n\n                        app.lastIntent.show(app.lastIntent.receiver);\n                        app.foreground = false;\n                    }\n                }\n            ],\n            timeout: 5000\n        });\n    } else {\n        app.lastIntent.show(app.lastIntent.receiver);\n        app.foreground = false;\n    }\n}\n\n\ncore.addListener('play:channel', function ( data ) {\n    var index,\n        indexToPlay;\n\n    function findAndPlay ( number ) {\n        for ( index = 0; index < tv.list.length; index++ ) {\n            if ( tv.list[index].number === number ) {\n                indexToPlay = index;\n                break;\n            }\n        }\n\n        if ( indexToPlay !== undefined ) {\n            // if channel to play is not censored we should play\n            if (\n                !tv.list[indexToPlay].censored\n                && tv.list[indexToPlay].genre\n                && !tv.list[indexToPlay].censored\n            ) {\n                setChannel(indexToPlay);\n                channelList.focusIndex(indexToPlay);\n                app.lastIntent.show(app.lastIntent.receiver);\n            }\n        }\n    }\n\n    function processAndPlay ( number ) {\n        if ( app.loaded ) {\n            findAndPlay(number);\n        } else {\n            app.once('ready', function () {\n                findAndPlay(number);\n            });\n        }\n    }\n\n    // if we have some filters we should reset it first\n    if (\n        tv.config.favorite\n        || tv.config.byName\n        || tv.config.genre\n        || tv.config.search\n    ) {\n        resetFilters(false, false, function () {\n            processAndPlay(data.number);\n        });\n    } else {\n        processAndPlay(data.number);\n    }\n});\n\n// if livereload is happened we should clear provider's event handlers\nif ( DEVELOP ) {\n    window.addEventListener('unload', function () {\n        Object.keys(app.provider.events).forEach(function ( eventName ) {\n            app.provider.events[eventName] = [];\n        });\n        Object.keys(window.core.events).forEach(function ( eventName ) {\n            window.core.events[eventName] = [];\n        });\n    } );\n}\n\n\nfunction onExitAppHandler () {\n    if ( app.lastIntent ) {\n        app.lastIntent.emit('exit');\n    }\n\n    if ( app.intents.osdTv ) {\n        app.intents.osdTv.close();\n        app.intents.osdTv = null;\n    }\n\n    provider.removeListener('channels:delete', deleteChannelsCallback);\n    provider.removeListener('channels:add', addChannelsCallback);\n    provider.removeListener('channels:modified', updateChannelsCallback);\n    provider.removeListener('update', fullUpdateChannelsCallback);\n    provider.stopBackgroundCheck();\n    exitModal.hide();\n    if ( provider.destroy ) {\n        provider.destroy();\n    }\n}\n\n//-----------------------------------------------------------\nfunction makeItem ( icon, text ) {\n    return  [\n        {\n            className: icon\n        },\n        {\n            value: text\n        }\n    ];\n}\n\n\nfunction notifyError ( text, duration ) {\n    duration = duration || 3000;\n\n    core.notify({\n        title: text,\n        icon: 'alert',\n        type: 'warning',\n        timeout: duration\n    });\n}\n\nmodule.exports = page;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\n\n/**\n * Do string substitution according to the given format.\n * http://stackoverflow.com/questions/610406/javascript-equivalent-to-printf-string-format\n *\n * @param {string} format string substitution format\n *\n * @return {string} result data\n */\nmodule.exports = function ( format ) {\n    var args = Array.prototype.slice.call(arguments, 1),\n        expr = /{(\\d+)}/g;\n\n    if ( DEVELOP ) {\n        if ( !format ) {\n            throw new Error(__filename + ': format string is empty');\n        }\n        if ( args.length === 0 ) {\n            throw new Error(__filename + ': no arguments');\n        }\n        if ( !expr.test(format) ) {\n            throw new Error(__filename + ': format string does not have substitutions: ' + format);\n        }\n    }\n\n    return format.replace(expr, function ( match, number ) {\n        return args[number] === undefined ? match : args[number];\n    });\n};\n","/**\n *\n * @author Aleynikov Boris <alynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nvar utils = {},\n    months = [\n        gettext('January'),\n        gettext('February'),\n        gettext('March'),\n        gettext('April'),\n        gettext('May'),\n        gettext('June'),\n        gettext('July'),\n        gettext('August'),\n        gettext('September'),\n        gettext('October'),\n        gettext('November'),\n        gettext('December')\n    ];\n\nutils.getCurrentDate = function ( setDate ) {\n    var date = new Date(),\n        month, result;\n\n    if ( setDate ) {\n        date = new Date(setDate);\n    }\n\n    month = months[date.getMonth()];\n\n    if ( core.environment.language === 'en' ) {\n        result = month + ' ' + date.getDate();\n    } else {\n        result = date.getDate() + ' ' + month;\n    }\n\n    return result;\n};\n\nmodule.exports = utils;\n","/**\n *\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\n\nif ( TARGET === 'android-stb' || TARGET === 'android-app' ) {\n    module.exports = {\n        record: 'theme-icon theme-icon-play',\n        play: 'theme-icon theme-icon-play',\n        favorite: 'theme-icon theme-icon-favorite',\n        favoriteActive: 'theme-icon theme-icon-favorite-active active',\n        tvGuide: 'theme-icon theme-icon-menu'\n    };\n} else {\n    module.exports = {\n        record: 'theme-icon theme-icon-rc-f1',\n        play: 'theme-icon theme-icon-rc-f2',\n        favorite: 'theme-icon theme-icon-rc-f3',\n        favoriteActive: 'theme-icon theme-icon-rc-f3',\n        tvGuide: 'theme-icon theme-icon-rc-f4'\n    };\n}\n","/**\n *\n * @author Aleynikov Boris <alynikov.boris@gmail.com>.\n */\n\n'use strict';\n\nvar $node = document.getElementById('titleWidget'),\n    title = {},\n    $number = document.getElementById('titleWidgetNumber'),\n    $title = document.getElementById('titleWidgetName'),\n    $favorite = document.getElementById('icon-favorite'),\n    $time = document.getElementById('titleWidgetTime'),\n    timer;\n\n\ntitle.set = function ( ch ) {\n    ch = ch || {};\n    $title.innerText  = ch.name || '';\n    $number.innerText = ch.number || '';\n    // $favorite.innerText = ch.favorite ? 'C' : ' ';\n    if ( ch.favorite ) {\n        $favorite.classList.remove('hidden');\n    } else {\n        $favorite.classList.add('hidden');\n    }\n\n    if ( ch.epg ) {\n        $title.innerText += '\\n' + ch.epg;\n    }\n};\n\nfunction doTime () {\n    var time = new Date();\n\n    $time.innerText = ( '0' + time.getHours()).slice(-2) + ':' + ( '0' + time.getMinutes()).slice(-2);\n}\n\ntitle.display = function ( config, time ) {\n    time = time || 5000;\n    if ( !title.visible ) {\n        title.show();\n    }\n    if ( config.background ) {\n        $node.classList.add('bg');\n    }\n    clearTimeout(timer);\n\n    timer = setTimeout(function () {\n        if ( config.background ) {\n            //$node.classList.remove('bg');\n            //title.hide();\n        }\n    }, time);\n};\n\ndoTime();\n\nsetInterval(doTime, 35000);\n\nmodule.exports = title;\n","/**\n *\n * @author Aleynikov Boris <aleynikov.boris@gmail.com>.\n */\n\n'use strict';\n\n\nvar Layout = require('mag-component-layout');\n\n\n/**\n * Render item function for tv channel list.\n *\n * @param {HTMLElement} $item - $item to render\n * @param {Object} config - config of new data\n */\nmodule.exports = function ( $item, config ) {\n    var layout,\n        currentNode,\n        currentData,\n        hardcodeDomValue,\n        index,\n        layoutConfig;\n\n    if ( $item.ready && true ) {\n        for ( index = 0; index < config.items.length; index++ ) {\n            currentData = config.items[index];\n            if ( typeof currentData.value === 'string' || currentData.value === undefined ) {\n                currentNode = $item.layout.$node.childNodes[index];\n                currentNode.innerText = currentData.value || '';\n                currentNode.className = currentData.className || '';\n            } else if ( currentData.htmlInstance ) {\n                currentNode = $item.layout.$node.childNodes[index];\n                $item.domLinks.$title.innerText = currentData.realValue.name;\n                $item.domLinks.$epg.innerText = currentData.realValue.epg || '';\n            }\n        }\n    } else {\n        // clear inner content\n        while ( $item.firstChild ) {\n            $item.removeChild($item.firstChild);\n        }\n\n        layoutConfig = {\n            focusable: false,\n            data: config.items\n        };\n\n        if ( config.className ) {\n            layoutConfig.className = config.className;\n        }\n\n        layout = new Layout(layoutConfig);\n\n        hardcodeDomValue = config.items[1].value;\n\n\n        // on init list save needed links\n        $item.domLinks = {\n            $title: hardcodeDomValue.firstChild,\n            $epg: hardcodeDomValue.firstChild.nextSibling\n        };\n\n        $item.appendChild(layout.$node);\n        $item.layout = layout;\n        layout.parent = this;\n        layout.$parentItem = $item;\n\n        // focus layoutList if click on layout\n        layout.addListener('click', function () {\n            /*eslint no-invalid-this:0*/\n            // add inner property to set that event comes from inner component\n            this.parent.emit('click:item', {$item: $item, inner: true});\n        });\n\n        if ( config.click ) {\n            this.handlers[$item.index] = config.click;\n        }\n        // item is rendered\n        $item.ready = true;\n    }\n    $item.value = config.value || {};\n};\n","'use strict';\n\nvar id            = 'pageScanOptions',\n    Page          = require('stb-component-page'),\n    app           = require('mag-app'),\n    page          = new Page({$node: document.getElementById(id)}),\n    PanelSet      = require('mag-component-panel-set'),\n    PanelExtended = require('mag-component-panel'),\n    LayoutList    = require('mag-component-layout-list'),\n    ModalMessage  = require('mag-component-modal'),\n    RadioList     = require('mag-component-radio-list'),\n    dom           = require('spa-dom'),\n    keys          = require('stb-keys'),\n    Scrollbar     = require('stb-component-scrollbar'),\n    Footer        = require('mag-component-footer'),\n    // Flicker       = require('spa-component-flicker'),\n    Button        = require('stb-component-button'),\n    modalScroll   = new Scrollbar(),\n\n    symbolRateRange = {\n        start: 870,\n        end: 7200,\n        fefaultState: 6875\n    },\n\n    frequencyRange = {\n        start: 50000,\n        end: 858000,\n        step: 500\n    },\n\n    scanConfig = {\n        manual: false,\n        more: false,\n        currentType: {},\n        symbolRate: 6850,\n        modulation: 0,\n        frequencyStart: 50000,\n        frequencyEnd: 858000,\n        frequency: 50000,\n        bandwidth: 8,\n        network: ''\n    },\n\n    scanType = {\n        name: 'scanType',\n        items: [\n            {\n                name: '$name',\n                className: 'name theme-subhead-color',\n                value: gettext('Scanning type') + ':'\n            },\n            {\n                name: '$text',\n                className: 'text',\n                value: gettext('Auto')\n            }\n        ],\n        className: 'theme-item-more',\n        click: function () {\n            page.panelSet.blur();\n            page.modalScan.show();\n            page.modalScan.focus();\n        }\n    },\n\n    typeItemText,\n    typeItem = {\n        name: 'type',\n        items: [\n            {\n                name: '$name',\n                className: 'name theme-subhead-color',\n                value: gettext('DVB type') + ':'\n            },\n            typeItemText = {\n                name: '$text',\n                className: 'text',\n                value: ''\n            }\n        ],\n        className: 'theme-item-more',\n        click: function () {\n            page.panelSet.blur();\n            page.modalTypes.show();\n            page.modalTypes.focus();\n        }\n    },\n\n    symbolRateText,\n    symbolRate = {\n        name: 'symbolRate',\n        items: [\n            {\n                name: '$name',\n                className: 'name theme-subhead-color',\n                value: gettext('Symbol rate') + ':'\n            },\n            symbolRateText = {\n                name: '$text',\n                className: 'text',\n                value: '' + scanConfig.symbolRate\n            }\n        ],\n        className: 'theme-item-more',\n        click: function () {\n            page.panelSet.blur();\n            page.modalSymbolRate.show();\n            page.modalSymbolRate.focus();\n        }\n    },\n\n    modulationText,\n    modulation = {\n        name: 'modulation',\n        items: [\n            {\n                name: '$name',\n                className: 'name theme-subhead-color',\n                value: gettext('Modulation') + ':'\n            },\n            modulationText = {\n                name: '$text',\n                className: 'text',\n                value: gettext('Auto')\n            }\n        ],\n        className: 'theme-item-more',\n        click: function () {\n            page.panelSet.blur();\n            page.modalModulation.show();\n            page.modalModulation.focus();\n        }\n    },\n\n    scanTypeManual = {\n        items: [\n            {\n                className: 'name theme-subhead-color',\n                value: gettext('Scanning type') + ':'\n            },\n            {\n                className: 'text',\n                value: gettext('Manual')\n            }\n        ],\n        className: 'theme-item-more',\n        click: function () {\n            page.panelSet.blur();\n            page.modalScan.show();\n            page.modalScan.focus();\n        }\n    },\n\n    frequencyStartText,\n    frequencyStart = {\n        name: 'frequencyStart',\n        items: [\n            {\n                name: '$name',\n                className: 'name theme-subhead-color',\n                value: gettext('Start frequency (KHz)') + ':'\n            },\n            frequencyStartText = {\n                name: '$text',\n                className: 'text',\n                value: '' + scanConfig.frequencyStart\n            }\n        ],\n        className: 'theme-item-more',\n        click: function () {\n            page.panelSet.blur();\n            page.modalFrequencyStart.show();\n            page.modalFrequencyStart.focus();\n            page.footer.hide();\n        },\n        manualEdit: true,\n        configValue: 'frequencyStart'\n    },\n\n    frequencyEndText,\n    frequencyEnd = {\n        name: 'frequencyEnd',\n        items: [\n            {\n                name: '$name',\n                className: 'name theme-subhead-color',\n                value: gettext('End frequency (KHz)') + ':'\n            },\n            frequencyEndText = {\n                name: '$text',\n                className: 'text',\n                value: '' + scanConfig.frequencyEnd\n            }\n        ],\n        className: 'theme-item-more',\n        click: function () {\n            page.panelSet.blur();\n            page.modalFrequencyEnd.show();\n            page.modalFrequencyEnd.focus();\n            page.footer.hide();\n        },\n        manualEdit: true,\n        configValue: 'frequencyEnd'\n    },\n\n    bandwidthText,\n    bandwidth = {\n        name: 'bandwidth',\n        items: [\n            {\n                name: '$name',\n                className: 'name theme-subhead-color',\n                value: gettext('Bandwidth (MHz)') + ':'\n            },\n            bandwidthText = {\n                name: '$text',\n                className: 'text',\n                value: scanConfig.bandwidth + ''\n            }\n        ],\n        className: 'theme-item-more',\n        click: function () {\n            page.panelSet.blur();\n            page.modalBand.show();\n            page.modalBand.focus();\n        }\n    },\n\n    frequencyItemText,\n    frequencyItem = {\n        name: 'frequency',\n        items: [\n            {\n                name: '$name',\n                className: 'name theme-subhead-color',\n                value: gettext('Frequency (KHz)') + ':'\n            },\n            frequencyItemText = {\n                name: '$text',\n                className: 'text',\n                value: '' + scanConfig.frequency\n            }\n        ],\n        className: 'theme-item-more',\n        click: function () {\n            page.panelSet.blur();\n            page.modalFrequency.show();\n            page.modalFrequency.focus();\n            page.footer.hide();\n        },\n        manualEdit: true,\n        configValue: 'frequency'\n    },\n\n    networkID = {\n        name: 'networkID',\n        items: [\n            {\n                name: '$name',\n                className: 'name theme-subhead-color',\n                value: gettext('Network ID') + ':'\n            },\n            {\n                name: '$text',\n                className: 'text',\n                value: '' + scanConfig.network\n            }\n        ],\n        className: 'theme-item-more',\n        click: function () {\n            window.core.intent({\n                action: 'keyboard',\n                data: {\n                    value: scanConfig.network,\n                    title: gettext('Network ID'),\n                    mode: 'number'\n                },\n                events: {\n                    done: function ( event ) {\n                        if ( event.value ) {\n                            try {\n                                scanConfig.network = parseInt(event.value, 10);\n                            } catch ( error ) {\n                                event.stop = true;\n                                window.core.notify({\n                                    title: 'Network ID is not correct',\n                                    icon: 'alert',\n                                    type: 'warning',\n                                    timeout: 5000\n                                });\n                            }\n                        }\n                    }\n                }\n            }, function ( error ) {\n                console.log(error);\n            });\n\n        }\n    },\n\n    autoList = [scanType, typeItem, symbolRate, modulation],\n    manualList = [scanTypeManual, typeItem, frequencyStart, frequencyEnd, bandwidth],\n    manualMoreList = [scanTypeManual, typeItem, symbolRate, modulation, frequencyItem, networkID],\n\n    $channelsCountWrapper, $channelsCount,\n    listData, index, focusIndex,\n    typesList, middleList;\n\n\nfunction editManual () {\n    var activeItem =  middleList.$focusItem;\n\n    if ( DEVELOP ) {\n        window.activeItem = activeItem;\n    }\n    core.intent({\n        action: 'keyboard',\n        data: {\n            mode: 'number',\n            icon: null,\n            title: activeItem.links.$name.innerText,\n            value: activeItem.links.$text.innerText\n        },\n        events: {\n            done: function ( event ) {\n                var frequency;\n\n                try {\n                    frequency = parseInt(event.value, 10);\n                } catch ( error ) {\n                    core.notify({\n                        title: gettext('Value is incorrect'),\n                        icon: 'alert',\n                        type: 'error',\n                        timeout: 3000\n                    });\n                }\n\n                if ( frequency >= frequencyRange.start && frequency <= frequencyRange.end ) {\n                    activeItem.links.$text.innerText = frequency + '';\n                    scanConfig[activeItem.data.configValue] = frequency;\n                } else {\n                    core.notify({\n                        title: gettext('Value is incorrect'),\n                        icon: 'alert',\n                        type: 'error',\n                        timeout: 3000\n                    });\n                }\n            }\n        }\n    });\n}\n\n\n$channelsCountWrapper = dom.tag('div', {className: 'amountContainer'}, $channelsCount = dom.tag('div', {className: 'amount'}, '0'));\n\n\npage.modalScan = new ModalMessage({\n    visible: false,\n    title: gettext('Scanning types'),\n    events: {\n        show: function () {\n            this.focus();\n            page.footer.hide();\n        }\n    },\n    children: [\n        new RadioList({\n            focusIndex: 0,\n            size: 2,\n            cycle: true,\n            data: [\n                {\n                    state: true,\n                    title: gettext('Auto'),\n                    value: false\n                },\n                {\n                    state: false,\n                    title: gettext('Manual'),\n                    value: true\n                }\n            ],\n            events: {\n                'click:item': function () {\n                    page.modalScan.hide();\n                    page.middlePanel.focus();\n                },\n                keydown: function ( event ) {\n                    RadioList.prototype.defaultEvents.keydown.call(this, event);\n                    if ( event.code === keys.back ) {\n                        event.stop = true;\n                        page.modalScan.hide();\n                        page.middlePanel.focus();\n                    }\n                },\n                select: function ( item ) {\n                    scanConfig.manual = item.data.value;\n                    page.middlePanel.reset();\n                }\n            }\n        })\n    ]\n});\npage.add(page.modalScan);\n\n\npage.modalTypes = new ModalMessage({\n    visible: false,\n    title: gettext('DVB types'),\n    events: {\n        show: function () {\n            var list = app.provider.types.current,\n                selectedIndex = 0,\n                data = [],\n                typeIndex;\n\n            for ( typeIndex = 0; typeIndex < list.length; typeIndex++ ) {\n                data.push({\n                    state: list[typeIndex].type === scanConfig.currentType.type,\n                    title: list[typeIndex].name,\n                    value: list[typeIndex]\n                });\n                if ( list[typeIndex].type === scanConfig.currentType.type ) {\n                    selectedIndex = typeIndex;\n                }\n            }\n            typesList.init({data: data, size: data.length, focusIndex: selectedIndex});\n            this.focus();\n        },\n        hide: function () {\n            page.panelSet.focus();\n        }\n    },\n    children: [\n        typesList = new RadioList({\n            cycle: true,\n            scroll: modalScroll,\n            data: [],\n            events: {\n                'click:item': function () {\n                    page.modalTypes.hide();\n                    page.middlePanel.focus();\n                },\n                keydown: function ( event ) {\n                    RadioList.prototype.defaultEvents.keydown.call(this, event);\n                    if ( event.code === keys.back ) {\n                        event.stop = true;\n                        page.modalTypes.hide();\n                        page.middlePanel.focus();\n                    }\n                },\n                select: function ( item ) {\n                    scanConfig.currentType = item.data.value;\n                    middleList.links.type.links.$text.innerText = scanConfig.currentType.name;\n                    typeItemText.value = scanConfig.currentType.name;\n                }\n            }\n        }),\n        modalScroll\n    ]\n});\npage.add(page.modalTypes);\n\n\npage.footer = new Footer({\n    visible: true,\n    parent: page,\n    data: [\n        {\n            code: keys.f1,\n            title: gettext('Manual correction'),\n            action: editManual\n        },\n        {\n            code: keys.menu,\n            action: function () {\n                page.modalActions.show();\n            }\n        }\n    ]\n});\n\n\npage.modalActions = new ModalMessage({\n    visible: false,\n    title: gettext('actions'),\n    events: {\n        show: function () {\n            page.panelSet.blur();\n            this.focus();\n        },\n        hide: function () {\n            page.panelSet.focus();\n            if ( middleList.$focusItem.data.manualEdit ) {\n                page.footer.show();\n            }\n        }\n    },\n    children: [\n        new LayoutList({\n            cycle: true,\n            size: 1,\n            focusIndex: 0,\n            data: [\n                {\n                    items: [\n                        {className: 'theme-icon theme-icon-rc-f1', value: ''},\n                        {value: gettext('Manual correction')}\n                    ],\n                    click: function () {\n                        editManual();\n                        page.modalActions.hide();\n                    }\n                }\n            ],\n            events: {\n                keydown: function ( event ) {\n                    LayoutList.prototype.defaultEvents.keydown.call(this, event);\n                    if ( event.code === keys.back || event.code === keys.menu ) {\n                        event.stop = true;\n                        page.modalActions.hide();\n                    }\n                }\n            }\n        })\n    ]\n});\npage.add(page.modalActions);\n\n\nlistData = [];\nfor ( index = symbolRateRange.start; index <= symbolRateRange.end; index++ ) {\n    listData.push(\n        {\n            state: index === symbolRateRange.fefaultState,\n            value: index,\n            title: index\n        }\n    );\n}\nfocusIndex = symbolRateRange.fefaultState - symbolRateRange.start;\npage.modalSymbolRate = new ModalMessage({\n    visible: false,\n    title: gettext('Symbol rate'),\n    children: [\n        new RadioList({\n            cycle: true,\n            size: 5,\n            data: listData,\n            scroll: modalScroll = new Scrollbar(),\n            focusIndex: focusIndex,\n            events: {\n                'click:item': function () {\n                    page.modalSymbolRate.hide();\n                    page.middlePanel.focus();\n                },\n                keydown: function ( event ) {\n                    RadioList.prototype.defaultEvents.keydown.call(this, event);\n                    if ( event.code === keys.back ) {\n                        event.stop = true;\n                        page.modalSymbolRate.hide();\n                        page.middlePanel.focus();\n                    }\n                },\n                select: function ( item ) {\n                    scanConfig.symbolRate = item.data.value;\n                    middleList.links.symbolRate.links.$text.innerText = scanConfig.symbolRate;\n                    symbolRateText.value = scanConfig.symbolRate + '';\n                }\n            }\n        }),\n        modalScroll\n    ]\n});\npage.add(page.modalSymbolRate);\n\n\npage.modalModulation = new ModalMessage({\n    visible: false,\n    title: gettext('Modulation'),\n    children: [\n        new RadioList({\n            cycle: true,\n            size: 5,\n            focusIndex: 0,\n            data: [\n                {\n                    state: true,\n                    value: 0,\n                    title: gettext('Auto')\n                },\n                {\n                    value: 1,\n                    title: '16 QAM'\n                },\n                {\n                    value: 2,\n                    title: '32 QAM'\n                },\n                {\n                    value: 3,\n                    title: '64 QAM'\n                },\n                {\n                    value: 4,\n                    title: '128 QAM'\n                },\n                {\n                    value: 5,\n                    title: '256 QAM'\n                }\n            ],\n            events: {\n                'click:item': function () {\n                    page.modalModulation.hide();\n                    page.middlePanel.focus();\n                },\n                keydown: function ( event ) {\n                    RadioList.prototype.defaultEvents.keydown.call(this, event);\n                    if ( event.code === keys.back ) {\n                        event.stop = true;\n                        page.modalModulation.hide();\n                        page.middlePanel.focus();\n                    }\n                },\n                select: function ( item ) {\n                    scanConfig.modulation = item.data.value;\n                    middleList.links.modulation.links.$text.innerText = item.data.title;\n                    modulationText.value = item.data.title;\n                }\n            }\n        })\n    ]\n});\npage.add(page.modalModulation);\n\n\npage.modalBand = new ModalMessage({\n    visible: false,\n    title: gettext('Modulation'),\n    children: [\n        new RadioList({\n            cycle: true,\n            size: 3,\n            focusIndex: 2,\n            data: [\n                {\n                    value: 6,\n                    title: '6'\n                },\n                {\n                    value: 7,\n                    title: '7'\n                },\n                {\n                    value: 8,\n                    title: '8',\n                    state: true\n                }\n            ],\n            events: {\n                'click:item': function () {\n                    page.modalBand.hide();\n                    page.middlePanel.focus();\n                },\n                keydown: function ( event ) {\n                    RadioList.prototype.defaultEvents.keydown.call(this, event);\n                    if ( event.code === keys.back ) {\n                        event.stop = true;\n                        page.modalBand.hide();\n                        page.middlePanel.focus();\n                    }\n                },\n                select: function ( item ) {\n                    scanConfig.bandwidth = item.data.value;\n                    middleList.links.bandwidth.links.$text.innerText = item.data.title;\n                    bandwidthText.value = item.data.title;\n                }\n            }\n        })\n    ]\n});\npage.add(page.modalBand);\n\n\nlistData = [];\nfor ( index = frequencyRange.start; index <= frequencyRange.end; index += frequencyRange.step ) {\n    listData.push({\n        state: index === scanConfig.frequencyStart,\n        value: index,\n        title: index\n    });\n}\nfocusIndex = (scanConfig.frequencyStart - frequencyRange.start) / frequencyRange.step;\n\npage.modalFrequencyStart = new ModalMessage({\n    visible: false,\n    title: gettext('Start frequency (KHz)'),\n    children: [\n        new RadioList({\n            cycle: true,\n            size: 5,\n            data: listData,\n            scroll: modalScroll = new Scrollbar(),\n            focusIndex: focusIndex,\n            events: {\n                'click:item': function () {\n                    page.footer.show();\n                    page.modalFrequencyStart.hide();\n                    page.middlePanel.focus();\n                },\n                keydown: function ( event ) {\n                    RadioList.prototype.defaultEvents.keydown.call(this, event);\n                    if ( event.code === keys.back ) {\n                        event.stop = true;\n                        page.modalFrequencyStart.hide();\n                        page.middlePanel.focus();\n                        page.footer.show();\n                    }\n                },\n                select: function ( item ) {\n                    scanConfig.frequencyStart = item.data.value;\n                    middleList.links.frequencyStart.links.$text.innerText = scanConfig.frequencyStart;\n                    frequencyStartText.value = scanConfig.frequencyStart + '';\n                }\n            }\n        }),\n        modalScroll\n    ]\n});\npage.add(page.modalFrequencyStart);\n\n\nlistData = [];\nfor ( index = frequencyRange.start; index <= frequencyRange.end; index += frequencyRange.step ) {\n    listData.push(\n        {\n            state: index === scanConfig.frequencyEnd,\n            value: index,\n            title: index\n        }\n    );\n}\nfocusIndex = (scanConfig.frequencyEnd - frequencyRange.start) / frequencyRange.step;\n\npage.modalFrequencyEnd = new ModalMessage({\n    visible: false,\n    title: gettext('End frequency (KHz)'),\n    children: [\n        new RadioList({\n            cycle: true,\n            size: 5,\n            data: listData,\n            scroll: modalScroll = new Scrollbar(),\n            focusIndex: focusIndex,\n            events: {\n                'click:item': function () {\n                    page.modalFrequencyEnd.hide();\n                    page.middlePanel.focus();\n                    page.footer.show();\n                },\n                keydown: function ( event ) {\n                    RadioList.prototype.defaultEvents.keydown.call(this, event);\n                    if ( event.code === keys.back ) {\n                        event.stop = true;\n                        page.modalFrequencyEnd.hide();\n                        page.middlePanel.focus();\n                        page.footer.show();\n                    }\n                },\n                select: function ( item ) {\n                    scanConfig.frequencyEnd = item.data.value;\n                    middleList.links.frequencyEnd.links.$text.innerText = scanConfig.frequencyEnd;\n                    frequencyEndText.value = scanConfig.frequencyEnd + '';\n                }\n            }\n        }),\n        modalScroll\n    ]\n});\npage.add(page.modalFrequencyEnd);\n\n\nlistData = [];\nfor ( index = frequencyRange.start; index <= frequencyRange.end; index += frequencyRange.step ) {\n    listData.push(\n        {\n            state: index === scanConfig.frequency,\n            value: index,\n            title: index\n        }\n    );\n}\nfocusIndex = (scanConfig.frequency - frequencyRange.start) / frequencyRange.step;\n\npage.modalFrequency = new ModalMessage({\n    visible: false,\n    title: gettext('Frequency (KHz)'),\n    children: [\n        new RadioList({\n            cycle: true,\n            size: 5,\n            data: listData,\n            scroll: modalScroll = new Scrollbar(),\n            focusIndex: focusIndex,\n            events: {\n                'click:item': function () {\n                    page.modalFrequency.hide();\n                    page.middlePanel.focus();\n                    page.footer.show();\n                },\n                keydown: function ( event ) {\n                    RadioList.prototype.defaultEvents.keydown.call(this, event);\n                    if ( event.code === keys.back ) {\n                        event.stop = true;\n                        page.modalFrequency.hide();\n                        page.middlePanel.focus();\n                        page.footer.show();\n                    }\n                },\n                select: function ( item ) {\n                    scanConfig.frequency = item.data.value;\n                    middleList.links.frequency.links.$text.innerText = scanConfig.frequency;\n                    frequencyItemText.value = scanConfig.frequency + '';\n                }\n            }\n        }),\n        modalScroll\n    ]\n});\npage.add(page.modalFrequency);\n\n\n// middle panel (list)\npage.middlePanel = new PanelExtended({\n    title: [{value: gettext('Scan DVB channels'), className: 'name'}, $channelsCountWrapper],\n    main: true,\n    children: [],\n    className: 'middlePanel'\n});\n\n\npage.middlePanel.scroll = new Scrollbar();\n\npage.middlePanel.add(middleList = new LayoutList({\n    cycle: true,\n    focusIndex: 0,\n    size: 6,\n    className: 'padded',\n    scroll: page.middlePanel.scroll,\n    events: {\n        overflow: function () {\n            middleList.$focusItem.classList.remove('focus');\n            page.middlePanel.scroll.hide();\n            page.middlePanel.button.focus();\n        },\n        keydown: function ( event ) {\n            LayoutList.prototype.defaultEvents.keydown.call(this, event);\n        },\n        'focus:item': function ( data ) {\n            if ( data.$curr.data.manualEdit ) {\n                page.footer.show();\n            } else {\n                page.footer.hide();\n            }\n        }\n    },\n    data: []\n}), page.middlePanel.scroll);\n\n\nif ( DEVELOP ) {\n    window.config = scanConfig;\n    window.middleList = middleList;\n    window.autoList = autoList;\n}\n\n\npage.middlePanel.add(page.middlePanel.button = new Button({\n    value: gettext('Start'),\n    className: 'bottom theme-footer',\n    $node: page.middlePanel.$node.appendChild(document.createElement('div')),\n    events: {\n        click: function () {\n            app.route(app.pages.scanning, scanConfig);\n        },\n        keydown: function ( event ) {\n            if ( event.code === keys.up ) {\n                middleList.focus();\n                page.middlePanel.scroll.show();\n                // restore taken focus class\n                middleList.$focusItem.classList.add('focus');\n                middleList.focusIndex(middleList.data.length - 1);\n            } else if ( event.code === keys.down ) {\n                middleList.focus();\n                page.middlePanel.scroll.show();\n                // restore taken focus class\n                middleList.$focusItem.classList.add('focus');\n                middleList.focusIndex(0);\n            } else if ( event.code === keys.ok ) {\n                if ( page.middlePanel.button.events['click'] ) {\n                    page.middlePanel.button.emit('click', {event: event});\n                }\n            }\n        }\n    }\n}));\n\n// panel set: main\npage.panelSet = new PanelSet({\n    visible: true,\n    $node: document.getElementById('panelSetInfo'),\n    focusIndex: 0,\n    panels: [page.middlePanel]\n});\npage.add(page.panelSet);\n\n\npage.middlePanel.reset = function () {\n    var data = [],\n        typeIndex,\n        type = app.provider.types.current;\n\n    scanConfig.more = app.provider.scanOptions.more;\n    for ( typeIndex = 0; typeIndex < type.length; typeIndex++ ) {\n        if ( type[typeIndex].type === scanConfig.currentType.type ) {\n            scanConfig.currentType = type[typeIndex];\n            break;\n        }\n    }\n    if ( !scanConfig.currentType.type ) {\n        scanConfig.currentType = type[0];\n    }\n\n    typeItemText.value = scanConfig.currentType.name;\n\n    if ( scanConfig.manual ) {\n        if ( scanConfig.more ) {\n            data = manualMoreList;\n        } else {\n            data = manualList;\n        }\n    } else if ( scanConfig.more ) {\n        data = autoList;\n    } else {\n        data = autoList.slice(0, 2);\n    }\n\n    $channelsCount.innerText = data.length;\n    middleList.setData({data: data, focusIndex: 0});\n};\n\npage.addListener('keydown', function ( event ) {\n    switch ( event.code ) {\n        case keys.back:\n            app.route(app.pages.main);\n            event.stop = true;\n            break;\n    }\n});\n\n\npage.addListener('show', function () {\n    page.middlePanel.reset();\n    page.panelSet.show();\n    page.panelSet.focus();\n});\n\n\n// public\nmodule.exports = page;\n","/**\n * @license The MIT License (MIT)\n * @copyright Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n'use strict';\n\n// public\nmodule.exports = require('spa-component-button');\n\n// correct component name\nmodule.exports.prototype.name = 'stb-component-button';\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('spa-component'),\n    keys      = require('spa-keys');\n\n\n/**\n * Base button implementation.\n *\n * Has global options:\n *     Button.prototype.clickDuration - time to apply \"click\" class, does not apply if 0\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n * @param {string} [config.value] button caption text (generated if not set)\n * @param {string} [config.icon] button icon name\n *\n * @example\n * var Button = require('stb/ui/button'),\n *     btnSimple, btnIcon, btnDetached;\n *\n * btnSimple = new Button({\n *     $node: document.getElementById('btnSimple'),\n *     value: 'Simple button'\n * });\n *\n * btnIcon = new Button({\n *     $node: document.getElementById('btnIcon'),\n *     icon: 'menu'\n *     value: 'Button with icon'\n * });\n *\n * btnDetached = new Button({\n *     value: 'Button not added to the page',\n *     className: 'wide'\n * });\n */\nfunction Button ( config ) {\n    // current execution context\n    //var self = this;\n\n    // sanitize\n    config = config || {};\n\n    console.assert(typeof this === 'object', 'must be constructed via new');\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n        if ( config.icon && typeof config.icon !== 'string' ) {\n            throw new Error(__filename + ': wrong or empty config.icon');\n        }\n        if ( config.value && typeof config.value !== 'string' ) {\n            throw new Error(__filename + ': wrong or empty config.value');\n        }\n    }\n\n    //config.name = 'spa-component-button' + (config.className || '');\n\n    // set default className if classList property empty or undefined\n    //config.className = this.name + ' ' + (config.className || '');\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // optional dom\n    if ( config.icon ) {\n        // insert icon\n        this.$icon = this.$body.appendChild(document.createElement('div'));\n        this.$icon.className = 'icon ' + config.icon;\n    }\n\n    // insert caption placeholder\n    this.$text = this.$body.appendChild(document.createElement('div'));\n    this.$text.classList.add('text');\n\n    if ( config.value ) {\n        // fill it\n        this.$text.innerText = config.value;\n    }\n}\n\n\n// inheritance\nButton.prototype = Object.create(Component.prototype);\nButton.prototype.constructor = Button;\n\n// set component name\nButton.prototype.name = 'spa-component-button';\n\n\n// time to apply \"click\" class, does not apply if 0\nButton.prototype.clickDuration = 200;\n\n\n/**\n * List of all default event callbacks.\n *\n * @type {Object.<string, function>}\n */\nButton.prototype.defaultEvents = {\n    /**\n     * Default method to handle mouse click events.\n     */\n    click: function () {\n        // current execution context\n        var self = this;\n\n        this.$node.classList.add('click');\n\n        setTimeout(function () {\n            self.$node.classList.remove('click');\n        }, this.clickDuration);\n    },\n\n    /**\n     * Default method to handle keyboard keydown events.\n     *\n     * @param {Object} event generated event\n     */\n    keydown: function ( event ) {\n        if ( event.code === keys.enter ) {\n            // emulate click\n            // there are some listeners\n            if ( this.events['click'] ) {\n                /**\n                 * Mouse click event emulation.\n                 *\n                 * @event module:stb/ui/button~Button#click\n                 *\n                 * @type {Object}\n                 * @property {Event} event click event data\n                 */\n                this.emit('click', {event: event});\n            }\n        }\n    }\n};\n\n\n// public\nmodule.exports = Button;\n","'use strict';\n\nvar id           = 'pageScanning',\n    Page         = require('stb-component-page'),\n    app          = require('mag-app'),\n    LayoutList   = require('mag-component-layout-list'),\n    ModalMessage = require('mag-component-modal'),\n    Progress     = require('spa-component-progress-bar'),\n    keys         = require('stb-keys'),\n    Footer       = require('mag-component-footer'),\n\n    page         = new Page({\n        $node: document.getElementById(id),\n        className: 'theme-page-background'\n    }),\n\n    $frequency = document.getElementById('scanningFrequency'),\n    findCount = 0,\n    $count = document.getElementById('scanningCount'),\n    $channel = document.getElementById('scanningChannel'),\n    scanning = false;\n\n\nfunction stopScanning () {\n    app.provider.stopScan();\n    app.route(app.pages.scanOptions);\n}\n\n\nfunction onProgress ( info ) {\n    page.progress.set(info.progress);\n    page.progress.$percents.innerText = info.progress + '%';\n    $frequency.innerText = info.frequency;\n}\n\n\nfunction onFound ( info ) {\n    findCount++;\n    $count.innerText = findCount;\n    $channel.innerText = info.name;\n}\n\n\nfunction onEnd () {\n    page.progress.set(100);\n    page.progress.$percents.innerText = '100%';\n    scanning = false;\n    app.route(app.pages.main);\n}\n\n\ndocument.getElementById('scanningFrequencyTitle').innerText = gettext('Frequency');\ndocument.getElementById('scanningCountTitle').innerText = gettext('Found in total');\ndocument.getElementById('scanningChannelTitle').innerText = gettext('Last found');\ndocument.getElementById('scanningTitle').innerText = gettext('Finding DVB channels');\n\n\npage.footer = new Footer({\n    visible: true,\n    parent: page,\n    data: [\n        {\n            code: keys.f1,\n            title: gettext('Stop scanning'),\n            action: stopScanning\n        },\n        {\n            code: keys.menu,\n            action: function () {\n                page.modalActions.show();\n            }\n        }\n    ]\n});\n\n\npage.progress = new Progress({\n    $node: document.getElementById('scanningProgress'),\n    value: 0,\n    className: 'theme-progressbar'\n});\npage.progress.$percents = document.getElementById('scanningProgressValue');\n\n\npage.modalActions = new ModalMessage({\n    visible: false,\n    title: gettext('actions'),\n    events: {\n        show: function () {\n            this.focus();\n        }\n    },\n    children: [\n        new LayoutList({\n            cycle: true,\n            size: 1,\n            focusIndex: 0,\n            data: [\n                {\n                    items: [\n                        {className: 'theme-icon theme-icon-rc-f1', value: ''},\n                        {value: gettext('Stop scanning')}\n                    ],\n                    click: function () {\n                        stopScanning();\n                        page.modalActions.hide();\n                    }\n                }\n            ],\n            events: {\n                keydown: function ( event ) {\n                    LayoutList.prototype.defaultEvents.keydown.call(this, event);\n                    if ( event.code === keys.back || event.code === keys.menu ) {\n                        event.stop = true;\n                        page.modalActions.hide();\n                    }\n                }\n            }\n        })\n    ]\n});\npage.add(page.modalActions);\n\n\npage.addListener('keydown', function ( event ) {\n    switch ( event.code ) {\n        case keys.back:\n            event.stop = true;\n            if ( scanning ) {\n                core.notify({\n                    // grammar mistake: wont -> want. Fix grammar with\n                    title: gettext('Do you want to stop scanning?'),\n                    // translation keys in po files\n                    icon: 'info',\n                    type: '',\n                    buttons: [\n                        {\n                            value: gettext('Cancel'),\n                            click: function () { /* do nothing*/ }\n                        },\n                        {\n                            value: gettext('Stop'),\n                            click: stopScanning\n                        }\n                    ]\n                });\n            } else {\n                app.route(app.pages.scanOptions);\n            }\n            break;\n    }\n});\n\n\npage.addListener('show', function ( data ) {\n    var config = data.data;\n\n    page.config = {\n        type: config.currentType.type,\n        callbacks: {\n            onProgress: onProgress,\n            onFound: onFound,\n            onEnd: onEnd\n        }\n    };\n    scanning = true;\n    if ( app.lastIntent ) {\n        app.lastIntent.emit('playback:stop');\n    }\n    findCount = 0;\n    $count.innerText = '0';\n    $channel.innerText = '';\n    $frequency.innerText = '';\n    if ( config.manual ) {\n        if ( config.more ) {\n            page.config.netId = config.network;\n            page.config.frequency = config.frequency;\n            page.config.modulation = config.modulation;\n            page.config.symRate = config.symbolRate;\n        } else {\n            page.config.frequency = config.frequencyStart;\n            page.config.frequencyEnd = config.frequencyEnd;\n            page.config.band = config.band;\n        }\n        app.provider.startManualScan(page.config);\n    } else {\n        if ( config.more ) {\n            page.config.symRate = config.symbolRate;\n            page.config.modulation = config.modulation;\n        }\n        app.provider.startAutoScan(page.config);\n    }\n});\n\n\n// public\nmodule.exports = page;\n","/**\n * @license The MIT License (MIT)\n * @author Stanislav Kalashnik <darkpark.main@gmail.com>\n */\n\n/* eslint no-path-concat: 0 */\n\n'use strict';\n\nvar Component = require('spa-component');\n\n\n/**\n * Base progress bar implementation.\n *\n * @constructor\n * @extends Component\n *\n * @param {Object} [config={}] init parameters (all inherited from the parent)\n * @param {number} [config.value=0] initial value\n * @param {number} [config.max=100] max progress value\n * @param {number} [config.min=0] min progress value\n */\nfunction ProgressBar ( config ) {\n    // sanitize\n    config = config || {};\n\n    if ( DEVELOP ) {\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n        // init parameters checks\n        if ( 'className' in config && (!config.className || typeof config.className !== 'string') ) {\n            throw new Error(__filename + ': wrong or empty config.className');\n        }\n    }\n\n    /**\n     * Max progress value.\n     *\n     * @type {number}\n     */\n    this.max = 100;\n\n    /**\n     * Min progress value.\n     *\n     * @type {number}\n     */\n    this.min = 0;\n\n    /**\n     * Initial progress position.\n     *\n     * @type {number}\n     */\n    this.value = 0;\n\n    /**\n     * Value of the one percent step\n     *\n     * @type {number}\n     */\n    this.step = 1;\n\n    // can't accept focus\n    config.focusable = config.focusable || false;\n\n    // set default className if classList property empty or undefined\n    //config.className = 'progressBar ' + (config.className || '');\n\n    // parent constructor call\n    Component.call(this, config);\n\n    // insert bar line\n    this.$value = this.$body.appendChild(document.createElement('div'));\n\n    // correct CSS class name\n    this.$value.className = 'value';\n\n    // component setup\n    this.init(config);\n}\n\n\n// inheritance\nProgressBar.prototype = Object.create(Component.prototype);\nProgressBar.prototype.constructor = ProgressBar;\n\n// set component name\nProgressBar.prototype.name = 'spa-component-progress-bar';\n\n\n/**\n * Set position of the given value.\n * Does nothing in case when progress is end and passed value is more than max value.\n *\n * @param {number} value new value to set\n * @return {boolean} operation result\n *\n * @fires module:stb/ui/progress.bar~ProgressBar#done\n * @fires module:stb/ui/progress.bar~ProgressBar#change\n */\nProgressBar.prototype.set = function ( value ) {\n    var prevValue = this.value;\n\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( Number(value) !== value ) {\n            throw new Error(__filename + ': value must be a number');\n        }\n    }\n\n    // value changed but in the given range\n    if ( this.value !== value && value <= this.max && value >= this.min ) {\n        // set new value\n        this.value = value;\n\n        // get value in percents\n        value = Math.abs(this.value - this.min) / this.step;\n\n        if ( value === 100 ) {\n            // there are some listeners\n            if ( this.events['done'] ) {\n                /**\n                 * Set progress to its maximum value.\n                 *\n                 * @event module:stb/ui/progress.bar~ProgressBar#done\n                 */\n                this.emit('done');\n            }\n        }\n\n        // set progress bar width\n        this.$value.style.width = value + '%';\n\n        // there are some listeners\n        if ( this.events['change'] ) {\n            /**\n             * Update progress value.\n             *\n             * @event module:stb/ui/progress.bar~ProgressBar#change\n             *\n             * @type {Object}\n             * @property {number} prev old/previous progress value\n             * @property {number} curr new/current progress value\n             */\n            this.emit('change', {curr: this.value, prev: prevValue});\n        }\n\n        return true;\n    }\n\n    // nothing was done\n    return false;\n};\n\n\n/**\n * Init or re-init current max or/and min or/and value.\n *\n * @param {Object} config init parameters (subset of constructor config params)\n */\nProgressBar.prototype.init = function ( config ) {\n    if ( DEVELOP ) {\n        if ( arguments.length !== 1 ) {\n            throw new Error(__filename + ': wrong arguments number');\n        }\n        if ( typeof config !== 'object' ) {\n            throw new Error(__filename + ': wrong config type');\n        }\n    }\n\n    // set max progress value\n    if ( config.max !== undefined ) {\n        if ( DEVELOP ) {\n            if ( Number(config.max) !== config.max ) {\n                throw new Error(__filename + ': config.max value must be a number');\n            }\n        }\n\n        // apply\n        this.max = config.max;\n    }\n\n    // set min progress value\n    if ( config.min !== undefined ) {\n        if ( DEVELOP ) {\n            if ( Number(config.min) !== config.min ) {\n                throw new Error(__filename + ': config.min value must be a number');\n            }\n        }\n\n        // apply\n        this.min = config.min;\n    }\n\n    if ( DEVELOP ) {\n        if ( this.min >= this.max ) {\n            throw new Error(__filename + ': this.min value must be less than this.max');\n        }\n    }\n\n    // set actual progress value\n    if ( config.value !== undefined ) {\n        if ( DEVELOP ) {\n            if ( Number(config.value) !== config.value ) {\n                throw new Error(__filename + ': config.value must be a number');\n            }\n            if ( config.value > this.max ) {\n                throw new Error(__filename + ': config.value more than config.maximum');\n            }\n            if ( config.value < this.min ) {\n                throw new Error(__filename + ': config.value less than config.minimum');\n            }\n        }\n\n        // apply\n        this.value = config.value;\n    }\n\n    this.step = Math.abs(this.max - this.min) / 100;\n\n    // init bar size, (this.min - this.value) - calculate distance from start\n    this.$value.style.width = (Math.abs(this.min - this.value) / this.step) + '%';\n};\n\n\n// public\nmodule.exports = ProgressBar;\n"],"sourceRoot":""}