!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=12)}([function(t,e,i){"use strict";var s=i(7);s.back=s.backspace,s.channelNext=s.tab,s.channelPrev=s.tab+"s",s.ok=s.enter,s.exit=s.escape,s.volumeUp=107,s.volumeDown=109,s.f1="112c",s.f2="113c",s.f3="114c",s.f4="115c",s.refresh="116c",s.frame="117c",s.phone="119c",s.set="120c",s.tv="121c",s.menu="122c",s.app="123c",s.rewind="66a",s.forward="70a",s.audio="71a",s.standby="74a",s.keyboard="76a",s.usbMounted="80a",s.usbUnmounted="81a",s.playPause="82a",s.play=-1,s.pause=-1,s.stop="83a",s.power="85a",s.record="87a",s.info="89a",s.mute="192a",s.digit0=48,s.digit1=49,s.digit2=50,s.digit3=51,s.digit4=52,s.digit5=53,s.digit6=54,s.digit7=55,s.digit8=56,s.digit9=57,t.exports=s},function(t,e,i){"use strict";var s=i(5),n=i(14).parse,a=new s;a.query=n(document.location.search.substring(1)),a.config=i(15),a.activePage=null,a.route=function(t,e){var i,s=a.activePage;return!(!t||t.active)&&(t.name,t.id,t.name,t.id,(i=a.activePage)&&i.active&&(i.$node.classList.remove("active"),i.active=!1,a.activePage=null,i.name,i.id,i.name,i.id,i.events["hide"]&&i.emit("hide")),function(t,e){!t||t.active||(t.$node.classList.add("active"),t.active=!0,a.activePage=t,t.name,t.id,t.name,t.id,t.events["show"]&&t.emit("show",{data:e}))}(t,e),this.events["route"]&&this.emit("route",{from:s,to:t}),!0)},t.exports=a},function(t,e,i){"use strict";t.exports=i(3)},function(t,e,i){"use strict";var s=i(1),n=i(5),a=0;function o(t){var e,i=this;if(t=t||{},this.visible=!0,this.focusable=!0,this.$node=null,this.$body=null,this.parent=null,this.children=[],this.propagate=!!t.propagate,n.call(this),this.$node=t.$node||document.createElement("div"),this.$body=t.$body||this.$node,this.$node.className=this.name+" "+(t.className||""),this.id=t.id||this.$node.id||"cid"+a++,t.parent&&t.parent.add(this),!1===t.visible&&this.hide(),!1===t.focusable&&(this.focusable=!1),this.defaultEvents)for(e in t.events=t.events||{},this.defaultEvents)t.events[e]=t.events[e]||this.defaultEvents[e];t.events&&Object.keys(t.events).forEach(function(e){i.addListener(e,t.events[e])}),t.children&&this.add.apply(this,t.children),this.$node.addEventListener("click",function(t){i.focus(),i.events["click"]&&i.emit("click",t),t.stopPropagation()}),this.name,this.id,this.name,this.id}o.prototype=Object.create(n.prototype),o.prototype.constructor=o,o.prototype.defaultEvents=null,o.prototype.add=function(t){var e;for(e=0;e<arguments.length;e++)t=arguments[e],this.children.push(t),t.parent=this,t.$node&&null===t.$node.parentNode&&this.$body.appendChild(t.$node),t.name,t.id,this.name,this.id,this.name,this.id,t.name,t.id,this.events["add"]&&this.emit("add",{item:t})},o.prototype.remove=function(){this.parent&&(s.activePage.activeComponent===this&&(this.blur(),this.parent.focus()),this.parent.children.splice(this.parent.children.indexOf(this),1)),this.children.forEach(function(t){t.remove()}),this.$node.parentNode.removeChild(this.$node),this.events["remove"]&&this.emit("remove"),this.events={},this.name,this.id,this.name,this.id},o.prototype.focus=function(t){var e=s.activePage,i=e.activeComponent;return!(!this.focusable||this===i)&&(i&&i.blur(),e.activeComponent=i=this,i.$node.classList.add("focus"),this.name,this.id,this.name,this.id,i.events["focus"]&&i.emit("focus",t),!0)},o.prototype.blur=function(){var t=s.activePage,e=t.activeComponent;return this.$node.classList.remove("focus"),this===e?(t.activeComponent=null,this.name,this.id,this.name,this.id,this.events["blur"]&&this.emit("blur"),!0):(this.name,this.id,this.name,this.id,!1)},o.prototype.show=function(t,e){return!this.visible&&(this.$node.classList.remove("hidden"),this.visible=!0,this.name,this.id,this.name,this.id,this.events["show"]&&this.emit("show",t),"function"==typeof e&&setTimeout(e),!0)},o.prototype.hide=function(t){return!!this.visible&&(this.$node.classList.add("hidden"),this.visible=!1,this.name,this.id,this.name,this.id,this.events["hide"]&&this.emit("hide"),"function"==typeof t&&setTimeout(t),!0)},t.exports=o},function(t,e,i){"use strict";var s=i(13);t.exports=s},function(t,e,i){"use strict";function s(){this.events={}}s.prototype={addListener:function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)},once:function(t,e){var i=this;this.events[t]=this.events[t]||[],this.events[t].push(function s(){i.removeListener(t,s),e.apply(i,arguments)})},addListeners:function(t){var e;for(e in t)t.hasOwnProperty(e)&&this.addListener(e,t[e])},removeListener:function(t,e){this.events[t]&&(this.events[t]=this.events[t].filter(function(t){return t!==e}),0===this.events[t].length&&(this.events[t]=void 0))},emit:function(t){var e,i=this.events[t];if(i)for(e=0;e<i.length;e++)i[e].apply(this,Array.prototype.slice.call(arguments,1))}},s.prototype.constructor=s,t.exports=s},function(t,e,i){"use strict";var s=i(1);t.exports=function(t){var e=document.createElement("link");e.rel="stylesheet",e.href="css/"+t+"."+s.metrics.height+".css",document.head.appendChild(e)}},function(t,e,i){"use strict";t.exports={backspace:8,tab:9,enter:13,escape:27,space:32,pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,del:46}},function(t,e,i){"use strict";var s=i(2),n=i(0);function a(t){var e=this;t=t||{},this.focusIndex=0,this.data=[],this.links={},s.call(this,t),this.init(t),this.addListener("keydown",function(t){switch(t.code){case n.right:e.children.length&&e.focusIndex<e.children.length-1&&e.children[++e.focusIndex].focus();break;case n.left:e.children.length&&e.focusIndex>0&&e.children[--e.focusIndex].focus();break;case n.back:e.parent&&(e.parent.focus(),e.$parentItem&&e.parent.focusItem(e.$parentItem))}})}a.prototype=Object.create(s.prototype),a.prototype.constructor=a,a.prototype.name="mag-component-layout",a.prototype.init=function(t){for(var e,i,n,a=this,o=function(t){var e,i;for(e=0;e<t.length;e++)"object"==typeof(i=t[e])?i instanceof s||i instanceof HTMLElement?t[e]={value:i,wrap:!1}:t[e].wrap=!0:t[e]={value:t[e],wrap:!0};return t}(t.data);this.$node.firstChild;)this.$node.removeChild(this.$node.firstChild);function c(){a.focusIndex=this.index}for(this.data=o,n=0;n<o.length;n++)"string"==typeof(e=o[n]).value?((i=document.createElement("div")).textContent=e.value,e.className&&(i.className=e.className),this.$node.appendChild(i),e.name&&(this.links[e.name]=i)):e.value instanceof HTMLElement?e.wrap?(i=document.createElement("div"),e.className&&(i.className=e.className),i.appendChild(e.value),this.$node.appendChild(i),e.name&&(this.links[e.name]=i)):(this.$node.appendChild(e.value),e.name&&(this.links[e.name]=e.value)):e.value instanceof s?(e.value.propagate=!0,e.value.index=this.children.length,e.value.addListener("click",c),e.wrap?(i=document.createElement("div"),e.className&&(i.className=e.className),i.appendChild(e.value.$node),this.$node.appendChild(i),this.children.push(e.value),e.value.parent=this,e.name&&(this.links[e.name]=i)):(this.add(e.value),e.name&&(this.links[e.name]=e.value))):(i=document.createElement("div"),e.className&&(i.className=e.className),this.$node.appendChild(i),e.name&&(this.links[e.name]=i))},t.exports=a},function(t,e,i){"use strict";var s=i(10),n=i(8);function a(t){var e=this;t=t||{},this.handlers={},this.links={},this.$noData=null,t.propagate=void 0===t.propagate||t.propagate,this.fixedData=t.fixedData||!1,t.$body=document.createElement("div"),t.$body.className="body",this.$noData=document.createElement("div"),this.$noData.className="noData hidden",s.call(this,t),this.$node.appendChild(this.$body),this.$node.appendChild(this.$noData),this.addListener("click:item",function(t){t.$item.layout.children.length&&!t.inner&&t.$item.layout.children[t.$item.layout.focusIndex].focus(),t.inner&&(e.focus(),e.focusItem(t.$item)),e.handlers[t.$item.index]&&e.handlers[t.$item.index](t.$item)})}a.prototype=Object.create(s.prototype),a.prototype.constructor=a,a.prototype.name="mag-component-layout-list",a.prototype.renderItemDefault=function(t,e){var i,s,a,o,c;if(t.ready&&this.fixedData)for(c=0;c<e.items.length;c++)"string"!=typeof(o=e.items[c]).value&&void 0!==o.value||((a=t.layout.$node.childNodes[c]).innerText=o.value||"",a.className=o.className||"");else{for(;t.firstChild;)t.removeChild(t.firstChild);s={focusable:!1,data:e.items},e.className&&(s.className=e.className),i=new n(s),e.name&&(this.links[e.name]=i),t.appendChild(i.$node),t.layout=i,i.parent=this,i.$parentItem=t,i.addListener("click",function(){i.parent.emit("click:item",{$item:t,inner:!0})}),e.click&&(this.handlers[t.index]=e.click),t.ready=!0}t.value=e.value||{}},a.prototype.setData=function(t){this.links={},s.prototype.setData.call(this,t),t.data&&t.data.length?this.$noData.classList.add("hidden"):this.$noData.classList.remove("hidden")},a.prototype.init=function(t){var e;s.prototype.init.call(this,t),t.noData&&(this.$noData.innerHTML="",t.noData instanceof Element?this.$noData.appendChild(t.noData):"string"==typeof t.noData&&((e=document.createElement("div")).innerText=t.noData,this.$noData.appendChild(e))),t.data&&t.data.length?this.$noData.classList.add("hidden"):this.$noData.classList.remove("hidden")},a.prototype.renderItem=a.prototype.renderItemDefault,t.exports=a},function(t,e,i){"use strict";var s=i(2),n=i(0);function a(t){t=t||{},this.$focusItem=null,this.viewIndex=null,this.data=[],this.type=this.TYPE_VERTICAL,this.size=5,this.cycle=!1,this.scroll=null,t.type&&(this.type=t.type),this.provider=null,this.type===this.TYPE_HORIZONTAL&&(t.className+=" horizontal"),s.call(this,t),this.init(t)}a.prototype=Object.create(s.prototype),a.prototype.constructor=a,a.prototype.name="mag-component-list",a.prototype.TYPE_VERTICAL=1,a.prototype.TYPE_HORIZONTAL=2,a.prototype.renderItemDefault=function(t,e){t.innerText=e.value},a.prototype.renderItem=a.prototype.renderItemDefault,a.prototype.defaultEvents={mousewheel:function(t){this.type===this.TYPE_VERTICAL&&t.wheelDeltaY&&this.move(t.wheelDeltaY>0?n.up:n.down),this.type===this.TYPE_HORIZONTAL&&t.wheelDeltaX&&this.move(t.wheelDeltaX>0?n.left:n.right)},keydown:function(t){switch(t.code){case n.up:case n.down:case n.right:case n.left:case n.pageUp:case n.pageDown:case n.home:case n.end:this.move(t.code);break;case n.enter:this.events["click:item"]&&this.$focusItem&&this.emit("click:item",{$item:this.$focusItem,event:t})}}},a.prototype.init=function(t){var e,i,s=this,n=this.$body.children.length,a=function(t){this.data&&(s.focusItem(this),s.events["click:item"]&&s.emit("click:item",{$item:this,event:t}))};if(void 0!==t.cycle&&(this.cycle=t.cycle),t.scroll&&(this.scroll=t.scroll),t.provider&&(this.provider=t.provider),t.render&&(this.renderItem=t.render),t.size&&(this.size=t.size),t.events&&Object.keys(t.events).forEach(function(e){s.events[e]=null,s.addListener(e,t.events[e])}),this.size!==n)for(n>0&&(this.$body.innerText=null),i=0;i<this.size;i++)(e=document.createElement("div")).index=i,e.className="item",e.addEventListener("click",a),this.$body.appendChild(e);if(this.provider){if(this.provider.blocked)return;this.provider.get(null,function(e,i){e?s.events["data:error"]&&s.emit("data:error",e):(i&&(t.data=i,s.setData(t),s.scroll&&s.scroll.init({realSize:s.provider.maxCount,viewSize:s.provider.size,value:s.provider.head+s.provider.pos})),s.events["data:get"]&&s.emit("data:get"))})}else t.data&&this.setData(t)},a.prototype.setData=function(t){t.data&&(this.data=function(t){var e;for(e=0;e<t.length;e++)"object"!=typeof t[e]&&(t[e]={value:t[e]});return t}(t.data)),this.viewIndex=null,this.$focusItem&&this.blurItem(this.$focusItem),this.scroll&&(this.provider?this.scroll.realSize!==this.provider.maxCount&&this.scroll.init({realSize:this.provider.maxCount,viewSize:this.provider.size,value:this.provider.head+this.provider.pos}):this.scroll.init({realSize:this.data.length,viewSize:this.size,value:t.viewIndex||0})),void 0!==t.focusIndex&&this.data.length?this.focusIndex(t.focusIndex):this.renderView(t.viewIndex||0)},a.prototype.renderView=function(t){var e,i,s,n,a;if(this.viewIndex!==t){for(n=this.viewIndex,this.viewIndex=a=t,i=0;i<this.size;i++)e=this.$body.children[i],(s=this.data[t])?(e.data=s,e.index=t,this.renderItem(e,s),s.mark?e.classList.add("mark"):e.classList.remove("mark")):(e.data=e.index=void 0,e.innerHTML="&nbsp;",e.ready=!1),t++;return this.events["move:view"]&&this.emit("move:view",{prevIndex:n,currIndex:a}),this.events["select:item"]&&this.emit("select:item",{$item:e}),this.scroll&&this.scroll.scrollTo(this.provider?this.provider.head+this.provider.pos:this.viewIndex),!0}return!1},a.prototype.move=function(t){var e=this,i=!1;if(this.data.length)switch(t){case n.left:if(this.type!==this.TYPE_HORIZONTAL)break;i=!0;case n.up:if(i||this.type===this.TYPE_VERTICAL)if(this.$focusItem&&this.$focusItem.index>0)this.$focusItem===this.$body.firstChild?this.renderView(this.viewIndex-1):this.focusItem(this.$focusItem.previousSibling);else if(this.provider){if(this.provider.blocked)return;this.provider.get(t,function(t,i,s){t?e.events["data:error"]&&e.emit("data:error",t):i&&e.setData({data:i,focusIndex:s||0===s?s:e.$focusItem.index})})}else this.cycle&&this.move(n.end),this.events["overflow"]&&this.emit("overflow",{direction:t,cycle:this.cycle});break;case n.right:if(this.type!==this.TYPE_HORIZONTAL)break;i=!0;case n.down:if(i||this.type===this.TYPE_VERTICAL)if(this.$focusItem&&this.$focusItem.index<this.data.length-1)this.$focusItem===this.$body.lastChild?this.renderView(this.viewIndex+1):this.focusItem(this.$focusItem.nextSibling);else if(this.provider){if(this.provider.blocked)return;this.provider.get(t,function(t,i,s){t?e.events["data:error"]&&e.emit("data:error",t):i&&e.setData({data:i,focusIndex:s||0===s?s:e.$focusItem.index})})}else this.cycle&&this.move(n.home),this.events["overflow"]&&this.emit("overflow",{direction:t,cycle:this.cycle});break;case n.pageUp:if(this.provider){if(this.provider.blocked)return;return void this.provider.get(t,function(t,i,s){t?e.events["data:error"]&&e.emit("data:error",t):i&&e.setData({data:i,focusIndex:s||0})})}this.viewIndex<this.size?this.renderView(0):this.renderView(this.viewIndex-this.size+1),this.focusItem(this.$body.firstChild);break;case n.pageDown:if(this.provider){if(this.provider.blocked)return;this.provider.get(t,function(t,i,s){var n;t?e.events["data:error"]&&e.emit("data:error",t):i&&(n=s||0===s?s:i.length<e.size?i.length-1:e.size-1,e.setData({data:i,focusIndex:n}))});break}this.data.length>this.size?(this.viewIndex>this.data.length-2*this.size?this.renderView(this.data.length-this.size):this.renderView(this.viewIndex+this.size-1),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1]);break;case n.home:if(this.provider){if(this.provider.blocked)return;this.provider.get(t,function(t,i,s){t?e.events["data:error"]&&e.emit("data:error",t):i&&e.setData({data:i,focusIndex:s||0})});break}this.renderView(0),this.focusItem(this.$body.firstChild);break;case n.end:if(this.provider){if(this.provider.blocked)return;this.provider.get(t,function(t,i,s){var n;t?e.events["data:error"]&&e.emit("data:error",t):i&&(n=s||0===s?s:i.length<e.size?i.length-1:e.size-1,e.setData({data:i,focusIndex:n}))});break}this.data.length>this.size?(this.renderView(this.data.length-this.size),this.focusItem(this.$body.lastChild)):this.focusItem(this.$body.children[this.data.length-1])}},a.prototype.focusItem=function(t){var e=this.$focusItem;return!(!t||e===t)&&(null!==e&&(e.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:e})),this.$focusItem=t,this.$focusItem.data=this.data[this.$focusItem.index],t.classList.add("focus"),this.events["focus:item"]&&this.emit("focus:item",{$prev:e,$curr:t}),this.events["select:item"]&&this.emit("select:item",{$item:t}),!0)},a.prototype.blurItem=function(t){return!!t&&(t===this.$focusItem&&(this.$focusItem=null),t.classList.remove("focus"),this.events["blur:item"]&&this.emit("blur:item",{$item:t}),!0)},a.prototype.focusIndex=function(t){var e=this.viewIndex||0;t>=e+this.size?(t=t<this.data.length-1?t:this.data.length-1,this.renderView(t-this.size+1),this.focusItem(this.$body.lastChild)):t<e?(t=t>0?t:0,this.renderView(t),this.focusItem(this.$body.firstChild)):(null===this.viewIndex&&this.renderView(0),this.focusItem(this.$body.children[t-e]))},a.prototype.markItem=function(t,e){e?t.classList.add("mark"):t.classList.remove("mark"),t.data.mark=e},t.exports=a},function(t,e,i){"use strict";var s=i(29),n=i(2),a=i(0);function o(t){var e,i,n,o=this;(t=t||{}).events=t.events||{},t.focusable=t.focusable||!1,t.visible=t.visible||!1,t.events.click=t.events.click||function(){o.hide()},n=t.events.keydown,t.events.keydown=function(t){n&&n.call(this,t),t.code!==a.back&&t.code!==a.menu||(t.stop=!0,o.hide())},s.call(this,t),this.$node.appendChild(document.createElement("div")),this.$node.firstChild.classList.add("alignBox"),this.$node.firstChild.appendChild(document.createElement("div")),this.$header=document.createElement("div"),this.$header.className="header",this.$text=this.$header.appendChild(document.createElement("div")),this.$text.classList.add("text"),this.$text.innerText=t.title||"",t.icon&&(this.$icon=this.$header.appendChild(document.createElement("div")),this.$icon.className="icon "+t.icon),(e=document.createElement("div")).className="overlay",i=this.$body.parentNode.removeChild(this.$body),this.$node.firstChild.firstChild.appendChild(this.$header),this.$node.firstChild.firstChild.appendChild(i),this.$node.firstChild.firstChild.appendChild(e)}o.prototype=Object.create(s.prototype),o.prototype.constructor=o,o.prototype.name="mag-component-modal",o.prototype.focus=function(){this.$node.classList.add("active"),s.prototype.focus.call(this),this.children[0]&&this.children[0]instanceof n&&this.children[0].focus()},o.prototype.blur=function(){this.$node.classList.remove("active"),s.prototype.blur.call(this)},t.exports=o},function(t,e,i){"use strict";var s=i(4);s.once("load",function(){i(21).load({name:core.environment.language},function(){s.karaokeBackend=core.plugins.karaokeBackend,i(23).init(!0,!1),s.pages={main:i(24)},s.karaokeBackend.getTracks(s.state.SEARCH?{search:s.state.SEARCH}:{favorite:s.state.DISPLAY_FAV},function(t,e){t||(s.route(s.pages.main,e),s.ready())})})})},function(t,e,i){"use strict";var s=i(1),n=i(16);window.core=window.parent.getCoreInstance(window,s),i(17),i(18),i(6)("sdk"),i(20),i(6)("app"),s.platform="mag",s.ready=function(){window.core.call("app:ready")},s.exit=function(){s.events["exit"]&&s.emit("exit"),core.call("exit")},n.load=function(t){document.body.setAttribute("platform",s.platform),core.ready?s.events["load"]&&s.emit("load",{}):core.once("load",function(){s.events[t.type]&&s.emit(t.type,t)})},n.contextmenu=function(t){t.preventDefault()},Object.keys(n).forEach(function(t){window.addEventListener(t,n[t])}),t.exports=s},function(t,e,i){"use strict";t.exports={parse:function(t){var e={};return t.split("&").forEach(function(t){2===(t=t.split("=")).length&&(e[t[0]]=decodeURIComponent(t[1]))}),e},stringify:function(t){var e=[];return Object.keys(t).forEach(function(i){e.push(i+"="+encodeURIComponent(t[i]))}),e.join("&")}}},function(t,e,i){"use strict";t.exports={}},function(t,e,i){"use strict";var s=i(1);t.exports={DOMContentLoaded:function(t){s.events["dom"]&&s.emit("dom",t)},load:function(t){s.events[t.type]&&s.emit(t.type,t)},unload:function(t){s.events[t.type]&&s.emit(t.type,t)},error:function(t){},keydown:function(t){var e,i=s.activePage,n={code:t.keyCode,stop:!1};t.ctrlKey&&(n.code+="c"),t.altKey&&(n.code+="a"),t.shiftKey&&(n.code+="s"),(e=i.activeComponent)&&e!==i&&(e.events[t.type]&&e.emit(t.type,n,t),!n.stop&&e.propagate&&e.parent&&e.parent.events[t.type]&&e.parent.emit(t.type,n,t)),n.stop||(i.events[t.type]&&i.emit(t.type,n,t),t.stop||s.events[t.type]&&s.emit(t.type,n,t))},keypress:function(t){var e=s.activePage;e.activeComponent&&e.activeComponent!==e&&e.activeComponent.events[t.type]&&e.activeComponent.emit(t.type,t)},mousewheel:function(t){var e=s.activePage;e.activeComponent&&e.activeComponent!==e&&e.activeComponent.events[t.type]&&e.activeComponent.emit(t.type,t),t.stop||e.events[t.type]&&e.emit(t.type,t)}}},function(t,e,i){"use strict";if(!document.documentElement.classList){var s=Array.prototype,n=s.indexOf,a=s.slice,o=s.push,c=s.splice,r=s.join;window.DOMTokenList=function(t){if(this._element=t,t.className!==this._classCache){if(this._classCache=t.className,!this._classCache)return;var e,i=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(e=0;e<i.length;e++)o.call(this,i[e])}},window.DOMTokenList.prototype={add:function(t){this.contains(t)||(o.call(this,t),this._element.className=a.call(this,0).join(" "))},contains:function(t){return-1!==n.call(this,t)},item:function(t){return this[t]||null},remove:function(t){var e=n.call(this,t);-1!==e&&(c.call(this,e,1),this._element.className=a.call(this,0).join(" "))},toString:function(){return r.call(this," ")},toggle:function(t){return this.contains(t)?this.remove(t):this.add(t),this.contains(t)}},Object.defineProperty(Element.prototype,"classList",{get:function(){return new window.DOMTokenList(this)}})}},function(t,e,i){"use strict";var s=i(1),n=i(19);s.metrics=n[s.query.screenHeight]||n[screen.height]||n[720],s.metrics.availHeight=s.metrics.height-(s.metrics.availTop+s.metrics.availBottom),s.metrics.availWidth=s.metrics.width-(s.metrics.availLeft+s.metrics.availRight)},function(t,e,i){"use strict";t.exports={480:{height:480,width:720,availTop:24,availBottom:24,availRight:32,availLeft:48},576:{height:576,width:720,availTop:24,availBottom:24,availRight:26,availLeft:54},720:{height:720,width:1280,availTop:30,availBottom:30,availRight:40,availLeft:40},1080:{height:1080,width:1920,availTop:45,availBottom:45,availRight:60,availLeft:60}}},function(t,e,i){"use strict";var s,n=i(1);(s=document.createElement("link")).rel="stylesheet",s.href=window.core.theme.path+n.metrics.height+".css",document.head.appendChild(s),t.exports=s},function(t,e,i){"use strict";var s=i(5),n=i(22),a=new s;function o(t){var e=new n(t);return window.gettext=window._=e.gettext,window.pgettext=e.pgettext,window.ngettext=e.ngettext,e}a.defaultLanguage="en",a.load=function(t,e){var i;return t.ext=t.ext||"json",t.path=t.path||"lang",t.name===a.defaultLanguage?(o(),e(null),!1):((i=new XMLHttpRequest).onload=function(){try{o(JSON.parse(i.responseText)),e(null),a.events["load"]&&a.emit("load")}catch(t){i.onerror(t)}},i.ontimeout=i.onerror=function(t){o(),e(t),a.events["error"]&&a.emit("error",t)},i.open("GET",t.path+"/"+t.name+"."+t.ext,!0),i.send(null),!0)},t.exports=a},function(module,exports,__webpack_require__){"use strict";function Gettext(config){var data,meta;config=config||{},data=config.data||{},data[""]=data[""]||{},meta=config.meta,this.gettext=function(t){return data[""][t]||t},this.pgettext=function(t,e){return data[t]&&data[t][e]||e},this.ngettext=function(msgId,plural,value){var n,evalResult;return data&&meta&&data[""][msgId]?(evalResult=eval("n = "+value+"; "+meta.plural),"boolean"==typeof evalResult&&(evalResult=+evalResult),data[""][msgId][evalResult]):1===value?msgId:plural}}Gettext.prototype.constructor=Gettext,module.exports=Gettext},function(t,e,i){"use strict";var s=i(4);function n(){Object.keys(s.state).forEach(function(t){String(s.state[t])||delete s.state[t]}),core.state=s.state}t.exports={init:function(t,e){return s.state={},"Object"!==Object.prototype.toString.call(core.state).slice(8,-1)&&(core.state={}),["SEARCH","SORT","DISPLAY_FAV","PANEL_POS"].forEach(function(e){var i=core.state[e];s.state[e]=t?null==i?"":i:""}),s.saveState=t?n:function(){},!0}}},function(t,e,i){"use strict";var s,n,a,o,c,r,d,l,h,u=i(4),p=i(0),m=i(25),f=i(27),v=i(28),y=i(9),b=i(11),g=i(31),$=i(33),x=i(35),C=i(36),w=i(37),k=i(38),E=new m({$node:window.pageMain}),I=document.getElementById("pageMainSongTitle"),L=new $,N=null,S=[],R=[];function T(t,e){I.firstElementChild.innerText=t,I.lastElementChild.innerText=e}function O(t,e){var i=R,a={action:"play",mime:"content/video",data:{uri:t.url,title:t.name,solution:t.solution,mediaId:t.id},context:N,events:{error:function(){},close:function(){N=null,n.focusIndex(s=i.next||e-1),i.next=void 0},prev:function(){var e=i.next;(e=i.next=void 0===e?i.indexOf(t)-1:e-1)<0&&(e=i.length-1),i[i.next].url?O(i[i.next],i.next+1):u.karaokeBackend.getPlaybackLink(i[i.next].id,function(t,e){var s,n;for(s=0,n=S.length;s<n;s+=1)if(S[s].id===i[i.next].id){S[s].url=e.url;break}i[i.next].url=e.url,O(i[i.next],i.next+1)})},next:function(){var e=i.next;(e=i.next=void 0===e?i.indexOf(t)+1:e+1)===i.length&&(e=0),i[i.next].url?O(i[i.next],i.next+1):u.karaokeBackend.getPlaybackLink(i[i.next].id,function(t,e){var s,n;for(s=0,n=S.length;s<n;s+=1)if(S[s].id===i[i.next].id){S[s].url=e.url;break}i[i.next].url=e.url,O(i[i.next],i.next+1)})}}};i[0].id===t.id&&delete a.events.prev,i[i.length-1].id===t.id&&delete a.events.next,core.intent(a,function(t,e){t||(N=e)}),T(e,t.name)}function D(t){return t=t.map(function(t,e){return{items:[{value:""+ ++e,className:"trackNumber"},{value:t.performer,className:"songPerformerListBlock"},{value:t.name,className:"songNameListBlock"},{name:"$favorites",value:"",className:"favoritesBlock theme-icon "+(t.favorite?"theme-icon-favorite-active active":"")}],value:{id:t.id,isFavorite:t.favorite},click:function(){t.url?O(t,e):u.karaokeBackend.getPlaybackLink(t.id,function(i,s){var n,a;for(n=0,a=S.length;n<a;n+=1)if(S[n].id===t.id){S[n].url=s.url;break}t.url=s.url,O(t,e)}),T(e,t.name)}}})}function z(t){var e;if(S=S||[],!R||!R.length)return[];switch(e=R,t){case"PERFORMER":e.sort(function(t,e){return t.performer.toLowerCase().localeCompare(e.performer.toLowerCase())});break;case"NAME":e.sort(function(t,e){return t.name.toLowerCase().localeCompare(e.name.toLowerCase())});break;case"DATE":e.sort(function(t,e){return t.id-e.id})}return e}function P(t){n?(n.setData({data:t,focusIndex:s||0}),r.innerText=t.length):n=new y({data:t,size:7,scroll:L,focusIndex:0,cycle:!0,propagate:!0,noData:gettext("No songs")})}function A(t){t||(t={search:u.state.SEARCH}),u.karaokeBackend.getTracks(t,function(t,e){t&&(e=[]),setTimeout(function(){R=(S=e).slice(),P(D(z(u.state.SORT)))},0)})}function _(t){t?(u.karaokeBackend.getTracks({search:t},function(t,e){R=(S=e).slice(),d.classList.add("active"),P(D(z(u.state.SORT)))}),u.flags.isStationsListInitial=!1,u.flags.isSearched=!0):(u.flags.isStationsListInitial||(A({favorite:u.flags.isFavoritesShown,search:u.state.SEARCH}),u.flags.isStationsListInitial=!0,d.classList.remove("active")),u.flags.isSearched=!1)}function B(){var t=n.$focusItem,e=t.data.value,i=e.isFavorite;u.karaokeBackend.setFavoriteState(e.id,!i,function(){var s,a,o=t.layout.links.$favorites;for(t.data.value.isFavorite=!i,o.className=n.data[n.$focusItem.index].items[3].className="favoritesBlock theme-icon"+(i?"":" theme-icon-favorite-active active"),s=0,a=R.length;s<a;s+=1)if(R[s].id===e.id){R[s].favorite=!i;break}})}function j(){E.modalContextMenu.hide(),E.modalSorting.hide(),E.modalResetFilters.hide(),u.flags.isModalShown=!1,o.focus(),E.footer.show()}function M(t){var e,i,s,c;function m(){u.flags.isStationsListInitial=!0,u.flags.isFavoritesShown=!1,u.state.SORT="NUMBER",u.state.SEARCH="",e.innerText=gettext("By number"),h.className="theme-icon theme-icon-favorite",d.classList.remove("active"),l.innerText=gettext("Search"),A()}s={left:{code:p.menu,action:function(){E.modalResetFilters.show()}},middle:[{code:p.f1,title:gettext("Reset filters"),action:m}]},c={left:{code:p.menu,action:function(){E.modalContextMenu.show()}},middle:[{code:p.f3,title:gettext("Favorites"),action:B},{code:p.f4,title:gettext("Search"),action:function(){i.focus(),w.open({title:gettext("SONG SEARCH"),input:l,value:u.state.SEARCH},function(t){_(u.state.SEARCH=t.value)})}}]},E.footer=new x({parent:E,data:[],visible:!0}),E.modalSorting=new b({parent:E,title:gettext("sorting"),events:{show:function(){this.focus(),o.blur(),u.flags.isModalShown=!0,E.footer.hide()},hide:j},children:[new g({focusIndex:0,size:3,cycle:!0,events:{"click:item":function(t){E.modalSorting.hide(),P(D(z(u.state.SORT=t.$item.value?1===t.$item.value?"NAME":"DATE":"PERFORMER"))),e.innerText=t.$item.data.title}},data:[{state:"PERFORMER"===u.state.SORT,title:gettext("By performer"),value:0},{state:"NAME"===u.state.SORT||!u.state.SORT,title:gettext("By name"),value:1},{state:"DATE"===u.state.SORT,title:gettext("By date"),value:2}]})]}),E.modalResetFilters=new b({parent:E,title:gettext("actions"),events:{show:function(){this.focus(),o.blur(),u.flags.isModalShown=!0,E.footer.hide()},hide:j},children:[new y({size:1,focusIndex:0,data:[{items:[{className:"theme-icon theme-icon-rc-f1"},gettext("Reset filters")],click:function(){m(),j()}}],events:{keydown:function(t){y.prototype.defaultEvents.keydown.call(this,t),t.code===p.menu&&(t.stop=!0,j())}}})]}),E.modalContextMenu=new b({parent:E,title:gettext("actions"),events:{show:function(){this.focus(),o.blur(),u.flags.isModalShown=!0,E.footer.hide()},hide:j},children:[new y({size:1,focusIndex:0,data:[{items:[{value:"",className:"theme-icon theme-icon-rc-f3"},gettext("Favorites")],click:function(){B(),j()}}],events:{keydown:function(t){y.prototype.defaultEvents.keydown.call(this,t),t.code===p.menu&&(t.stop=!0,j())}}})]}),E.footer.init(),P(t),E.add(o=new v({panels:[i=new f({size:1,title:gettext("menu"),children:[new y({cycle:!0,propagate:!0,size:4,focusIndex:0,data:[{items:[d=k("theme-icon theme-icon-search"+(u.state.SEARCH?" active":"")),l=k("inputSearch",u.state.SEARCH||gettext("Search"))],value:{defaultValue:gettext("Search")},click:function(){w.open({title:gettext("SONG SEARCH"),input:l,value:u.state.SEARCH},function(t){_(u.state.SEARCH=t.value)})}},{items:[h=k("theme-icon theme-icon-favorite"),gettext("Favorites")],click:function(){var t=h.classList;A({favorite:u.flags.isFavoritesShown=!u.flags.isFavoritesShown,search:u.state.SEARCH}),t.toggle("theme-icon-favorite"),t.toggle("theme-icon-favorite-active"),t.toggle("active")}},{items:[{className:"theme-icon theme-icon-sort-az"},e=k("theme-item-more","PERFORMER"===u.state.SORT?gettext("By performer"):"DATE"===u.state.SORT?gettext("By date"):gettext("By name"))],click:function(){o.blur(),E.modalSorting.show()}},{items:[{value:"",className:"theme-icon theme-icon-exit"},{value:gettext("Exit"),className:""}],click:function(){u.state.PANEL_POS=o.focusIndex,u.state.DISPLAY_FAV=u.flags.isFavoritesShown,o.blur(),C.goExit()}}]})]}),a=new f({size:2,title:[{value:gettext("songs"),className:"name"},k("amountContainer",r=k("amount",t.length))],main:!0,children:[n]})]})),u.mainPanelSet=o,i.addListener("focus",function(){E.footer.init(s)}),a.addListener("focus",function(){E.footer.init(c)}),a.add(L),o.panels[""===u.state.PANEL_POS?1:u.state.PANEL_POS].focus()}u.flags={isModalShown:!1,isSearched:!!u.state.SEARCH,isFavoritesShown:u.state.DISPLAY_FAV=!!u.state.DISPLAY_FAV,isStationsListInitial:R.length===S.length},E.addListeners({show:function(t){t.data.length?(S=t.data,R=S.slice(),M(D(z(u.state.SORT||"NAME")))):M([]),u.state.SEARCH&&d.classList.add("active"),u.state.DISPLAY_FAV&&(h.classList.remove("theme-icon-favorite"),h.classList.add("theme-icon-favorite-active","active"))},keydown:function(t){t.code===p.back&&(u.flags.isModalShown?j():(u.state.PANEL_POS=o.focusIndex,u.state.DISPLAY_FAV=u.flags.isFavoritesShown,C.goBack()))}}),core.addListeners({show:function(){u.flags.isSearched||u.flags.isFavoritesShown||(E.loaded&&(A(),c=setInterval(A,864e5)),E.loaded=!0)},hide:function(){clearInterval(c)}}),t.exports=E},function(t,e,i){"use strict";t.exports=i(26),t.exports.prototype.name="stb-component-page"},function(t,e,i){"use strict";var s=i(3);function n(t){t=t||{},this.active=!1,this.activeComponent=null,s.call(this,t),this.active=this.$node.classList.contains("active"),null===this.$node.parentNode&&document.body.appendChild(this.$node),this.page=this}n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.name="spa-component-page",t.exports=n},function(t,e,i){"use strict";var s=i(2),n=i(8);function a(t){var e;t=t||{},this.size=1,this.main=!1,this.index=0,t.$body=document.createElement("div"),t.$body.className="body",s.call(this,t),t.size&&(this.size=t.size,this.$node.classList.add("size"+t.size)),t.main&&(this.main=!0,this.$node.classList.add("main")),this.shadows={$left:document.createElement("div"),$right:document.createElement("div")},this.shadows.$left.className="shadow left",this.$node.appendChild(this.shadows.$left),this.shadows.$right.className="shadow right",this.$node.appendChild(this.shadows.$right),t.title&&(Array.isArray(t.title)||(t.title=[t.title]),this.title=new n({className:"title",data:t.title,focusable:!1}),this.$node.appendChild(this.title.$node)),this.$node.appendChild(this.$body),(e=document.createElement("div")).className="overlay",this.$node.appendChild(e)}a.prototype=Object.create(s.prototype),a.prototype.constructor=a,a.prototype.name="mag-component-panel",a.prototype.defaultEvents={focus:function(){this.children.length&&this.children[0].focus()}},a.prototype.focus=function(){this.focusable&&(this.parent.panels[this.parent.focusIndex].$node.classList.remove("active"),this.parent.panels[this.parent.focusIndex].$node.classList.remove("top"),s.prototype.focus.call(this),this.parent.focusIndex=this.index,this.$node.classList.add("active"),this.$node.classList.add("top"),0===this.index&&this.parent.panels[1]&&this.parent.panels[1].main?(this.parent.panels[1].$node.classList.remove("position-left"),this.parent.panels[1].$node.classList.add("position-right"),this.parent.panels[2]&&this.parent.panels[2].$node.classList.remove("expand"),this.$node.classList.add("expand")):2===this.index&&this.parent.panels[1].main&&(this.parent.panels[1].$node.classList.remove("position-right"),this.parent.panels[1].$node.classList.add("position-left"),this.parent.panels[0].$node.classList.remove("expand"),this.$node.classList.add("expand")))},a.prototype.blur=function(){this.parent.panels[this.parent.focusIndex].$node.classList.remove("active"),s.prototype.blur.call(this)},t.exports=a},function(t,e,i){"use strict";var s=i(2),n=i(0);function a(t){var e,i=this;function a(t){switch(t.code){case n.left:i.focusIndex>0&&i.panels[i.focusIndex-1].focus();break;case n.right:i.focusIndex<i.panels.length-1&&i.panels[i.focusIndex+1].focus()}}for((t=t||{}).focusable=t.focusable||!1,s.call(this,t),this.panels=t.panels,this.focusIndex=0,t.panels&&!t.panels[0].main&&(t.panels[0].$node.classList.add("left"),t.panels[0].$node.classList.add("expand")),t.panels&&t.panels[1]&&t.panels[1].main&&t.panels[1].$node.classList.add("position-right"),t.panels&&t.panels[2]&&t.panels[1].main&&t.panels[2].$node.classList.add("right"),t.panels&&this.add.apply(this,t.panels),e=0;e<this.panels.length;e++)this.panels[e].addListeners({keydown:a}),this.panels[e].index=e}a.prototype=Object.create(s.prototype),a.prototype.constructor=a,a.prototype.name="mag-component-panel-set",a.prototype.focus=function(){s.prototype.focus.call(this),this.panels[this.focusIndex].focus()},a.prototype.blur=function(){this.panels[this.focusIndex].blur()},t.exports=a},function(t,e,i){"use strict";t.exports=i(30),t.exports.prototype.name="stb-component-modal"},function(t,e,i){"use strict";var s=i(3);function n(t){(t=t||{}).$body=document.createElement("div"),t.$body.className="body",s.call(this,t),this.$node.appendChild(document.createElement("div").appendChild(this.$body).parentNode)}n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.name="spa-component-modal",t.exports=n},function(t,e,i){"use strict";var s=i(10),n=i(32),a=0;function o(t){var e=this;this.group="group "+a++,this.$checkedData=null,s.call(this,t),this.addListener("click:item",function(t){var i=t.$item;i.checkBox.set(!0),i.state=i.checkBox.value,i.data.state=i.checkBox.value,e.$checkedData!==i.data&&(e.emit("select",{$last:e.$checkedData,$curr:i}),e.$checkedData&&(e.$checkedData.state=!1),e.$checkedData=i.data)})}o.prototype=Object.create(s.prototype),o.prototype.constructor=o,o.prototype.name="mag-component-radio-list",o.prototype.group=0,o.prototype.renderItemDefault=function(t,e){var i=document.createElement("table"),s=document.createElement("tr"),a=document.createElement("td"),o=new n({group:this.group});t.innerHTML="",e.state&&(o.set(!0),this.$checkedData=e),i.appendChild(s),a.appendChild(o.$node),a.className="checkBoxWrapper",s.appendChild(a),(a=document.createElement("td")).className="title",a.innerText=e.title||"",s.appendChild(a),t.checkBox=o,t.state=o.value,t.value=e.value,t.appendChild(i)},o.prototype.renderItem=o.prototype.renderItemDefault,t.exports=o},function(t,e,i){"use strict";var s=i(3),n=i(7),a={};function o(t){t=t||{},this.value=!!t.value,this.value&&(t.className+=" checked"),this.group=null,t.group&&(t.className+=" grouped",this.group=t.group,void 0===a[t.group]?a[t.group]=[this]:a[t.group].push(this)),s.call(this,t)}o.prototype=Object.create(s.prototype),o.prototype.constructor=o,o.prototype.name="spa-component-checkbox",o.prototype.defaultEvents={click:function(){this.set(!this.value)},keydown:function(t){t.code===n.enter&&this.set(!this.value)}},o.prototype.set=function(t){var e,i;if(this.value!==t){if(!this.value&&null!==this.group)for(e=0,i=a[this.group].length;e<i;e++)a[this.group][e].set(!1);return this.value=!this.value,this.$node.classList.toggle("checked"),this.events["change"]&&this.emit("change",{value:this.value}),!0}return!1},t.exports=o},function(t,e,i){"use strict";t.exports=i(34),t.exports.prototype.name="stb-component-scrollbar"},function(t,e,i){"use strict";var s=i(3);function n(t){t=t||{},this.viewSize=10,this.realSize=100,this.value=0,this.type=this.TYPE_VERTICAL,this.thumbRect=null,this.trackRect=null,t.focusable=t.focusable||!1,t.type&&(this.type=t.type),this.type===this.TYPE_HORIZONTAL&&(t.className+=" horizontal"),s.call(this,t),this.$thumb=this.$body.appendChild(document.createElement("div")),this.$thumb.className="thumb",this.init(t)}n.prototype=Object.create(s.prototype),n.prototype.constructor=n,n.prototype.name="spa-component-scrollbar",n.prototype.TYPE_VERTICAL=1,n.prototype.TYPE_HORIZONTAL=2,n.prototype.init=function(t){void 0!==(t=t||{}).realSize&&(this.realSize=t.realSize),void 0!==t.viewSize&&(this.viewSize=t.viewSize),this.viewSize>=this.realSize?this.$thumb.classList.add("hidden"):this.$thumb.classList.remove("hidden"),void 0!==t.value&&this.scrollTo(t.value),this.type===this.TYPE_VERTICAL?this.$thumb.style.height=this.viewSize/this.realSize*100+"%":this.$thumb.style.width=this.viewSize/this.realSize*100+"%",this.thumbRect=this.$thumb.getBoundingClientRect(),this.trackRect=this.$node.getBoundingClientRect()},n.prototype.scrollTo=function(t){return this.value!==t&&(0!==this.thumbRect.height&&0!==this.thumbRect.width||(this.trackRect=this.$node.getBoundingClientRect(),this.thumbRect=this.$thumb.getBoundingClientRect()),this.type===this.TYPE_VERTICAL?this.$thumb.style.marginTop=(this.trackRect.height-this.thumbRect.height)*t/(this.realSize-this.viewSize)+"px":this.$thumb.style.marginLeft=(this.trackRect.width-this.thumbRect.width)*t/(this.realSize-this.viewSize)+"px",this.events["change"]&&this.emit("change",{curr:t,prev:this.value}),t>=this.realSize&&(t=this.realSize,this.events["done"]&&this.emit("done")),this.value=t,!0)},t.exports=n},function(t,e,i){"use strict";var s=i(2),n=i(0),a={};function o(t){var e=0,i=this;(t=t||{}).focusable=!1,t.visible=t.visible||!1,t.$body=document.createElement("div"),t.$body.className="body",s.call(this,t),this.tabs=[{codes:{}},{codes:{}},{codes:{}},{codes:{}}],this.tab=0,this.$table=this.$node.appendChild(document.createElement("table")),this.$table.insertRow(),this.$table.rows[0].insertCell(-1),this.$left=this.$table.rows[0].cells[0].appendChild(document.createElement("div")),this.$left.className="theme-icon",this.$table.rows[0].insertCell(-1),this.$table.rows[0].cells[1].className="central",this.tabs[e].$body=this.$table.rows[0].cells[1].appendChild(document.createElement("div")),this.tabs[e].$body.className="wrapper hidden",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",++e,this.tabs[e].$body=this.$table.rows[0].cells[1].appendChild(document.createElement("div")),this.tabs[e].$body.className="wrapper hidden",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",++e,this.tabs[e].$body=this.$table.rows[0].cells[1].appendChild(document.createElement("div")),this.tabs[e].$body.className="wrapper hidden",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",++e,this.tabs[e].$body=this.$table.rows[0].cells[1].appendChild(document.createElement("div")),this.tabs[e].$body.className="wrapper hidden",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",this.tabs[e].$body.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.className="button",this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.appendChild(document.createElement("div")),this.tabs[e].$body.lastChild.lastChild.className="title",this.$table.rows[0].insertCell(-1),this.$right=this.$table.rows[0].cells[2].appendChild(document.createElement("div")),this.$right.className="theme-icon",this.init(t.data),this.parent.addListener("keydown",function(t){var e=i.tabs[i.tab];i.visible&&e.codes[t.code]&&"function"==typeof e.codes[t.code].action&&e.codes[t.code].action()})}a[n.f1]="theme-icon-rc-f1",a[n.f2]="theme-icon-rc-f2",a[n.f3]="theme-icon-rc-f3",a[n.f4]="theme-icon-rc-f4",a[n.menu]="theme-icon-rc-menu",a[n.ok]="theme-icon-rc-ok",a[n.info]="theme-icon-rc-info",a[n.playPause]="theme-icon-rc-play-pause",a[n.back]="theme-icon-rc-back",a[n.exit]="theme-icon-rc-home",a[n.keyboard]="theme-icon-rc-vk",a[n.refresh]="theme-icon-rc-refresh",a[n.frame]="theme-icon-rc-aspect",o.prototype=Object.create(s.prototype),o.prototype.constructor=o,o.prototype.name="mag-component-footer",o.prototype.init=function(t){var e,i,s;function n(e){return function(){"function"==typeof t.middle[e].action&&t.middle[e].action()}}if(t=t||{},this.tabs[this.tab].$body.classList.add("hidden"),this.tab=t.middle&&t.middle.length?t.middle.length-1:0,(i=this.tabs[this.tab]).codes={},t.left?(this.$left.className=t.left.className||"theme-icon "+(a[t.left.code]||"theme-icon-warning"),t.left.disabled?this.$left.classList.add("disabled"):(i.codes[t.left.code]={action:t.left.action},this.$left.style.visibility="inherit",this.$left.onclick=function(){"function"==typeof t.left.action&&t.left.action()})):"hidden"!==this.$left.style.visibility&&(this.$left.style.visibility="hidden"),t.right?(this.$right.className=t.right.className||"theme-icon "+(a[t.right.code]||"theme-icon-warning"),t.right.disabled?this.$right.classList.add("disabled"):(i.codes[t.right.code]={action:t.right.action},this.$right.style.visibility="inherit",this.$right.onclick=function(){"function"==typeof t.right.action&&t.right.action()})):"hidden"!==this.$right.style.visibility&&(this.$right.style.visibility="hidden"),t.middle&&t.middle.length){for(e=0;e<t.middle.length;e++)i.codes[t.middle[e].code]={action:t.middle[e].action},t.middle[e].disabled?i.$body.children[e].classList.add("disabled"):(i.$body.children[e].classList.remove("disabled"),i.$body.children[e].onclick=n(e)),(s=i.$body.children[e].children)[0].className="iconImg "+(t.middle[e].className||"theme-icon "+(a[t.middle[e].code]||"theme-icon-warning")),s[1].innerText=t.middle[e].title||"";i.$body.classList.remove("hidden")}},t.exports=o},function(t,e,i){"use strict";var s=i(4),n={goBack:function(){s.saveState(),core.call("stop")},goHome:function(){},goExit:function(t){var e,n=i(11),a=i(9),o=i(0),c=s.activePage.activeComponent;s.activePage.add(e=new n({title:gettext("Exit"),events:{show:function(){this.children[0].focus()},hide:function(){c.focus()}},children:[new a({className:"padded",size:2,focusIndex:0,data:[{items:[{value:gettext("Yes")}],click:function(){if("function"==typeof t&&t(!0))return e.hide(),void e.remove();e.hide(),e.remove(),s.saveState(),core.call("exit")}},{items:[{value:gettext("No")}],click:function(){"function"==typeof t&&t(!1),e.hide(),e.remove(),s.mainPanelSet.focus()}}],events:{keydown:function(i){a.prototype.defaultEvents.keydown.call(this,i),i.code===o.back&&(i.stop=!0,"function"==typeof t&&t(!1),e.hide(),e.remove(),s.mainPanelSet.focus())}}})]})),e.show(),e.focus()}};t.exports=n},function(t,e,i){"use strict";e.open=function(t,e){core.intent({action:"keyboard",data:{title:t.title,value:t.value||""},events:{done:function(i){var s=t.input;s.innerText=i.value||s.parentNode.parentNode.data.value.defaultValue,e&&e(i)}}},function(t){})}},function(t,e,i){"use strict";t.exports=function(t){var e,i,s=document.createElement("div");for(t&&(s.className=t),i=1;i<arguments.length;i+=1)e=arguments[i],s.appendChild(e instanceof Element?e:document.createTextNode(e));return s}}]);
//# sourceMappingURL=main.js.map